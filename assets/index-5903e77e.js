function S8(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w8={exports:{}},I0={},E8={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=Symbol.for("react.element"),TR=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),bR=Symbol.for("react.strict_mode"),PR=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),IR=Symbol.for("react.forward_ref"),OR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),NR=Symbol.for("react.lazy"),v4=Symbol.iterator;function UR(n){return n===null||typeof n!="object"?null:(n=v4&&n[v4]||n["@@iterator"],typeof n=="function"?n:null)}var M8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C8=Object.assign,T8={};function oc(n,e,t){this.props=n,this.context=e,this.refs=T8,this.updater=t||M8}oc.prototype.isReactComponent={};oc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};oc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function A8(){}A8.prototype=oc.prototype;function cx(n,e,t){this.props=n,this.context=e,this.refs=T8,this.updater=t||M8}var fx=cx.prototype=new A8;fx.constructor=cx;C8(fx,oc.prototype);fx.isPureReactComponent=!0;var y4=Array.isArray,b8=Object.prototype.hasOwnProperty,hx={current:null},P8={key:!0,ref:!0,__self:!0,__source:!0};function R8(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b8.call(e,i)&&!P8.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Lh,type:n,key:s,ref:o,props:r,_owner:hx.current}}function kR(n,e){return{$$typeof:Lh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function dx(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lh}function FR(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var x4=/\/+/g;function l2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?FR(""+n.key):e.toString(36)}function lm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Lh:case TR:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+l2(o,0):i,y4(r)?(t="",n!=null&&(t=n.replace(x4,"$&/")+"/"),lm(r,e,t,"",function(u){return u})):r!=null&&(dx(r)&&(r=kR(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(x4,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",y4(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+l2(s,a);o+=lm(s,e,t,l,r)}else if(l=UR(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+l2(s,a++),o+=lm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $d(n,e,t){if(n==null)return n;var i=[],r=0;return lm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function BR(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ei={current:null},um={transition:null},zR={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:um,ReactCurrentOwner:hx};At.Children={map:$d,forEach:function(n,e,t){$d(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return $d(n,function(){e++}),e},toArray:function(n){return $d(n,function(e){return e})||[]},only:function(n){if(!dx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=oc;At.Fragment=AR;At.Profiler=PR;At.PureComponent=cx;At.StrictMode=bR;At.Suspense=OR;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=C8({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)b8.call(e,l)&&!P8.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Lh,type:n.type,key:r,ref:s,props:i,_owner:o}};At.createContext=function(n){return n={$$typeof:LR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:RR,_context:n},n.Consumer=n};At.createElement=R8;At.createFactory=function(n){var e=R8.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:IR,render:n}};At.isValidElement=dx;At.lazy=function(n){return{$$typeof:NR,_payload:{_status:-1,_result:n},_init:BR}};At.memo=function(n,e){return{$$typeof:DR,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=um.transition;um.transition={};try{n()}finally{um.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return Ei.current.useCallback(n,e)};At.useContext=function(n){return Ei.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return Ei.current.useDeferredValue(n)};At.useEffect=function(n,e){return Ei.current.useEffect(n,e)};At.useId=function(){return Ei.current.useId()};At.useImperativeHandle=function(n,e,t){return Ei.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return Ei.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return Ei.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return Ei.current.useMemo(n,e)};At.useReducer=function(n,e,t){return Ei.current.useReducer(n,e,t)};At.useRef=function(n){return Ei.current.useRef(n)};At.useState=function(n){return Ei.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return Ei.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return Ei.current.useTransition()};At.version="18.2.0";E8.exports=At;var $=E8.exports;const M=L0($),VR=S8({__proto__:null,default:M},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=$,GR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),jR=Object.prototype.hasOwnProperty,XR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$R={key:!0,ref:!0,__self:!0,__source:!0};function L8(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)jR.call(e,i)&&!$R.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:GR,type:n,key:s,ref:o,props:r,_owner:XR.current}}I0.Fragment=WR;I0.jsx=L8;I0.jsxs=L8;w8.exports=I0;var Te=w8.exports,Qv={},I8={exports:{}},ir={},O8={exports:{}},D8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,X){var q=U.length;U.push(X);e:for(;0<q;){var W=q-1>>>1,J=U[W];if(0<r(J,X))U[W]=X,U[q]=J,q=W;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var X=U[0],q=U.pop();if(q!==X){U[0]=q;e:for(var W=0,J=U.length,Se=J>>>1;W<Se;){var we=2*(W+1)-1,Ee=U[we],Oe=we+1,ze=U[Oe];if(0>r(Ee,q))Oe<J&&0>r(ze,Ee)?(U[W]=ze,U[Oe]=q,W=Oe):(U[W]=Ee,U[we]=q,W=we);else if(Oe<J&&0>r(ze,q))U[W]=ze,U[Oe]=q,W=Oe;else break e}}return X}function r(U,X){var q=U.sortIndex-X.sortIndex;return q!==0?q:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,g=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=U)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(U){if(S=!1,_(U),!g)if(t(l)!==null)g=!0,Q(A);else{var X=t(u);X!==null&&te(C,X.startTime-U)}}function A(U,X){g=!1,S&&(S=!1,v(O),O=-1),m=!0;var q=p;try{for(_(X),d=t(l);d!==null&&(!(d.expirationTime>X)||U&&!F());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var J=W(d.expirationTime<=X);X=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),_(X)}else i(l);d=t(l)}if(d!==null)var Se=!0;else{var we=t(u);we!==null&&te(C,we.startTime-X),Se=!1}return Se}finally{d=null,p=q,m=!1}}var P=!1,L=null,O=-1,b=5,I=-1;function F(){return!(n.unstable_now()-I<b)}function Z(){if(L!==null){var U=n.unstable_now();I=U;var X=!0;try{X=L(!0,U)}finally{X?j():(P=!1,L=null)}}else P=!1}var j;if(typeof x=="function")j=function(){x(Z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=Z,j=function(){z.postMessage(null)}}else j=function(){w(Z,0)};function Q(U){L=U,P||(P=!0,j())}function te(U,X){O=w(function(){U(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,Q(A))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var q=p;p=X;try{return U()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=p;p=U;try{return X()}finally{p=q}},n.unstable_scheduleCallback=function(U,X,q){var W=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,U={id:h++,callback:X,priorityLevel:U,startTime:q,expirationTime:J,sortIndex:-1},q>W?(U.sortIndex=q,e(u,U),t(l)===null&&U===t(u)&&(S?(v(O),O=-1):S=!0,te(C,q-W))):(U.sortIndex=J,e(l,U),g||m||(g=!0,Q(A))),U},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(U){var X=p;return function(){var q=p;p=X;try{return U.apply(this,arguments)}finally{p=q}}}})(D8);O8.exports=D8;var YR=O8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=$,er=YR;function Ie(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U8=new Set,zf={};function fl(n,e){Wu(n,e),Wu(n+"Capture",e)}function Wu(n,e){for(zf[n]=e,n=0;n<e.length;n++)U8.add(e[n])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ey=Object.prototype.hasOwnProperty,qR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_4={},S4={};function ZR(n){return ey.call(S4,n)?!0:ey.call(_4,n)?!1:qR.test(n)?S4[n]=!0:(_4[n]=!0,!1)}function KR(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function JR(n,e,t,i){if(e===null||typeof e>"u"||KR(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Kn[n]=new Mi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Kn[e]=new Mi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Kn[n]=new Mi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Kn[n]=new Mi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Kn[n]=new Mi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Kn[n]=new Mi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Kn[n]=new Mi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Kn[n]=new Mi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Kn[n]=new Mi(n,5,!1,n.toLowerCase(),null,!1,!1)});var px=/[\-:]([a-z])/g;function mx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(px,mx);Kn[e]=new Mi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(px,mx);Kn[e]=new Mi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(px,mx);Kn[e]=new Mi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Kn[n]=new Mi(n,1,!1,n.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Kn[n]=new Mi(n,1,!1,n.toLowerCase(),null,!0,!0)});function gx(n,e,t,i){var r=Kn.hasOwnProperty(e)?Kn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JR(e,t,r,i)&&(t=null),i||r===null?ZR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var io=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yd=Symbol.for("react.element"),du=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),ty=Symbol.for("react.profiler"),k8=Symbol.for("react.provider"),F8=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),ny=Symbol.for("react.suspense"),iy=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),B8=Symbol.for("react.offscreen"),w4=Symbol.iterator;function Uc(n){return n===null||typeof n!="object"?null:(n=w4&&n[w4]||n["@@iterator"],typeof n=="function"?n:null)}var an=Object.assign,u2;function uf(n){if(u2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);u2=e&&e[1]||""}return`
`+u2+n}var c2=!1;function f2(n,e){if(!n||c2)return"";c2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{c2=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?uf(n):""}function QR(n){switch(n.tag){case 5:return uf(n.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return n=f2(n.type,!1),n;case 11:return n=f2(n.type.render,!1),n;case 1:return n=f2(n.type,!0),n;default:return""}}function ry(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case pu:return"Fragment";case du:return"Portal";case ty:return"Profiler";case vx:return"StrictMode";case ny:return"Suspense";case iy:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F8:return(n.displayName||"Context")+".Consumer";case k8:return(n._context.displayName||"Context")+".Provider";case yx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xx:return e=n.displayName||null,e!==null?e:ry(n.type)||"Memo";case wo:e=n._payload,n=n._init;try{return ry(n(e))}catch{}}return null}function eL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function z8(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tL(n){var e=z8(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qd(n){n._valueTracker||(n._valueTracker=tL(n))}function V8(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=z8(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Pm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function sy(n,e){var t=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function E4(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=qo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H8(n,e){e=e.checked,e!=null&&gx(n,"checked",e,!1)}function oy(n,e){H8(n,e);var t=qo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ay(n,e.type,t):e.hasOwnProperty("defaultValue")&&ay(n,e.type,qo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function M4(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ay(n,e,t){(e!=="number"||Pm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var cf=Array.isArray;function Du(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+qo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function ly(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function C4(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ie(92));if(cf(t)){if(1<t.length)throw Error(Ie(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:qo(t)}}function G8(n,e){var t=qo(e.value),i=qo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function T4(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function W8(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?W8(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Zd,j8=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Vf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nL=["Webkit","ms","Moz","O"];Object.keys(xf).forEach(function(n){nL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),xf[e]=xf[n]})});function X8(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||xf.hasOwnProperty(n)&&xf[n]?(""+e).trim():e+"px"}function $8(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=X8(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var iL=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(n,e){if(e){if(iL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function fy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=null;function _x(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dy=null,Nu=null,Uu=null;function A4(n){if(n=Dh(n)){if(typeof dy!="function")throw Error(Ie(280));var e=n.stateNode;e&&(e=k0(e),dy(n.stateNode,n.type,e))}}function Y8(n){Nu?Uu?Uu.push(n):Uu=[n]:Nu=n}function q8(){if(Nu){var n=Nu,e=Uu;if(Uu=Nu=null,A4(n),e)for(n=0;n<e.length;n++)A4(e[n])}}function Z8(n,e){return n(e)}function K8(){}var h2=!1;function J8(n,e,t){if(h2)return n(e,t);h2=!0;try{return Z8(n,e,t)}finally{h2=!1,(Nu!==null||Uu!==null)&&(K8(),q8())}}function Hf(n,e){var t=n.stateNode;if(t===null)return null;var i=k0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ie(231,e,typeof t));return t}var py=!1;if(Ys)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){py=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{py=!1}function rL(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var _f=!1,Rm=null,Lm=!1,my=null,sL={onError:function(n){_f=!0,Rm=n}};function oL(n,e,t,i,r,s,o,a,l){_f=!1,Rm=null,rL.apply(sL,arguments)}function aL(n,e,t,i,r,s,o,a,l){if(oL.apply(this,arguments),_f){if(_f){var u=Rm;_f=!1,Rm=null}else throw Error(Ie(198));Lm||(Lm=!0,my=u)}}function hl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Q8(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function b4(n){if(hl(n)!==n)throw Error(Ie(188))}function lL(n){var e=n.alternate;if(!e){if(e=hl(n),e===null)throw Error(Ie(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return b4(r),n;if(s===i)return b4(r),e;s=s.sibling}throw Error(Ie(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(t.alternate!==i)throw Error(Ie(190))}if(t.tag!==3)throw Error(Ie(188));return t.stateNode.current===t?n:e}function eC(n){return n=lL(n),n!==null?tC(n):null}function tC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=tC(n);if(e!==null)return e;n=n.sibling}return null}var nC=er.unstable_scheduleCallback,P4=er.unstable_cancelCallback,uL=er.unstable_shouldYield,cL=er.unstable_requestPaint,Sn=er.unstable_now,fL=er.unstable_getCurrentPriorityLevel,Sx=er.unstable_ImmediatePriority,iC=er.unstable_UserBlockingPriority,Im=er.unstable_NormalPriority,hL=er.unstable_LowPriority,rC=er.unstable_IdlePriority,O0=null,fs=null;function dL(n){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(O0,n,void 0,(n.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:gL,pL=Math.log,mL=Math.LN2;function gL(n){return n>>>=0,n===0?32:31-(pL(n)/mL|0)|0}var Kd=64,Jd=4194304;function ff(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Om(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=ff(a):(s&=o,s!==0&&(i=ff(s)))}else o=t&~r,o!==0?i=ff(o):s!==0&&(i=ff(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-zr(e),r=1<<t,i|=n[t],e&=~r;return i}function vL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yL(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-zr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=vL(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function gy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function sC(){var n=Kd;return Kd<<=1,!(Kd&4194240)&&(Kd=64),n}function d2(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ih(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-zr(e),n[e]=t}function xL(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-zr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function wx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-zr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var kt=0;function oC(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aC,Ex,lC,uC,cC,vy=!1,Qd=[],Io=null,Oo=null,Do=null,Gf=new Map,Wf=new Map,To=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R4(n,e){switch(n){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(e.pointerId)}}function Fc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Dh(e),e!==null&&Ex(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function SL(n,e,t,i,r){switch(e){case"focusin":return Io=Fc(Io,n,e,t,i,r),!0;case"dragenter":return Oo=Fc(Oo,n,e,t,i,r),!0;case"mouseover":return Do=Fc(Do,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Gf.set(s,Fc(Gf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Wf.set(s,Fc(Wf.get(s)||null,n,e,t,i,r)),!0}return!1}function fC(n){var e=Va(n.target);if(e!==null){var t=hl(e);if(t!==null){if(e=t.tag,e===13){if(e=Q8(t),e!==null){n.blockedOn=e,cC(n.priority,function(){lC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=yy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);hy=i,t.target.dispatchEvent(i),hy=null}else return e=Dh(t),e!==null&&Ex(e),n.blockedOn=t,!1;e.shift()}return!0}function L4(n,e,t){cm(n)&&t.delete(e)}function wL(){vy=!1,Io!==null&&cm(Io)&&(Io=null),Oo!==null&&cm(Oo)&&(Oo=null),Do!==null&&cm(Do)&&(Do=null),Gf.forEach(L4),Wf.forEach(L4)}function Bc(n,e){n.blockedOn===e&&(n.blockedOn=null,vy||(vy=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,wL)))}function jf(n){function e(r){return Bc(r,n)}if(0<Qd.length){Bc(Qd[0],n);for(var t=1;t<Qd.length;t++){var i=Qd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Io!==null&&Bc(Io,n),Oo!==null&&Bc(Oo,n),Do!==null&&Bc(Do,n),Gf.forEach(e),Wf.forEach(e),t=0;t<To.length;t++)i=To[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<To.length&&(t=To[0],t.blockedOn===null);)fC(t),t.blockedOn===null&&To.shift()}var ku=io.ReactCurrentBatchConfig,Dm=!0;function EL(n,e,t,i){var r=kt,s=ku.transition;ku.transition=null;try{kt=1,Mx(n,e,t,i)}finally{kt=r,ku.transition=s}}function ML(n,e,t,i){var r=kt,s=ku.transition;ku.transition=null;try{kt=4,Mx(n,e,t,i)}finally{kt=r,ku.transition=s}}function Mx(n,e,t,i){if(Dm){var r=yy(n,e,t,i);if(r===null)E2(n,e,i,Nm,t),R4(n,i);else if(SL(r,n,e,t,i))i.stopPropagation();else if(R4(n,i),e&4&&-1<_L.indexOf(n)){for(;r!==null;){var s=Dh(r);if(s!==null&&aC(s),s=yy(n,e,t,i),s===null&&E2(n,e,i,Nm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else E2(n,e,i,null,t)}}var Nm=null;function yy(n,e,t,i){if(Nm=null,n=_x(i),n=Va(n),n!==null)if(e=hl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Q8(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Nm=n,null}function hC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fL()){case Sx:return 1;case iC:return 4;case Im:case hL:return 16;case rC:return 536870912;default:return 16}default:return 16}}var Po=null,Cx=null,fm=null;function dC(){if(fm)return fm;var n,e=Cx,t=e.length,i,r="value"in Po?Po.value:Po.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return fm=r.slice(n,1<i?1-i:void 0)}function hm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ep(){return!0}function I4(){return!1}function rr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:I4,this.isPropagationStopped=I4,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tx=rr(ac),Oh=an({},ac,{view:0,detail:0}),CL=rr(Oh),p2,m2,zc,D0=an({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ax,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zc&&(zc&&n.type==="mousemove"?(p2=n.screenX-zc.screenX,m2=n.screenY-zc.screenY):m2=p2=0,zc=n),p2)},movementY:function(n){return"movementY"in n?n.movementY:m2}}),O4=rr(D0),TL=an({},D0,{dataTransfer:0}),AL=rr(TL),bL=an({},Oh,{relatedTarget:0}),g2=rr(bL),PL=an({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),RL=rr(PL),LL=an({},ac,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),IL=rr(LL),OL=an({},ac,{data:0}),D4=rr(OL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=UL[n])?!!e[n]:!1}function Ax(){return kL}var FL=an({},Oh,{key:function(n){if(n.key){var e=DL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=hm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ax,charCode:function(n){return n.type==="keypress"?hm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),BL=rr(FL),zL=an({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N4=rr(zL),VL=an({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ax}),HL=rr(VL),GL=an({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=rr(GL),jL=an({},D0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),XL=rr(jL),$L=[9,13,27,32],bx=Ys&&"CompositionEvent"in window,Sf=null;Ys&&"documentMode"in document&&(Sf=document.documentMode);var YL=Ys&&"TextEvent"in window&&!Sf,pC=Ys&&(!bx||Sf&&8<Sf&&11>=Sf),U4=String.fromCharCode(32),k4=!1;function mC(n,e){switch(n){case"keyup":return $L.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mu=!1;function qL(n,e){switch(n){case"compositionend":return gC(e);case"keypress":return e.which!==32?null:(k4=!0,U4);case"textInput":return n=e.data,n===U4&&k4?null:n;default:return null}}function ZL(n,e){if(mu)return n==="compositionend"||!bx&&mC(n,e)?(n=dC(),fm=Cx=Po=null,mu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pC&&e.locale!=="ko"?null:e.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!KL[n.type]:e==="textarea"}function vC(n,e,t,i){Y8(i),e=Um(e,"onChange"),0<e.length&&(t=new Tx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var wf=null,Xf=null;function JL(n){bC(n,0)}function N0(n){var e=yu(n);if(V8(e))return n}function QL(n,e){if(n==="change")return e}var yC=!1;if(Ys){var v2;if(Ys){var y2="oninput"in document;if(!y2){var B4=document.createElement("div");B4.setAttribute("oninput","return;"),y2=typeof B4.oninput=="function"}v2=y2}else v2=!1;yC=v2&&(!document.documentMode||9<document.documentMode)}function z4(){wf&&(wf.detachEvent("onpropertychange",xC),Xf=wf=null)}function xC(n){if(n.propertyName==="value"&&N0(Xf)){var e=[];vC(e,Xf,n,_x(n)),J8(JL,e)}}function eI(n,e,t){n==="focusin"?(z4(),wf=e,Xf=t,wf.attachEvent("onpropertychange",xC)):n==="focusout"&&z4()}function tI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return N0(Xf)}function nI(n,e){if(n==="click")return N0(e)}function iI(n,e){if(n==="input"||n==="change")return N0(e)}function rI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gr=typeof Object.is=="function"?Object.is:rI;function $f(n,e){if(Gr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!ey.call(e,r)||!Gr(n[r],e[r]))return!1}return!0}function V4(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function H4(n,e){var t=V4(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=V4(t)}}function _C(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_C(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var n=window,e=Pm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Pm(n.document)}return e}function Px(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function sI(n){var e=SC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&_C(t.ownerDocument.documentElement,t)){if(i!==null&&Px(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=H4(t,s);var o=H4(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var oI=Ys&&"documentMode"in document&&11>=document.documentMode,gu=null,xy=null,Ef=null,_y=!1;function G4(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;_y||gu==null||gu!==Pm(i)||(i=gu,"selectionStart"in i&&Px(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ef&&$f(Ef,i)||(Ef=i,i=Um(xy,"onSelect"),0<i.length&&(e=new Tx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=gu)))}function tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vu={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},x2={},wC={};Ys&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function U0(n){if(x2[n])return x2[n];if(!vu[n])return n;var e=vu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wC)return x2[n]=e[t];return n}var EC=U0("animationend"),MC=U0("animationiteration"),CC=U0("animationstart"),TC=U0("transitionend"),AC=new Map,W4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(n,e){AC.set(n,e),fl(e,[n])}for(var _2=0;_2<W4.length;_2++){var S2=W4[_2],aI=S2.toLowerCase(),lI=S2[0].toUpperCase()+S2.slice(1);ra(aI,"on"+lI)}ra(EC,"onAnimationEnd");ra(MC,"onAnimationIteration");ra(CC,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(TC,"onTransitionEnd");Wu("onMouseEnter",["mouseout","mouseover"]);Wu("onMouseLeave",["mouseout","mouseover"]);Wu("onPointerEnter",["pointerout","pointerover"]);Wu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uI=new Set("cancel close invalid load scroll toggle".split(" ").concat(hf));function j4(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,aL(i,e,void 0,n),n.currentTarget=null}function bC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;j4(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;j4(r,a,u),s=l}}}if(Lm)throw n=my,Lm=!1,my=null,n}function Yt(n,e){var t=e[Cy];t===void 0&&(t=e[Cy]=new Set);var i=n+"__bubble";t.has(i)||(PC(e,n,2,!1),t.add(i))}function w2(n,e,t){var i=0;e&&(i|=4),PC(t,n,i,e)}var np="_reactListening"+Math.random().toString(36).slice(2);function Yf(n){if(!n[np]){n[np]=!0,U8.forEach(function(t){t!=="selectionchange"&&(uI.has(t)||w2(t,!1,n),w2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[np]||(e[np]=!0,w2("selectionchange",!1,e))}}function PC(n,e,t,i){switch(hC(e)){case 1:var r=EL;break;case 4:r=ML;break;default:r=Mx}t=r.bind(null,e,t,n),r=void 0,!py||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function E2(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Va(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}J8(function(){var u=s,h=_x(t),d=[];e:{var p=AC.get(n);if(p!==void 0){var m=Tx,g=n;switch(n){case"keypress":if(hm(t)===0)break e;case"keydown":case"keyup":m=BL;break;case"focusin":g="focus",m=g2;break;case"focusout":g="blur",m=g2;break;case"beforeblur":case"afterblur":m=g2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=O4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HL;break;case EC:case MC:case CC:m=RL;break;case TC:m=WL;break;case"scroll":m=CL;break;case"wheel":m=XL;break;case"copy":case"cut":case"paste":m=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N4}var S=(e&4)!==0,w=!S&&n==="scroll",v=S?p!==null?p+"Capture":null:p;S=[];for(var x=u,_;x!==null;){_=x;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,v!==null&&(C=Hf(x,v),C!=null&&S.push(qf(x,C,_)))),w)break;x=x.return}0<S.length&&(p=new m(p,g,null,t,h),d.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==hy&&(g=t.relatedTarget||t.fromElement)&&(Va(g)||g[qs]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?Va(g):null,g!==null&&(w=hl(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(S=O4,C="onMouseLeave",v="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(S=N4,C="onPointerLeave",v="onPointerEnter",x="pointer"),w=m==null?p:yu(m),_=g==null?p:yu(g),p=new S(C,x+"leave",m,t,h),p.target=w,p.relatedTarget=_,C=null,Va(h)===u&&(S=new S(v,x+"enter",g,t,h),S.target=_,S.relatedTarget=w,C=S),w=C,m&&g)t:{for(S=m,v=g,x=0,_=S;_;_=kl(_))x++;for(_=0,C=v;C;C=kl(C))_++;for(;0<x-_;)S=kl(S),x--;for(;0<_-x;)v=kl(v),_--;for(;x--;){if(S===v||v!==null&&S===v.alternate)break t;S=kl(S),v=kl(v)}S=null}else S=null;m!==null&&X4(d,p,m,S,!1),g!==null&&w!==null&&X4(d,w,g,S,!0)}}e:{if(p=u?yu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=QL;else if(F4(p))if(yC)A=iI;else{A=tI;var P=eI}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=nI);if(A&&(A=A(n,u))){vC(d,A,t,h);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&ay(p,"number",p.value)}switch(P=u?yu(u):window,n){case"focusin":(F4(P)||P.contentEditable==="true")&&(gu=P,xy=u,Ef=null);break;case"focusout":Ef=xy=gu=null;break;case"mousedown":_y=!0;break;case"contextmenu":case"mouseup":case"dragend":_y=!1,G4(d,t,h);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":G4(d,t,h)}var L;if(bx)e:{switch(n){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else mu?mC(n,t)&&(O="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(O="onCompositionStart");O&&(pC&&t.locale!=="ko"&&(mu||O!=="onCompositionStart"?O==="onCompositionEnd"&&mu&&(L=dC()):(Po=h,Cx="value"in Po?Po.value:Po.textContent,mu=!0)),P=Um(u,O),0<P.length&&(O=new D4(O,n,null,t,h),d.push({event:O,listeners:P}),L?O.data=L:(L=gC(t),L!==null&&(O.data=L)))),(L=YL?qL(n,t):ZL(n,t))&&(u=Um(u,"onBeforeInput"),0<u.length&&(h=new D4("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=L))}bC(d,e)})}function qf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Um(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Hf(n,t),s!=null&&i.unshift(qf(n,s,r)),s=Hf(n,e),s!=null&&i.push(qf(n,s,r))),n=n.return}return i}function kl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function X4(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Hf(t,s),l!=null&&o.unshift(qf(t,l,a))):r||(l=Hf(t,s),l!=null&&o.push(qf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var cI=/\r\n?/g,fI=/\u0000|\uFFFD/g;function $4(n){return(typeof n=="string"?n:""+n).replace(cI,`
`).replace(fI,"")}function ip(n,e,t){if(e=$4(e),$4(n)!==e&&t)throw Error(Ie(425))}function km(){}var Sy=null,wy=null;function Ey(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,hI=typeof clearTimeout=="function"?clearTimeout:void 0,Y4=typeof Promise=="function"?Promise:void 0,dI=typeof queueMicrotask=="function"?queueMicrotask:typeof Y4<"u"?function(n){return Y4.resolve(null).then(n).catch(pI)}:My;function pI(n){setTimeout(function(){throw n})}function M2(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),jf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);jf(e)}function No(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function q4(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var lc=Math.random().toString(36).slice(2),os="__reactFiber$"+lc,Zf="__reactProps$"+lc,qs="__reactContainer$"+lc,Cy="__reactEvents$"+lc,mI="__reactListeners$"+lc,gI="__reactHandles$"+lc;function Va(n){var e=n[os];if(e)return e;for(var t=n.parentNode;t;){if(e=t[qs]||t[os]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=q4(n);n!==null;){if(t=n[os])return t;n=q4(n)}return e}n=t,t=n.parentNode}return null}function Dh(n){return n=n[os]||n[qs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ie(33))}function k0(n){return n[Zf]||null}var Ty=[],xu=-1;function sa(n){return{current:n}}function qt(n){0>xu||(n.current=Ty[xu],Ty[xu]=null,xu--)}function Xt(n,e){xu++,Ty[xu]=n.current,n.current=e}var Zo={},di=sa(Zo),ki=sa(!1),tl=Zo;function ju(n,e){var t=n.type.contextTypes;if(!t)return Zo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Fi(n){return n=n.childContextTypes,n!=null}function Fm(){qt(ki),qt(di)}function Z4(n,e,t){if(di.current!==Zo)throw Error(Ie(168));Xt(di,e),Xt(ki,t)}function RC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ie(108,eL(n)||"Unknown",r));return an({},t,i)}function Bm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zo,tl=di.current,Xt(di,n),Xt(ki,ki.current),!0}function K4(n,e,t){var i=n.stateNode;if(!i)throw Error(Ie(169));t?(n=RC(n,e,tl),i.__reactInternalMemoizedMergedChildContext=n,qt(ki),qt(di),Xt(di,n)):qt(ki),Xt(ki,t)}var Us=null,F0=!1,C2=!1;function LC(n){Us===null?Us=[n]:Us.push(n)}function vI(n){F0=!0,LC(n)}function oa(){if(!C2&&Us!==null){C2=!0;var n=0,e=kt;try{var t=Us;for(kt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Us=null,F0=!1}catch(r){throw Us!==null&&(Us=Us.slice(n+1)),nC(Sx,oa),r}finally{kt=e,C2=!1}}return null}var _u=[],Su=0,zm=null,Vm=0,vr=[],yr=0,nl=null,Bs=1,zs="";function La(n,e){_u[Su++]=Vm,_u[Su++]=zm,zm=n,Vm=e}function IC(n,e,t){vr[yr++]=Bs,vr[yr++]=zs,vr[yr++]=nl,nl=n;var i=Bs;n=zs;var r=32-zr(i)-1;i&=~(1<<r),t+=1;var s=32-zr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Bs=1<<32-zr(e)+r|t<<r|i,zs=s+n}else Bs=1<<s|t<<r|i,zs=n}function Rx(n){n.return!==null&&(La(n,1),IC(n,1,0))}function Lx(n){for(;n===zm;)zm=_u[--Su],_u[Su]=null,Vm=_u[--Su],_u[Su]=null;for(;n===nl;)nl=vr[--yr],vr[yr]=null,zs=vr[--yr],vr[yr]=null,Bs=vr[--yr],vr[yr]=null}var Ji=null,Ki=null,en=!1,kr=null;function OC(n,e){var t=xr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function J4(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ji=n,Ki=No(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ji=n,Ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nl!==null?{id:Bs,overflow:zs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=xr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ji=n,Ki=null,!0):!1;default:return!1}}function Ay(n){return(n.mode&1)!==0&&(n.flags&128)===0}function by(n){if(en){var e=Ki;if(e){var t=e;if(!J4(n,e)){if(Ay(n))throw Error(Ie(418));e=No(t.nextSibling);var i=Ji;e&&J4(n,e)?OC(i,t):(n.flags=n.flags&-4097|2,en=!1,Ji=n)}}else{if(Ay(n))throw Error(Ie(418));n.flags=n.flags&-4097|2,en=!1,Ji=n}}}function Q4(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ji=n}function rp(n){if(n!==Ji)return!1;if(!en)return Q4(n),en=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ey(n.type,n.memoizedProps)),e&&(e=Ki)){if(Ay(n))throw DC(),Error(Ie(418));for(;e;)OC(n,e),e=No(e.nextSibling)}if(Q4(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ie(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ki=No(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ki=null}}else Ki=Ji?No(n.stateNode.nextSibling):null;return!0}function DC(){for(var n=Ki;n;)n=No(n.nextSibling)}function Xu(){Ki=Ji=null,en=!1}function Ix(n){kr===null?kr=[n]:kr.push(n)}var yI=io.ReactCurrentBatchConfig;function Dr(n,e){if(n&&n.defaultProps){e=an({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Hm=sa(null),Gm=null,wu=null,Ox=null;function Dx(){Ox=wu=Gm=null}function Nx(n){var e=Hm.current;qt(Hm),n._currentValue=e}function Py(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Fu(n,e){Gm=n,Ox=wu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ui=!0),n.firstContext=null)}function Sr(n){var e=n._currentValue;if(Ox!==n)if(n={context:n,memoizedValue:e,next:null},wu===null){if(Gm===null)throw Error(Ie(308));wu=n,Gm.dependencies={lanes:0,firstContext:n}}else wu=wu.next=n;return e}var Ha=null;function Ux(n){Ha===null?Ha=[n]:Ha.push(n)}function NC(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Ux(e)):(t.next=r.next,r.next=t),e.interleaved=t,Zs(n,i)}function Zs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Eo=!1;function kx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Zs(n,t)}return r=i.interleaved,r===null?(e.next=e,Ux(i)):(e.next=r.next,r.next=e),i.interleaved=e,Zs(n,t)}function dm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,wx(n,t)}}function eE(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wm(n,e,t,i){var r=n.updateQueue;Eo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,S=a;switch(p=e,m=t,S.tag){case 1:if(g=S.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=an({},d,p);break e;case 2:Eo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);rl|=o,n.lanes=o,n.memoizedState=d}}function tE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ie(191,r));r.call(i)}}}var kC=new N8.Component().refs;function Ry(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:an({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var B0={isMounted:function(n){return(n=n._reactInternals)?hl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Si(),r=Fo(n),s=Gs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,r),e!==null&&(Vr(e,n,r,i),dm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Si(),r=Fo(n),s=Gs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Uo(n,s,r),e!==null&&(Vr(e,n,r,i),dm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Si(),i=Fo(n),r=Gs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Uo(n,r,i),e!==null&&(Vr(e,n,i,t),dm(e,n,i))}};function nE(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!$f(t,i)||!$f(r,s):!0}function FC(n,e,t){var i=!1,r=Zo,s=e.contextType;return typeof s=="object"&&s!==null?s=Sr(s):(r=Fi(e)?tl:di.current,i=e.contextTypes,s=(i=i!=null)?ju(n,r):Zo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function iE(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&B0.enqueueReplaceState(e,e.state,null)}function Ly(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=kC,kx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Sr(s):(s=Fi(e)?tl:di.current,r.context=ju(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ry(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&B0.enqueueReplaceState(r,r.state,null),Wm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Vc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ie(309));var i=t.stateNode}if(!i)throw Error(Ie(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===kC&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ie(284));if(!t._owner)throw Error(Ie(290,n))}return n}function sp(n,e){throw n=Object.prototype.toString.call(e),Error(Ie(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function rE(n){var e=n._init;return e(n._payload)}function BC(n){function e(v,x){if(n){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function t(v,x){if(!n)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function i(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function r(v,x){return v=Bo(v,x),v.index=0,v.sibling=null,v}function s(v,x,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,x,_,C){return x===null||x.tag!==6?(x=I2(_,v.mode,C),x.return=v,x):(x=r(x,_),x.return=v,x)}function l(v,x,_,C){var A=_.type;return A===pu?h(v,x,_.props.children,C,_.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wo&&rE(A)===x.type)?(C=r(x,_.props),C.ref=Vc(v,x,_),C.return=v,C):(C=xm(_.type,_.key,_.props,null,v.mode,C),C.ref=Vc(v,x,_),C.return=v,C)}function u(v,x,_,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=O2(_,v.mode,C),x.return=v,x):(x=r(x,_.children||[]),x.return=v,x)}function h(v,x,_,C,A){return x===null||x.tag!==7?(x=Za(_,v.mode,C,A),x.return=v,x):(x=r(x,_),x.return=v,x)}function d(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=I2(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yd:return _=xm(x.type,x.key,x.props,null,v.mode,_),_.ref=Vc(v,null,x),_.return=v,_;case du:return x=O2(x,v.mode,_),x.return=v,x;case wo:var C=x._init;return d(v,C(x._payload),_)}if(cf(x)||Uc(x))return x=Za(x,v.mode,_,null),x.return=v,x;sp(v,x)}return null}function p(v,x,_,C){var A=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(v,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yd:return _.key===A?l(v,x,_,C):null;case du:return _.key===A?u(v,x,_,C):null;case wo:return A=_._init,p(v,x,A(_._payload),C)}if(cf(_)||Uc(_))return A!==null?null:h(v,x,_,C,null);sp(v,_)}return null}function m(v,x,_,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(_)||null,a(x,v,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yd:return v=v.get(C.key===null?_:C.key)||null,l(x,v,C,A);case du:return v=v.get(C.key===null?_:C.key)||null,u(x,v,C,A);case wo:var P=C._init;return m(v,x,_,P(C._payload),A)}if(cf(C)||Uc(C))return v=v.get(_)||null,h(x,v,C,A,null);sp(x,C)}return null}function g(v,x,_,C){for(var A=null,P=null,L=x,O=x=0,b=null;L!==null&&O<_.length;O++){L.index>O?(b=L,L=null):b=L.sibling;var I=p(v,L,_[O],C);if(I===null){L===null&&(L=b);break}n&&L&&I.alternate===null&&e(v,L),x=s(I,x,O),P===null?A=I:P.sibling=I,P=I,L=b}if(O===_.length)return t(v,L),en&&La(v,O),A;if(L===null){for(;O<_.length;O++)L=d(v,_[O],C),L!==null&&(x=s(L,x,O),P===null?A=L:P.sibling=L,P=L);return en&&La(v,O),A}for(L=i(v,L);O<_.length;O++)b=m(L,v,O,_[O],C),b!==null&&(n&&b.alternate!==null&&L.delete(b.key===null?O:b.key),x=s(b,x,O),P===null?A=b:P.sibling=b,P=b);return n&&L.forEach(function(F){return e(v,F)}),en&&La(v,O),A}function S(v,x,_,C){var A=Uc(_);if(typeof A!="function")throw Error(Ie(150));if(_=A.call(_),_==null)throw Error(Ie(151));for(var P=A=null,L=x,O=x=0,b=null,I=_.next();L!==null&&!I.done;O++,I=_.next()){L.index>O?(b=L,L=null):b=L.sibling;var F=p(v,L,I.value,C);if(F===null){L===null&&(L=b);break}n&&L&&F.alternate===null&&e(v,L),x=s(F,x,O),P===null?A=F:P.sibling=F,P=F,L=b}if(I.done)return t(v,L),en&&La(v,O),A;if(L===null){for(;!I.done;O++,I=_.next())I=d(v,I.value,C),I!==null&&(x=s(I,x,O),P===null?A=I:P.sibling=I,P=I);return en&&La(v,O),A}for(L=i(v,L);!I.done;O++,I=_.next())I=m(L,v,O,I.value,C),I!==null&&(n&&I.alternate!==null&&L.delete(I.key===null?O:I.key),x=s(I,x,O),P===null?A=I:P.sibling=I,P=I);return n&&L.forEach(function(Z){return e(v,Z)}),en&&La(v,O),A}function w(v,x,_,C){if(typeof _=="object"&&_!==null&&_.type===pu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yd:e:{for(var A=_.key,P=x;P!==null;){if(P.key===A){if(A=_.type,A===pu){if(P.tag===7){t(v,P.sibling),x=r(P,_.props.children),x.return=v,v=x;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wo&&rE(A)===P.type){t(v,P.sibling),x=r(P,_.props),x.ref=Vc(v,P,_),x.return=v,v=x;break e}t(v,P);break}else e(v,P);P=P.sibling}_.type===pu?(x=Za(_.props.children,v.mode,C,_.key),x.return=v,v=x):(C=xm(_.type,_.key,_.props,null,v.mode,C),C.ref=Vc(v,x,_),C.return=v,v=C)}return o(v);case du:e:{for(P=_.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){t(v,x.sibling),x=r(x,_.children||[]),x.return=v,v=x;break e}else{t(v,x);break}else e(v,x);x=x.sibling}x=O2(_,v.mode,C),x.return=v,v=x}return o(v);case wo:return P=_._init,w(v,x,P(_._payload),C)}if(cf(_))return g(v,x,_,C);if(Uc(_))return S(v,x,_,C);sp(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(t(v,x.sibling),x=r(x,_),x.return=v,v=x):(t(v,x),x=I2(_,v.mode,C),x.return=v,v=x),o(v)):t(v,x)}return w}var $u=BC(!0),zC=BC(!1),Nh={},hs=sa(Nh),Kf=sa(Nh),Jf=sa(Nh);function Ga(n){if(n===Nh)throw Error(Ie(174));return n}function Fx(n,e){switch(Xt(Jf,e),Xt(Kf,n),Xt(hs,Nh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=uy(e,n)}qt(hs),Xt(hs,e)}function Yu(){qt(hs),qt(Kf),qt(Jf)}function VC(n){Ga(Jf.current);var e=Ga(hs.current),t=uy(e,n.type);e!==t&&(Xt(Kf,n),Xt(hs,t))}function Bx(n){Kf.current===n&&(qt(hs),qt(Kf))}var nn=sa(0);function jm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T2=[];function zx(){for(var n=0;n<T2.length;n++)T2[n]._workInProgressVersionPrimary=null;T2.length=0}var pm=io.ReactCurrentDispatcher,A2=io.ReactCurrentBatchConfig,il=0,on=null,Dn=null,Gn=null,Xm=!1,Mf=!1,Qf=0,xI=0;function si(){throw Error(Ie(321))}function Vx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Gr(n[t],e[t]))return!1;return!0}function Hx(n,e,t,i,r,s){if(il=s,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pm.current=n===null||n.memoizedState===null?EI:MI,n=t(i,r),Mf){s=0;do{if(Mf=!1,Qf=0,25<=s)throw Error(Ie(301));s+=1,Gn=Dn=null,e.updateQueue=null,pm.current=CI,n=t(i,r)}while(Mf)}if(pm.current=$m,e=Dn!==null&&Dn.next!==null,il=0,Gn=Dn=on=null,Xm=!1,e)throw Error(Ie(300));return n}function Gx(){var n=Qf!==0;return Qf=0,n}function rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?on.memoizedState=Gn=n:Gn=Gn.next=n,Gn}function wr(){if(Dn===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=Dn.next;var e=Gn===null?on.memoizedState:Gn.next;if(e!==null)Gn=e,Dn=n;else{if(n===null)throw Error(Ie(310));Dn=n,n={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Gn===null?on.memoizedState=Gn=n:Gn=Gn.next=n}return Gn}function eh(n,e){return typeof e=="function"?e(n):e}function b2(n){var e=wr(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var i=Dn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((il&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,on.lanes|=h,rl|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Gr(i,e.memoizedState)||(Ui=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,on.lanes|=s,rl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function P2(n){var e=wr(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Gr(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function HC(){}function GC(n,e){var t=on,i=wr(),r=e(),s=!Gr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ui=!0),i=i.queue,Wx(XC.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(t.flags|=2048,th(9,jC.bind(null,t,i,r,e),void 0,null),Wn===null)throw Error(Ie(349));il&30||WC(t,e,r)}return r}function WC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function jC(n,e,t,i){e.value=t,e.getSnapshot=i,$C(e)&&YC(n)}function XC(n,e,t){return t(function(){$C(e)&&YC(n)})}function $C(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Gr(n,t)}catch{return!0}}function YC(n){var e=Zs(n,1);e!==null&&Vr(e,n,1,-1)}function sE(n){var e=rs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:n},e.queue=n,n=n.dispatch=wI.bind(null,on,n),[e.memoizedState,n]}function th(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function qC(){return wr().memoizedState}function mm(n,e,t,i){var r=rs();on.flags|=n,r.memoizedState=th(1|e,t,void 0,i===void 0?null:i)}function z0(n,e,t,i){var r=wr();i=i===void 0?null:i;var s=void 0;if(Dn!==null){var o=Dn.memoizedState;if(s=o.destroy,i!==null&&Vx(i,o.deps)){r.memoizedState=th(e,t,s,i);return}}on.flags|=n,r.memoizedState=th(1|e,t,s,i)}function oE(n,e){return mm(8390656,8,n,e)}function Wx(n,e){return z0(2048,8,n,e)}function ZC(n,e){return z0(4,2,n,e)}function KC(n,e){return z0(4,4,n,e)}function JC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function QC(n,e,t){return t=t!=null?t.concat([n]):null,z0(4,4,JC.bind(null,e,n),t)}function jx(){}function e7(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Vx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function t7(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Vx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function n7(n,e,t){return il&21?(Gr(t,e)||(t=sC(),on.lanes|=t,rl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ui=!0),n.memoizedState=t)}function _I(n,e){var t=kt;kt=t!==0&&4>t?t:4,n(!0);var i=A2.transition;A2.transition={};try{n(!1),e()}finally{kt=t,A2.transition=i}}function i7(){return wr().memoizedState}function SI(n,e,t){var i=Fo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},r7(n))s7(e,t);else if(t=NC(n,e,t,i),t!==null){var r=Si();Vr(t,n,i,r),o7(t,e,i)}}function wI(n,e,t){var i=Fo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(r7(n))s7(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Gr(a,o)){var l=e.interleaved;l===null?(r.next=r,Ux(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=NC(n,e,r,i),t!==null&&(r=Si(),Vr(t,n,i,r),o7(t,e,i))}}function r7(n){var e=n.alternate;return n===on||e!==null&&e===on}function s7(n,e){Mf=Xm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function o7(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,wx(n,t)}}var $m={readContext:Sr,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},EI={readContext:Sr,useCallback:function(n,e){return rs().memoizedState=[n,e===void 0?null:e],n},useContext:Sr,useEffect:oE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,mm(4194308,4,JC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return mm(4194308,4,n,e)},useInsertionEffect:function(n,e){return mm(4,2,n,e)},useMemo:function(n,e){var t=rs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=rs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=SI.bind(null,on,n),[i.memoizedState,n]},useRef:function(n){var e=rs();return n={current:n},e.memoizedState=n},useState:sE,useDebugValue:jx,useDeferredValue:function(n){return rs().memoizedState=n},useTransition:function(){var n=sE(!1),e=n[0];return n=_I.bind(null,n[1]),rs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=on,r=rs();if(en){if(t===void 0)throw Error(Ie(407));t=t()}else{if(t=e(),Wn===null)throw Error(Ie(349));il&30||WC(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,oE(XC.bind(null,i,s,n),[n]),i.flags|=2048,th(9,jC.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=rs(),e=Wn.identifierPrefix;if(en){var t=zs,i=Bs;t=(i&~(1<<32-zr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Qf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xI++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},MI={readContext:Sr,useCallback:e7,useContext:Sr,useEffect:Wx,useImperativeHandle:QC,useInsertionEffect:ZC,useLayoutEffect:KC,useMemo:t7,useReducer:b2,useRef:qC,useState:function(){return b2(eh)},useDebugValue:jx,useDeferredValue:function(n){var e=wr();return n7(e,Dn.memoizedState,n)},useTransition:function(){var n=b2(eh)[0],e=wr().memoizedState;return[n,e]},useMutableSource:HC,useSyncExternalStore:GC,useId:i7,unstable_isNewReconciler:!1},CI={readContext:Sr,useCallback:e7,useContext:Sr,useEffect:Wx,useImperativeHandle:QC,useInsertionEffect:ZC,useLayoutEffect:KC,useMemo:t7,useReducer:P2,useRef:qC,useState:function(){return P2(eh)},useDebugValue:jx,useDeferredValue:function(n){var e=wr();return Dn===null?e.memoizedState=n:n7(e,Dn.memoizedState,n)},useTransition:function(){var n=P2(eh)[0],e=wr().memoizedState;return[n,e]},useMutableSource:HC,useSyncExternalStore:GC,useId:i7,unstable_isNewReconciler:!1};function qu(n,e){try{var t="",i=e;do t+=QR(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function R2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Iy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var TI=typeof WeakMap=="function"?WeakMap:Map;function a7(n,e,t){t=Gs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){qm||(qm=!0,Hy=i),Iy(n,e)},t}function l7(n,e,t){t=Gs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Iy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Iy(n,e),typeof i!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function aE(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new TI;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=zI.bind(null,n,e,t),e.then(n,n))}function lE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function uE(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Gs(-1,1),e.tag=2,Uo(t,e,1))),t.lanes|=1),n)}var AI=io.ReactCurrentOwner,Ui=!1;function _i(n,e,t,i){e.child=n===null?zC(e,null,t,i):$u(e,n.child,t,i)}function cE(n,e,t,i,r){t=t.render;var s=e.ref;return Fu(e,r),i=Hx(n,e,t,i,s,r),t=Gx(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ks(n,e,r)):(en&&t&&Rx(e),e.flags|=1,_i(n,e,i,r),e.child)}function fE(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Qx(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,u7(n,e,s,i,r)):(n=xm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:$f,t(o,i)&&n.ref===e.ref)return Ks(n,e,r)}return e.flags|=1,n=Bo(s,i),n.ref=e.ref,n.return=e,e.child=n}function u7(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if($f(s,i)&&n.ref===e.ref)if(Ui=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ui=!0);else return e.lanes=n.lanes,Ks(n,e,r)}return Oy(n,e,t,i,r)}function c7(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Mu,Zi),Zi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xt(Mu,Zi),Zi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Xt(Mu,Zi),Zi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Xt(Mu,Zi),Zi|=i;return _i(n,e,r,t),e.child}function f7(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Oy(n,e,t,i,r){var s=Fi(t)?tl:di.current;return s=ju(e,s),Fu(e,r),t=Hx(n,e,t,i,s,r),i=Gx(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ks(n,e,r)):(en&&i&&Rx(e),e.flags|=1,_i(n,e,t,r),e.child)}function hE(n,e,t,i,r){if(Fi(t)){var s=!0;Bm(e)}else s=!1;if(Fu(e,r),e.stateNode===null)gm(n,e),FC(e,t,i),Ly(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Fi(t)?tl:di.current,u=ju(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&iE(e,o,i,u),Eo=!1;var p=e.memoizedState;o.state=p,Wm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||ki.current||Eo?(typeof h=="function"&&(Ry(e,t,h,i),l=e.memoizedState),(a=Eo||nE(e,t,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,UC(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dr(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=Fi(t)?tl:di.current,l=ju(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&iE(e,o,i,l),Eo=!1,p=e.memoizedState,o.state=p,Wm(e,i,o,r);var g=e.memoizedState;a!==d||p!==g||ki.current||Eo?(typeof m=="function"&&(Ry(e,t,m,i),g=e.memoizedState),(u=Eo||nE(e,t,u,i,p,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Dy(n,e,t,i,s,r)}function Dy(n,e,t,i,r,s){f7(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&K4(e,t,!1),Ks(n,e,s);i=e.stateNode,AI.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=$u(e,n.child,null,s),e.child=$u(e,null,a,s)):_i(n,e,a,s),e.memoizedState=i.state,r&&K4(e,t,!0),e.child}function h7(n){var e=n.stateNode;e.pendingContext?Z4(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Z4(n,e.context,!1),Fx(n,e.containerInfo)}function dE(n,e,t,i,r){return Xu(),Ix(r),e.flags|=256,_i(n,e,t,i),e.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Uy(n){return{baseLanes:n,cachePool:null,transitions:null}}function d7(n,e,t){var i=e.pendingProps,r=nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Xt(nn,r&1),n===null)return by(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=G0(o,i,0,null),n=Za(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Uy(t),e.memoizedState=Ny,n):Xx(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return bI(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Bo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Bo(a,s):(s=Za(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Uy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Ny,i}return s=n.child,n=s.sibling,i=Bo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Xx(n,e){return e=G0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function op(n,e,t,i){return i!==null&&Ix(i),$u(e,n.child,null,t),n=Xx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bI(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=R2(Error(Ie(422))),op(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=G0({mode:"visible",children:i.children},r,0,null),s=Za(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&$u(e,n.child,null,o),e.child.memoizedState=Uy(o),e.memoizedState=Ny,s);if(!(e.mode&1))return op(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ie(419)),i=R2(s,i,void 0),op(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ui||a){if(i=Wn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Zs(n,r),Vr(i,n,r,-1))}return Jx(),i=R2(Error(Ie(421))),op(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=VI.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ki=No(r.nextSibling),Ji=e,en=!0,kr=null,n!==null&&(vr[yr++]=Bs,vr[yr++]=zs,vr[yr++]=nl,Bs=n.id,zs=n.overflow,nl=e),e=Xx(e,i.children),e.flags|=4096,e)}function pE(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Py(n.return,e,t)}function L2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function p7(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_i(n,e,i.children,t),i=nn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pE(n,t,e);else if(n.tag===19)pE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Xt(nn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&jm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),L2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&jm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}L2(e,!0,t,null,s);break;case"together":L2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ks(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ie(153));if(e.child!==null){for(n=e.child,t=Bo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Bo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function PI(n,e,t){switch(e.tag){case 3:h7(e),Xu();break;case 5:VC(e);break;case 1:Fi(e.type)&&Bm(e);break;case 4:Fx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Xt(Hm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Xt(nn,nn.current&1),e.flags|=128,null):t&e.child.childLanes?d7(n,e,t):(Xt(nn,nn.current&1),n=Ks(n,e,t),n!==null?n.sibling:null);Xt(nn,nn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return p7(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Xt(nn,nn.current),i)break;return null;case 22:case 23:return e.lanes=0,c7(n,e,t)}return Ks(n,e,t)}var m7,ky,g7,v7;m7=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ky=function(){};g7=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ga(hs.current);var s=null;switch(t){case"input":r=sy(n,r),i=sy(n,i),s=[];break;case"select":r=an({},r,{value:void 0}),i=an({},i,{value:void 0}),s=[];break;case"textarea":r=ly(n,r),i=ly(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=km)}cy(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Yt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};v7=function(n,e,t,i){t!==i&&(e.flags|=4)};function Hc(n,e){if(!en)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function oi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function RI(n,e,t){var i=e.pendingProps;switch(Lx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(e),null;case 1:return Fi(e.type)&&Fm(),oi(e),null;case 3:return i=e.stateNode,Yu(),qt(ki),qt(di),zx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(rp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(jy(kr),kr=null))),ky(n,e),oi(e),null;case 5:Bx(e);var r=Ga(Jf.current);if(t=e.type,n!==null&&e.stateNode!=null)g7(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ie(166));return oi(e),null}if(n=Ga(hs.current),rp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[os]=e,i[Zf]=s,n=(e.mode&1)!==0,t){case"dialog":Yt("cancel",i),Yt("close",i);break;case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(r=0;r<hf.length;r++)Yt(hf[r],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"details":Yt("toggle",i);break;case"input":E4(i,s),Yt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",i);break;case"textarea":C4(i,s),Yt("invalid",i)}cy(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ip(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ip(i.textContent,a,n),r=["children",""+a]):zf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yt("scroll",i)}switch(t){case"input":qd(i),M4(i,s,!0);break;case"textarea":qd(i),T4(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=km)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=W8(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[os]=e,n[Zf]=i,m7(n,e,!1,!1),e.stateNode=n;e:{switch(o=fy(t,i),t){case"dialog":Yt("cancel",n),Yt("close",n),r=i;break;case"iframe":case"object":case"embed":Yt("load",n),r=i;break;case"video":case"audio":for(r=0;r<hf.length;r++)Yt(hf[r],n);r=i;break;case"source":Yt("error",n),r=i;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),r=i;break;case"details":Yt("toggle",n),r=i;break;case"input":E4(n,i),r=sy(n,i),Yt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=an({},i,{value:void 0}),Yt("invalid",n);break;case"textarea":C4(n,i),r=ly(n,i),Yt("invalid",n);break;default:r=i}cy(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$8(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j8(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Vf(n,l):typeof l=="number"&&Vf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yt("scroll",n):l!=null&&gx(n,s,l,o))}switch(t){case"input":qd(n),M4(n,i,!1);break;case"textarea":qd(n),T4(n);break;case"option":i.value!=null&&n.setAttribute("value",""+qo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Du(n,!!i.multiple,s,!1):i.defaultValue!=null&&Du(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=km)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return oi(e),null;case 6:if(n&&e.stateNode!=null)v7(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ie(166));if(t=Ga(Jf.current),Ga(hs.current),rp(e)){if(i=e.stateNode,t=e.memoizedProps,i[os]=e,(s=i.nodeValue!==t)&&(n=Ji,n!==null))switch(n.tag){case 3:ip(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ip(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[os]=e,e.stateNode=i}return oi(e),null;case 13:if(qt(nn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(en&&Ki!==null&&e.mode&1&&!(e.flags&128))DC(),Xu(),e.flags|=98560,s=!1;else if(s=rp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[os]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;oi(e),s=!1}else kr!==null&&(jy(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||nn.current&1?Nn===0&&(Nn=3):Jx())),e.updateQueue!==null&&(e.flags|=4),oi(e),null);case 4:return Yu(),ky(n,e),n===null&&Yf(e.stateNode.containerInfo),oi(e),null;case 10:return Nx(e.type._context),oi(e),null;case 17:return Fi(e.type)&&Fm(),oi(e),null;case 19:if(qt(nn),s=e.memoizedState,s===null)return oi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Hc(s,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=jm(n),o!==null){for(e.flags|=128,Hc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xt(nn,nn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>Zu&&(e.flags|=128,i=!0,Hc(s,!1),e.lanes=4194304)}else{if(!i)if(n=jm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!en)return oi(e),null}else 2*Sn()-s.renderingStartTime>Zu&&t!==1073741824&&(e.flags|=128,i=!0,Hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=nn.current,Xt(nn,i?t&1|2:t&1),e):(oi(e),null);case 22:case 23:return Kx(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Zi&1073741824&&(oi(e),e.subtreeFlags&6&&(e.flags|=8192)):oi(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function LI(n,e){switch(Lx(e),e.tag){case 1:return Fi(e.type)&&Fm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yu(),qt(ki),qt(di),zx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Bx(e),null;case 13:if(qt(nn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));Xu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qt(nn),null;case 4:return Yu(),null;case 10:return Nx(e.type._context),null;case 22:case 23:return Kx(),null;case 24:return null;default:return null}}var ap=!1,ci=!1,II=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Eu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){dn(n,e,i)}else t.current=null}function Fy(n,e,t){try{t()}catch(i){dn(n,e,i)}}var mE=!1;function OI(n,e){if(Sy=Dm,n=SC(),Px(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(wy={focusedElem:n,selectionRange:t},Dm=!1,Ye=e;Ye!==null;)if(e=Ye,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ye=n;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,w=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:Dr(e.type,S),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(C){dn(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}return g=mE,mE=!1,g}function Cf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Fy(e,t,s)}r=r.next}while(r!==i)}}function V0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function By(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function y7(n){var e=n.alternate;e!==null&&(n.alternate=null,y7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[os],delete e[Zf],delete e[Cy],delete e[mI],delete e[gI])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function x7(n){return n.tag===5||n.tag===3||n.tag===4}function gE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=km));else if(i!==4&&(n=n.child,n!==null))for(zy(n,e,t),n=n.sibling;n!==null;)zy(n,e,t),n=n.sibling}function Vy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Vy(n,e,t),n=n.sibling;n!==null;)Vy(n,e,t),n=n.sibling}var Yn=null,Ur=!1;function mo(n,e,t){for(t=t.child;t!==null;)_7(n,e,t),t=t.sibling}function _7(n,e,t){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(O0,t)}catch{}switch(t.tag){case 5:ci||Eu(t,e);case 6:var i=Yn,r=Ur;Yn=null,mo(n,e,t),Yn=i,Ur=r,Yn!==null&&(Ur?(n=Yn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Yn.removeChild(t.stateNode));break;case 18:Yn!==null&&(Ur?(n=Yn,t=t.stateNode,n.nodeType===8?M2(n.parentNode,t):n.nodeType===1&&M2(n,t),jf(n)):M2(Yn,t.stateNode));break;case 4:i=Yn,r=Ur,Yn=t.stateNode.containerInfo,Ur=!0,mo(n,e,t),Yn=i,Ur=r;break;case 0:case 11:case 14:case 15:if(!ci&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fy(t,e,o),r=r.next}while(r!==i)}mo(n,e,t);break;case 1:if(!ci&&(Eu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){dn(t,e,a)}mo(n,e,t);break;case 21:mo(n,e,t);break;case 22:t.mode&1?(ci=(i=ci)||t.memoizedState!==null,mo(n,e,t),ci=i):mo(n,e,t);break;default:mo(n,e,t)}}function vE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new II),e.forEach(function(i){var r=HI.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Rr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yn=a.stateNode,Ur=!1;break e;case 3:Yn=a.stateNode.containerInfo,Ur=!0;break e;case 4:Yn=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(Yn===null)throw Error(Ie(160));_7(s,o,r),Yn=null,Ur=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){dn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S7(e,n),e=e.sibling}function S7(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rr(e,n),is(n),i&4){try{Cf(3,n,n.return),V0(3,n)}catch(S){dn(n,n.return,S)}try{Cf(5,n,n.return)}catch(S){dn(n,n.return,S)}}break;case 1:Rr(e,n),is(n),i&512&&t!==null&&Eu(t,t.return);break;case 5:if(Rr(e,n),is(n),i&512&&t!==null&&Eu(t,t.return),n.flags&32){var r=n.stateNode;try{Vf(r,"")}catch(S){dn(n,n.return,S)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H8(r,s),fy(a,o);var u=fy(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?$8(r,d):h==="dangerouslySetInnerHTML"?j8(r,d):h==="children"?Vf(r,d):gx(r,h,d,u)}switch(a){case"input":oy(r,s);break;case"textarea":G8(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Du(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Du(r,!!s.multiple,s.defaultValue,!0):Du(r,!!s.multiple,s.multiple?[]:"",!1))}r[Zf]=s}catch(S){dn(n,n.return,S)}}break;case 6:if(Rr(e,n),is(n),i&4){if(n.stateNode===null)throw Error(Ie(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(S){dn(n,n.return,S)}}break;case 3:if(Rr(e,n),is(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{jf(e.containerInfo)}catch(S){dn(n,n.return,S)}break;case 4:Rr(e,n),is(n);break;case 13:Rr(e,n),is(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(qx=Sn())),i&4&&vE(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(ci=(u=ci)||h,Rr(e,n),ci=u):Rr(e,n),is(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(Ye=n,h=n.child;h!==null;){for(d=Ye=h;Ye!==null;){switch(p=Ye,m=p.child,p.tag){case 0:case 11:case 14:case 15:Cf(4,p,p.return);break;case 1:Eu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(S){dn(i,t,S)}}break;case 5:Eu(p,p.return);break;case 22:if(p.memoizedState!==null){xE(d);continue}}m!==null?(m.return=p,Ye=m):xE(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X8("display",o))}catch(S){dn(n,n.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){dn(n,n.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rr(e,n),is(n),i&4&&vE(n);break;case 21:break;default:Rr(e,n),is(n)}}function is(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(x7(t)){var i=t;break e}t=t.return}throw Error(Ie(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Vf(r,""),i.flags&=-33);var s=gE(n);Vy(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=gE(n);zy(n,a,o);break;default:throw Error(Ie(161))}}catch(l){dn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function DI(n,e,t){Ye=n,w7(n)}function w7(n,e,t){for(var i=(n.mode&1)!==0;Ye!==null;){var r=Ye,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ap;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ci;a=ap;var u=ci;if(ap=o,(ci=l)&&!u)for(Ye=r;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?_E(r):l!==null?(l.return=o,Ye=l):_E(r);for(;s!==null;)Ye=s,w7(s),s=s.sibling;Ye=r,ap=a,ci=u}yE(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ye=s):yE(n)}}function yE(n){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ci||V0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ci)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Dr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}tE(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&jf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}ci||e.flags&512&&By(e)}catch(p){dn(e,e.return,p)}}if(e===n){Ye=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}}function xE(n){for(;Ye!==null;){var e=Ye;if(e===n){Ye=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ye=t;break}Ye=e.return}}function _E(n){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{V0(4,e)}catch(l){dn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){dn(e,r,l)}}var s=e.return;try{By(e)}catch(l){dn(e,s,l)}break;case 5:var o=e.return;try{By(e)}catch(l){dn(e,o,l)}}}catch(l){dn(e,e.return,l)}if(e===n){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var NI=Math.ceil,Ym=io.ReactCurrentDispatcher,$x=io.ReactCurrentOwner,_r=io.ReactCurrentBatchConfig,Rt=0,Wn=null,Pn=null,Zn=0,Zi=0,Mu=sa(0),Nn=0,nh=null,rl=0,H0=0,Yx=0,Tf=null,Ii=null,qx=0,Zu=1/0,Ns=null,qm=!1,Hy=null,ko=null,lp=!1,Ro=null,Zm=0,Af=0,Gy=null,vm=-1,ym=0;function Si(){return Rt&6?Sn():vm!==-1?vm:vm=Sn()}function Fo(n){return n.mode&1?Rt&2&&Zn!==0?Zn&-Zn:yI.transition!==null?(ym===0&&(ym=sC()),ym):(n=kt,n!==0||(n=window.event,n=n===void 0?16:hC(n.type)),n):1}function Vr(n,e,t,i){if(50<Af)throw Af=0,Gy=null,Error(Ie(185));Ih(n,t,i),(!(Rt&2)||n!==Wn)&&(n===Wn&&(!(Rt&2)&&(H0|=t),Nn===4&&Ao(n,Zn)),Bi(n,i),t===1&&Rt===0&&!(e.mode&1)&&(Zu=Sn()+500,F0&&oa()))}function Bi(n,e){var t=n.callbackNode;yL(n,e);var i=Om(n,n===Wn?Zn:0);if(i===0)t!==null&&P4(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&P4(t),e===1)n.tag===0?vI(SE.bind(null,n)):LC(SE.bind(null,n)),dI(function(){!(Rt&6)&&oa()}),t=null;else{switch(oC(i)){case 1:t=Sx;break;case 4:t=iC;break;case 16:t=Im;break;case 536870912:t=rC;break;default:t=Im}t=R7(t,E7.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function E7(n,e){if(vm=-1,ym=0,Rt&6)throw Error(Ie(327));var t=n.callbackNode;if(Bu()&&n.callbackNode!==t)return null;var i=Om(n,n===Wn?Zn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Km(n,i);else{e=i;var r=Rt;Rt|=2;var s=C7();(Wn!==n||Zn!==e)&&(Ns=null,Zu=Sn()+500,qa(n,e));do try{FI();break}catch(a){M7(n,a)}while(1);Dx(),Ym.current=s,Rt=r,Pn!==null?e=0:(Wn=null,Zn=0,e=Nn)}if(e!==0){if(e===2&&(r=gy(n),r!==0&&(i=r,e=Wy(n,r))),e===1)throw t=nh,qa(n,0),Ao(n,i),Bi(n,Sn()),t;if(e===6)Ao(n,i);else{if(r=n.current.alternate,!(i&30)&&!UI(r)&&(e=Km(n,i),e===2&&(s=gy(n),s!==0&&(i=s,e=Wy(n,s))),e===1))throw t=nh,qa(n,0),Ao(n,i),Bi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ie(345));case 2:Ia(n,Ii,Ns);break;case 3:if(Ao(n,i),(i&130023424)===i&&(e=qx+500-Sn(),10<e)){if(Om(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Si(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=My(Ia.bind(null,n,Ii,Ns),e);break}Ia(n,Ii,Ns);break;case 4:if(Ao(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-zr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*NI(i/1960))-i,10<i){n.timeoutHandle=My(Ia.bind(null,n,Ii,Ns),i);break}Ia(n,Ii,Ns);break;case 5:Ia(n,Ii,Ns);break;default:throw Error(Ie(329))}}}return Bi(n,Sn()),n.callbackNode===t?E7.bind(null,n):null}function Wy(n,e){var t=Tf;return n.current.memoizedState.isDehydrated&&(qa(n,e).flags|=256),n=Km(n,e),n!==2&&(e=Ii,Ii=t,e!==null&&jy(e)),n}function jy(n){Ii===null?Ii=n:Ii.push.apply(Ii,n)}function UI(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Gr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ao(n,e){for(e&=~Yx,e&=~H0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-zr(e),i=1<<t;n[t]=-1,e&=~i}}function SE(n){if(Rt&6)throw Error(Ie(327));Bu();var e=Om(n,0);if(!(e&1))return Bi(n,Sn()),null;var t=Km(n,e);if(n.tag!==0&&t===2){var i=gy(n);i!==0&&(e=i,t=Wy(n,i))}if(t===1)throw t=nh,qa(n,0),Ao(n,e),Bi(n,Sn()),t;if(t===6)throw Error(Ie(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ia(n,Ii,Ns),Bi(n,Sn()),null}function Zx(n,e){var t=Rt;Rt|=1;try{return n(e)}finally{Rt=t,Rt===0&&(Zu=Sn()+500,F0&&oa())}}function sl(n){Ro!==null&&Ro.tag===0&&!(Rt&6)&&Bu();var e=Rt;Rt|=1;var t=_r.transition,i=kt;try{if(_r.transition=null,kt=1,n)return n()}finally{kt=i,_r.transition=t,Rt=e,!(Rt&6)&&oa()}}function Kx(){Zi=Mu.current,qt(Mu)}function qa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,hI(t)),Pn!==null)for(t=Pn.return;t!==null;){var i=t;switch(Lx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fm();break;case 3:Yu(),qt(ki),qt(di),zx();break;case 5:Bx(i);break;case 4:Yu();break;case 13:qt(nn);break;case 19:qt(nn);break;case 10:Nx(i.type._context);break;case 22:case 23:Kx()}t=t.return}if(Wn=n,Pn=n=Bo(n.current,null),Zn=Zi=e,Nn=0,nh=null,Yx=H0=rl=0,Ii=Tf=null,Ha!==null){for(e=0;e<Ha.length;e++)if(t=Ha[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ha=null}return n}function M7(n,e){do{var t=Pn;try{if(Dx(),pm.current=$m,Xm){for(var i=on.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xm=!1}if(il=0,Gn=Dn=on=null,Mf=!1,Qf=0,$x.current=null,t===null||t.return===null){Nn=1,nh=e,Pn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=lE(o);if(m!==null){m.flags&=-257,uE(m,o,a,s,e),m.mode&1&&aE(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var S=new Set;S.add(l),e.updateQueue=S}else g.add(l);break e}else{if(!(e&1)){aE(s,u,e),Jx();break e}l=Error(Ie(426))}}else if(en&&a.mode&1){var w=lE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uE(w,o,a,s,e),Ix(qu(l,a));break e}}s=l=qu(l,a),Nn!==4&&(Nn=2),Tf===null?Tf=[s]:Tf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=a7(s,l,e);eE(s,v);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ko===null||!ko.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=l7(s,a,e);eE(s,C);break e}}s=s.return}while(s!==null)}A7(t)}catch(A){e=A,Pn===t&&t!==null&&(Pn=t=t.return);continue}break}while(1)}function C7(){var n=Ym.current;return Ym.current=$m,n===null?$m:n}function Jx(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Wn===null||!(rl&268435455)&&!(H0&268435455)||Ao(Wn,Zn)}function Km(n,e){var t=Rt;Rt|=2;var i=C7();(Wn!==n||Zn!==e)&&(Ns=null,qa(n,e));do try{kI();break}catch(r){M7(n,r)}while(1);if(Dx(),Rt=t,Ym.current=i,Pn!==null)throw Error(Ie(261));return Wn=null,Zn=0,Nn}function kI(){for(;Pn!==null;)T7(Pn)}function FI(){for(;Pn!==null&&!uL();)T7(Pn)}function T7(n){var e=P7(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?A7(n):Pn=e,$x.current=null}function A7(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=LI(t,e),t!==null){t.flags&=32767,Pn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,Pn=null;return}}else if(t=RI(t,e,Zi),t!==null){Pn=t;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=n}while(e!==null);Nn===0&&(Nn=5)}function Ia(n,e,t){var i=kt,r=_r.transition;try{_r.transition=null,kt=1,BI(n,e,t,i)}finally{_r.transition=r,kt=i}return null}function BI(n,e,t,i){do Bu();while(Ro!==null);if(Rt&6)throw Error(Ie(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ie(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(xL(n,s),n===Wn&&(Pn=Wn=null,Zn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lp||(lp=!0,R7(Im,function(){return Bu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=kt;kt=1;var a=Rt;Rt|=4,$x.current=null,OI(n,t),S7(t,n),sI(wy),Dm=!!Sy,wy=Sy=null,n.current=t,DI(t),cL(),Rt=a,kt=o,_r.transition=s}else n.current=t;if(lp&&(lp=!1,Ro=n,Zm=r),s=n.pendingLanes,s===0&&(ko=null),dL(t.stateNode),Bi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(qm)throw qm=!1,n=Hy,Hy=null,n;return Zm&1&&n.tag!==0&&Bu(),s=n.pendingLanes,s&1?n===Gy?Af++:(Af=0,Gy=n):Af=0,oa(),null}function Bu(){if(Ro!==null){var n=oC(Zm),e=_r.transition,t=kt;try{if(_r.transition=null,kt=16>n?16:n,Ro===null)var i=!1;else{if(n=Ro,Ro=null,Zm=0,Rt&6)throw Error(Ie(331));var r=Rt;for(Rt|=4,Ye=n.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ye=u;Ye!==null;){var h=Ye;switch(h.tag){case 0:case 11:case 15:Cf(8,h,s)}var d=h.child;if(d!==null)d.return=h,Ye=d;else for(;Ye!==null;){h=Ye;var p=h.sibling,m=h.return;if(y7(h),h===u){Ye=null;break}if(p!==null){p.return=m,Ye=p;break}Ye=m}}}var g=s.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var w=S.sibling;S.sibling=null,S=w}while(S!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cf(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Ye=v;break e}Ye=s.return}}var x=n.current;for(Ye=x;Ye!==null;){o=Ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ye=_;else e:for(o=x;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:V0(9,a)}}catch(A){dn(a,a.return,A)}if(a===o){Ye=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ye=C;break e}Ye=a.return}}if(Rt=r,oa(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(O0,n)}catch{}i=!0}return i}finally{kt=t,_r.transition=e}}return!1}function wE(n,e,t){e=qu(t,e),e=a7(n,e,1),n=Uo(n,e,1),e=Si(),n!==null&&(Ih(n,1,e),Bi(n,e))}function dn(n,e,t){if(n.tag===3)wE(n,n,t);else for(;e!==null;){if(e.tag===3){wE(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ko===null||!ko.has(i))){n=qu(t,n),n=l7(e,n,1),e=Uo(e,n,1),n=Si(),e!==null&&(Ih(e,1,n),Bi(e,n));break}}e=e.return}}function zI(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Si(),n.pingedLanes|=n.suspendedLanes&t,Wn===n&&(Zn&t)===t&&(Nn===4||Nn===3&&(Zn&130023424)===Zn&&500>Sn()-qx?qa(n,0):Yx|=t),Bi(n,e)}function b7(n,e){e===0&&(n.mode&1?(e=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):e=1);var t=Si();n=Zs(n,e),n!==null&&(Ih(n,e,t),Bi(n,t))}function VI(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),b7(n,t)}function HI(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ie(314))}i!==null&&i.delete(e),b7(n,t)}var P7;P7=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ki.current)Ui=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ui=!1,PI(n,e,t);Ui=!!(n.flags&131072)}else Ui=!1,en&&e.flags&1048576&&IC(e,Vm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;gm(n,e),n=e.pendingProps;var r=ju(e,di.current);Fu(e,t),r=Hx(null,e,i,n,r,t);var s=Gx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(i)?(s=!0,Bm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kx(e),r.updater=B0,e.stateNode=r,r._reactInternals=e,Ly(e,i,n,t),e=Dy(null,e,i,!0,s,t)):(e.tag=0,en&&s&&Rx(e),_i(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(gm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=WI(i),n=Dr(i,n),r){case 0:e=Oy(null,e,i,n,t);break e;case 1:e=hE(null,e,i,n,t);break e;case 11:e=cE(null,e,i,n,t);break e;case 14:e=fE(null,e,i,Dr(i.type,n),t);break e}throw Error(Ie(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dr(i,r),Oy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dr(i,r),hE(n,e,i,r,t);case 3:e:{if(h7(e),n===null)throw Error(Ie(387));i=e.pendingProps,s=e.memoizedState,r=s.element,UC(n,e),Wm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=qu(Error(Ie(423)),e),e=dE(n,e,i,t,r);break e}else if(i!==r){r=qu(Error(Ie(424)),e),e=dE(n,e,i,t,r);break e}else for(Ki=No(e.stateNode.containerInfo.firstChild),Ji=e,en=!0,kr=null,t=zC(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xu(),i===r){e=Ks(n,e,t);break e}_i(n,e,i,t)}e=e.child}return e;case 5:return VC(e),n===null&&by(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Ey(i,r)?o=null:s!==null&&Ey(i,s)&&(e.flags|=32),f7(n,e),_i(n,e,o,t),e.child;case 6:return n===null&&by(e),null;case 13:return d7(n,e,t);case 4:return Fx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=$u(e,null,i,t):_i(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dr(i,r),cE(n,e,i,r,t);case 7:return _i(n,e,e.pendingProps,t),e.child;case 8:return _i(n,e,e.pendingProps.children,t),e.child;case 12:return _i(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Xt(Hm,i._currentValue),i._currentValue=o,s!==null)if(Gr(s.value,o)){if(s.children===r.children&&!ki.current){e=Ks(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Gs(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Py(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Py(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_i(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fu(e,t),r=Sr(r),i=i(r),e.flags|=1,_i(n,e,i,t),e.child;case 14:return i=e.type,r=Dr(i,e.pendingProps),r=Dr(i.type,r),fE(n,e,i,r,t);case 15:return u7(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dr(i,r),gm(n,e),e.tag=1,Fi(i)?(n=!0,Bm(e)):n=!1,Fu(e,t),FC(e,i,r),Ly(e,i,r,t),Dy(null,e,i,!0,n,t);case 19:return p7(n,e,t);case 22:return c7(n,e,t)}throw Error(Ie(156,e.tag))};function R7(n,e){return nC(n,e)}function GI(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(n,e,t,i){return new GI(n,e,t,i)}function Qx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WI(n){if(typeof n=="function")return Qx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yx)return 11;if(n===xx)return 14}return 2}function Bo(n,e){var t=n.alternate;return t===null?(t=xr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function xm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Qx(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case pu:return Za(t.children,r,s,e);case vx:o=8,r|=8;break;case ty:return n=xr(12,t,e,r|2),n.elementType=ty,n.lanes=s,n;case ny:return n=xr(13,t,e,r),n.elementType=ny,n.lanes=s,n;case iy:return n=xr(19,t,e,r),n.elementType=iy,n.lanes=s,n;case B8:return G0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k8:o=10;break e;case F8:o=9;break e;case yx:o=11;break e;case xx:o=14;break e;case wo:o=16,i=null;break e}throw Error(Ie(130,n==null?n:typeof n,""))}return e=xr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Za(n,e,t,i){return n=xr(7,n,i,e),n.lanes=t,n}function G0(n,e,t,i){return n=xr(22,n,i,e),n.elementType=B8,n.lanes=t,n.stateNode={isHidden:!1},n}function I2(n,e,t){return n=xr(6,n,null,e),n.lanes=t,n}function O2(n,e,t){return e=xr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function jI(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=d2(0),this.expirationTimes=d2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=d2(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function e_(n,e,t,i,r,s,o,a,l){return n=new jI(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(s),n}function XI(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function L7(n){if(!n)return Zo;n=n._reactInternals;e:{if(hl(n)!==n||n.tag!==1)throw Error(Ie(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(n.tag===1){var t=n.type;if(Fi(t))return RC(n,t,e)}return e}function I7(n,e,t,i,r,s,o,a,l){return n=e_(t,i,!0,n,r,s,o,a,l),n.context=L7(null),t=n.current,i=Si(),r=Fo(t),s=Gs(i,r),s.callback=e??null,Uo(t,s,r),n.current.lanes=r,Ih(n,r,i),Bi(n,i),n}function W0(n,e,t,i){var r=e.current,s=Si(),o=Fo(r);return t=L7(t),e.context===null?e.context=t:e.pendingContext=t,e=Gs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Uo(r,e,o),n!==null&&(Vr(n,r,o,s),dm(n,r,o)),o}function Jm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function EE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function t_(n,e){EE(n,e),(n=n.alternate)&&EE(n,e)}function $I(){return null}var O7=typeof reportError=="function"?reportError:function(n){console.error(n)};function n_(n){this._internalRoot=n}j0.prototype.render=n_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ie(409));W0(n,e,null,null)};j0.prototype.unmount=n_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;sl(function(){W0(null,n,null,null)}),e[qs]=null}};function j0(n){this._internalRoot=n}j0.prototype.unstable_scheduleHydration=function(n){if(n){var e=uC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<To.length&&e!==0&&e<To[t].priority;t++);To.splice(t,0,n),t===0&&fC(n)}};function i_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function X0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ME(){}function YI(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Jm(o);s.call(u)}}var o=I7(e,i,n,0,null,!1,!1,"",ME);return n._reactRootContainer=o,n[qs]=o.current,Yf(n.nodeType===8?n.parentNode:n),sl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Jm(l);a.call(u)}}var l=e_(n,0,!1,null,null,!1,!1,"",ME);return n._reactRootContainer=l,n[qs]=l.current,Yf(n.nodeType===8?n.parentNode:n),sl(function(){W0(e,l,t,i)}),l}function $0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Jm(o);a.call(l)}}W0(e,o,n,r)}else o=YI(t,e,n,r,i);return Jm(o)}aC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ff(e.pendingLanes);t!==0&&(wx(e,t|1),Bi(e,Sn()),!(Rt&6)&&(Zu=Sn()+500,oa()))}break;case 13:sl(function(){var i=Zs(n,1);if(i!==null){var r=Si();Vr(i,n,1,r)}}),t_(n,1)}};Ex=function(n){if(n.tag===13){var e=Zs(n,134217728);if(e!==null){var t=Si();Vr(e,n,134217728,t)}t_(n,134217728)}};lC=function(n){if(n.tag===13){var e=Fo(n),t=Zs(n,e);if(t!==null){var i=Si();Vr(t,n,e,i)}t_(n,e)}};uC=function(){return kt};cC=function(n,e){var t=kt;try{return kt=n,e()}finally{kt=t}};dy=function(n,e,t){switch(e){case"input":if(oy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=k0(i);if(!r)throw Error(Ie(90));V8(i),oy(i,r)}}}break;case"textarea":G8(n,t);break;case"select":e=t.value,e!=null&&Du(n,!!t.multiple,e,!1)}};Z8=Zx;K8=sl;var qI={usingClientEntryPoint:!1,Events:[Dh,yu,k0,Y8,q8,Zx]},Gc={findFiberByHostInstance:Va,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZI={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=eC(n),n===null?null:n.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||$I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{O0=up.inject(ZI),fs=up}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qI;ir.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i_(e))throw Error(Ie(200));return XI(n,e,null,t)};ir.createRoot=function(n,e){if(!i_(n))throw Error(Ie(299));var t=!1,i="",r=O7;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=e_(n,1,!1,null,null,t,!1,i,r),n[qs]=e.current,Yf(n.nodeType===8?n.parentNode:n),new n_(e)};ir.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ie(188)):(n=Object.keys(n).join(","),Error(Ie(268,n)));return n=eC(e),n=n===null?null:n.stateNode,n};ir.flushSync=function(n){return sl(n)};ir.hydrate=function(n,e,t){if(!X0(e))throw Error(Ie(200));return $0(null,n,e,!0,t)};ir.hydrateRoot=function(n,e,t){if(!i_(n))throw Error(Ie(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=O7;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=I7(e,null,n,1,t??null,r,!1,s,o),n[qs]=e.current,Yf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new j0(e)};ir.render=function(n,e,t){if(!X0(e))throw Error(Ie(200));return $0(null,n,e,!1,t)};ir.unmountComponentAtNode=function(n){if(!X0(n))throw Error(Ie(40));return n._reactRootContainer?(sl(function(){$0(null,null,n,!1,function(){n._reactRootContainer=null,n[qs]=null})}),!0):!1};ir.unstable_batchedUpdates=Zx;ir.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!X0(t))throw Error(Ie(200));if(n==null||n._reactInternals===void 0)throw Error(Ie(38));return $0(n,e,t,!1,i)};ir.version="18.2.0-next-9e3b772b8-20220608";function D7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D7)}catch(n){console.error(n)}}D7(),I8.exports=ir;var N7=I8.exports,CE=N7;Qv.createRoot=CE.createRoot,Qv.hydrateRoot=CE.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Y0="155",Oa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Da={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},U7=0,Xy=1,k7=2,KI=3,F7=0,q0=1,bf=2,Nr=3,Js=0,wi=1,as=2,JI=2,Ws=0,Ka=1,Qm=2,$y=3,Yy=4,B7=5,Ba=100,z7=101,V7=102,qy=103,Zy=104,H7=200,G7=201,W7=202,j7=203,r_=204,s_=205,X7=206,$7=207,Y7=208,q7=209,Z7=210,K7=0,J7=1,Q7=2,e0=3,eT=4,tT=5,nT=6,iT=7,Uh=0,rT=1,sT=2,ds=0,o_=1,oT=2,aT=3,a_=4,lT=5,Z0=300,Qs=301,Ko=302,ih=303,rh=304,uc=306,sh=1e3,fi=1001,oh=1002,_n=1003,t0=1004,QI=1004,Pf=1005,eO=1005,wn=1006,l_=1007,tO=1007,Jo=1008,nO=1008,ps=1009,uT=1010,cT=1011,K0=1012,u_=1013,Vs=1014,ls=1015,Ku=1016,c_=1017,f_=1018,zo=1020,fT=1021,Di=1023,hT=1024,dT=1025,Vo=1026,ol=1027,pT=1028,h_=1029,mT=1030,d_=1031,p_=1033,_m=33776,Sm=33777,wm=33778,Em=33779,Ky=35840,Jy=35841,Qy=35842,e3=35843,gT=36196,t3=37492,n3=37496,i3=37808,r3=37809,s3=37810,o3=37811,a3=37812,l3=37813,u3=37814,c3=37815,f3=37816,h3=37817,d3=37818,p3=37819,m3=37820,g3=37821,Mm=36492,vT=36283,v3=36284,y3=36285,x3=36286,yT=2200,xT=2201,_T=2202,ah=2300,lh=2301,Cm=2302,Wa=2400,ja=2401,uh=2402,J0=2500,m_=2501,iO=0,rO=1,sO=2,g_=3e3,Ho=3001,ST=3200,wT=3201,aa=0,ET=1,Go="",yt="srgb",Er="srgb-linear",v_="display-p3",oO=0,Tm=7680,aO=7681,lO=7682,uO=7683,cO=34055,fO=34056,hO=5386,dO=512,pO=513,mO=514,gO=515,vO=516,yO=517,xO=518,MT=519,CT=512,TT=513,AT=514,bT=515,PT=516,RT=517,LT=518,IT=519,ch=35044,_O=35048,SO=35040,wO=35045,EO=35049,MO=35041,CO=35046,TO=35050,AO=35042,bO="100",_3="300 es",n0=1035,us=2e3,fh=2001;class xs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let TE=1234567;const Ja=Math.PI/180,Ju=180/Math.PI;function Qi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ai[n&255]+ai[n>>8&255]+ai[n>>16&255]+ai[n>>24&255]+"-"+ai[e&255]+ai[e>>8&255]+"-"+ai[e>>16&15|64]+ai[e>>24&255]+"-"+ai[t&63|128]+ai[t>>8&255]+"-"+ai[t>>16&255]+ai[t>>24&255]+ai[i&255]+ai[i>>8&255]+ai[i>>16&255]+ai[i>>24&255]).toLowerCase()}function pn(n,e,t){return Math.max(e,Math.min(t,n))}function y_(n,e){return(n%e+e)%e}function PO(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function RO(n,e,t){return n!==e?(t-n)/(e-n):0}function Rf(n,e,t){return(1-t)*n+t*e}function LO(n,e,t,i){return Rf(n,e,1-Math.exp(-t*i))}function IO(n,e=1){return e-Math.abs(y_(n,e*2)-e)}function OO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function DO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function NO(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UO(n,e){return n+Math.random()*(e-n)}function kO(n){return n*(.5-Math.random())}function FO(n){n!==void 0&&(TE=n);let e=TE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function BO(n){return n*Ja}function zO(n){return n*Ju}function S3(n){return(n&n-1)===0&&n!==0}function OT(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function i0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function VO(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),g=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*h,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*h,a*u);break;case"XZX":n.set(a*h,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*h,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _t(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const HO={DEG2RAD:Ja,RAD2DEG:Ju,generateUUID:Qi,clamp:pn,euclideanModulo:y_,mapLinear:PO,inverseLerp:RO,lerp:Rf,damp:LO,pingpong:IO,smoothstep:OO,smootherstep:DO,randInt:NO,randFloat:UO,randFloatSpread:kO,seededRandom:FO,degToRad:BO,radToDeg:zO,isPowerOfTwo:S3,ceilPowerOfTwo:OT,floorPowerOfTwo:i0,setQuaternionFromProperEuler:VO,normalize:_t,denormalize:Ni};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Et{constructor(e,t,i,r,s,o,a,l,u){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u)}set(e,t,i,r,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],h=i[4],d=i[7],p=i[2],m=i[5],g=i[8],S=r[0],w=r[3],v=r[6],x=r[1],_=r[4],C=r[7],A=r[2],P=r[5],L=r[8];return s[0]=o*S+a*x+l*A,s[3]=o*w+a*_+l*P,s[6]=o*v+a*C+l*L,s[1]=u*S+h*x+d*A,s[4]=u*w+h*_+d*P,s[7]=u*v+h*C+d*L,s[2]=p*S+m*x+g*A,s[5]=p*w+m*_+g*P,s[8]=p*v+m*C+g*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return t*o*h-t*a*u-i*s*h+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=h*o-a*u,p=a*l-h*s,m=u*s-o*l,g=t*d+i*p+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/g;return e[0]=d*S,e[1]=(r*u-h*i)*S,e[2]=(a*i-r*o)*S,e[3]=p*S,e[4]=(h*t-r*l)*S,e[5]=(r*s-a*t)*S,e[6]=m*S,e[7]=(i*l-u*t)*S,e[8]=(o*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(D2.makeScale(e,t)),this}rotate(e){return this.premultiply(D2.makeRotation(-e)),this}translate(e,t){return this.premultiply(D2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const D2=new Et;function DT(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const GO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cu(n,e){return new GO[n](e)}function hh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const AE={};function Lf(n){n in AE||(AE[n]=!0,console.warn(n))}function zu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function N2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const WO=new Et().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),jO=new Et().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function XO(n){return n.convertSRGBToLinear().applyMatrix3(jO)}function $O(n){return n.applyMatrix3(WO).convertLinearToSRGB()}const YO={[Er]:n=>n,[yt]:n=>n.convertSRGBToLinear(),[v_]:XO},qO={[Er]:n=>n,[yt]:n=>n.convertLinearToSRGB(),[v_]:$O},qi={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Er},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=YO[e],r=qO[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Fl;class x_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Fl===void 0&&(Fl=hh("canvas")),Fl.width=e.width,Fl.height=e.height;const i=Fl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Fl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=zu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(zu(t[i]/255)*255):t[i]=zu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZO=0;class Xa{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZO++}),this.uuid=Qi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(U2(r[o].image)):s.push(U2(r[o]))}else s=U2(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function U2(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?x_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let KO=0;class gn extends xs{constructor(e=gn.DEFAULT_IMAGE,t=gn.DEFAULT_MAPPING,i=fi,r=fi,s=wn,o=Jo,a=Di,l=ps,u=gn.DEFAULT_ANISOTROPY,h=Go){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:KO++}),this.uuid=Qi(),this.name="",this.source=new Xa(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(Lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Ho?yt:Go),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Z0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sh:e.x=e.x-Math.floor(e.x);break;case fi:e.x=e.x<0?0:1;break;case oh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sh:e.y=e.y-Math.floor(e.y);break;case fi:e.y=e.y<0?0:1;break;case oh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===yt?Ho:g_}set encoding(e){Lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Ho?yt:Go}}gn.DEFAULT_IMAGE=null;gn.DEFAULT_MAPPING=Z0;gn.DEFAULT_ANISOTROPY=1;class Ut{constructor(e=0,t=0,i=0,r=1){Ut.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],h=l[4],d=l[8],p=l[1],m=l[5],g=l[9],S=l[2],w=l[6],v=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-S)<.01&&Math.abs(g-w)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+S)<.1&&Math.abs(g+w)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(u+1)/2,C=(m+1)/2,A=(v+1)/2,P=(h+p)/4,L=(d+S)/4,O=(g+w)/4;return _>C&&_>A?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=P/i,s=L/i):C>A?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=P/r,s=O/r):A<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(A),i=L/s,r=O/s),this.set(i,r,s,t),this}let x=Math.sqrt((w-g)*(w-g)+(d-S)*(d-S)+(p-h)*(p-h));return Math.abs(x)<.001&&(x=1),this.x=(w-g)/x,this.y=(d-S)/x,this.z=(p-h)/x,this.w=Math.acos((u+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class NT extends xs{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Lf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Ho?yt:Go),this.texture=new gn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:wn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Xa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Wr extends NT{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Q0 extends gn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class JO extends Wr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Q0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class __ extends gn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QO extends Wr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new __(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class eD extends Wr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class hi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],g=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=S;return}if(d!==S||l!==p||u!==m||h!==g){let w=1-a;const v=l*p+u*m+h*g+d*S,x=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const A=Math.sqrt(_),P=Math.atan2(A,v*x);w=Math.sin(w*P)/A,a=Math.sin(a*P)/A}const C=a*x;if(l=l*w+p*C,u=u*w+m*C,h=h*w+g*C,d=d*w+S*C,w===1-a){const A=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=A,u*=A,h*=A,d*=A}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+h*d+l*m-u*p,e[t+1]=l*g+h*p+u*d-a*m,e[t+2]=u*g+h*m+a*p-l*d,e[t+3]=h*g-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=p*h*d+u*m*g,this._y=u*m*d-p*h*g,this._z=u*h*g+p*m*d,this._w=u*h*d-p*m*g;break;case"YXZ":this._x=p*h*d+u*m*g,this._y=u*m*d-p*h*g,this._z=u*h*g-p*m*d,this._w=u*h*d+p*m*g;break;case"ZXY":this._x=p*h*d-u*m*g,this._y=u*m*d+p*h*g,this._z=u*h*g+p*m*d,this._w=u*h*d-p*m*g;break;case"ZYX":this._x=p*h*d-u*m*g,this._y=u*m*d+p*h*g,this._z=u*h*g-p*m*d,this._w=u*h*d+p*m*g;break;case"YZX":this._x=p*h*d+u*m*g,this._y=u*m*d+p*h*g,this._z=u*h*g-p*m*d,this._w=u*h*d-p*m*g;break;case"XZY":this._x=p*h*d-u*m*g,this._y=u*m*d-p*h*g,this._z=u*h*g+p*m*d,this._w=u*h*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,h=t._w;return this._x=i*h+o*a+r*u-s*l,this._y=r*h+o*l+s*a-i*u,this._z=s*h+o*u+i*l-r*a,this._w=o*h-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),d=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(bE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,h=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return k2.copy(this).projectOnVector(e),this.sub(k2)}reflect(e){return this.sub(k2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const k2=new k,bE=new hi;class _s{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ps.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ps.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ps.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Bl.copy(e.boundingBox),Bl.applyMatrix4(e.matrixWorld),this.union(Bl);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ps.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ps)}else r.boundingBox===null&&r.computeBoundingBox(),Bl.copy(r.boundingBox),Bl.applyMatrix4(e.matrixWorld),this.union(Bl)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ps),Ps.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wc),cp.subVectors(this.max,Wc),zl.subVectors(e.a,Wc),Vl.subVectors(e.b,Wc),Hl.subVectors(e.c,Wc),go.subVectors(Vl,zl),vo.subVectors(Hl,Vl),Sa.subVectors(zl,Hl);let t=[0,-go.z,go.y,0,-vo.z,vo.y,0,-Sa.z,Sa.y,go.z,0,-go.x,vo.z,0,-vo.x,Sa.z,0,-Sa.x,-go.y,go.x,0,-vo.y,vo.x,0,-Sa.y,Sa.x,0];return!F2(t,zl,Vl,Hl,cp)||(t=[1,0,0,0,1,0,0,0,1],!F2(t,zl,Vl,Hl,cp))?!1:(fp.crossVectors(go,vo),t=[fp.x,fp.y,fp.z],F2(t,zl,Vl,Hl,cp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ps).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ps).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(bs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),bs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),bs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),bs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),bs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),bs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),bs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),bs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(bs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bs=[new k,new k,new k,new k,new k,new k,new k,new k],Ps=new k,Bl=new _s,zl=new k,Vl=new k,Hl=new k,go=new k,vo=new k,Sa=new k,Wc=new k,cp=new k,fp=new k,wa=new k;function F2(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){wa.fromArray(n,s);const a=r.x*Math.abs(wa.x)+r.y*Math.abs(wa.y)+r.z*Math.abs(wa.z),l=e.dot(wa),u=t.dot(wa),h=i.dot(wa);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const tD=new _s,jc=new k,B2=new k;class jr{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):tD.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jc.subVectors(e,this.center);const t=jc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(jc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(B2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jc.copy(e.center).add(B2)),this.expandByPoint(jc.copy(e.center).sub(B2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Rs=new k,z2=new k,hp=new k,yo=new k,V2=new k,dp=new k,H2=new k;class cc{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Rs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rs.copy(this.origin).addScaledVector(this.direction,t),Rs.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){z2.copy(e).add(t).multiplyScalar(.5),hp.copy(t).sub(e).normalize(),yo.copy(this.origin).sub(z2);const s=e.distanceTo(t)*.5,o=-this.direction.dot(hp),a=yo.dot(this.direction),l=-yo.dot(hp),u=yo.lengthSq(),h=Math.abs(1-o*o);let d,p,m,g;if(h>0)if(d=o*l-a,p=o*a-l,g=s*h,d>=0)if(p>=-g)if(p<=g){const S=1/h;d*=S,p*=S,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(z2).addScaledVector(hp,p),m}intersectSphere(e,t){Rs.subVectors(e.center,this.origin);const i=Rs.dot(this.direction),r=Rs.dot(Rs)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Rs)!==null}intersectTriangle(e,t,i,r,s){V2.subVectors(t,e),dp.subVectors(i,e),H2.crossVectors(V2,dp);let o=this.direction.dot(H2),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;yo.subVectors(this.origin,e);const l=a*this.direction.dot(dp.crossVectors(yo,dp));if(l<0)return null;const u=a*this.direction.dot(V2.cross(yo));if(u<0||l+u>o)return null;const h=-a*yo.dot(H2);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vt{constructor(e,t,i,r,s,o,a,l,u,h,d,p,m,g,S,w){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u,h,d,p,m,g,S,w)}set(e,t,i,r,s,o,a,l,u,h,d,p,m,g,S,w){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=u,v[6]=h,v[10]=d,v[14]=p,v[3]=m,v[7]=g,v[11]=S,v[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Gl.setFromMatrixColumn(e,0).length(),s=1/Gl.setFromMatrixColumn(e,1).length(),o=1/Gl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,g=a*h,S=a*d;t[0]=l*h,t[4]=-l*d,t[8]=u,t[1]=m+g*u,t[5]=p-S*u,t[9]=-a*l,t[2]=S-p*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,g=u*h,S=u*d;t[0]=p+S*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-g,t[6]=S+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,g=u*h,S=u*d;t[0]=p-S*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*h,t[9]=S-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,g=a*h,S=a*d;t[0]=l*h,t[4]=g*u-m,t[8]=p*u+S,t[1]=l*d,t[5]=S*u+p,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,S=a*u;t[0]=l*h,t[4]=S-p*d,t[8]=g*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-u*h,t[6]=m*d+g,t[10]=p-S*d}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,S=a*u;t[0]=l*h,t[4]=-d,t[8]=u*h,t[1]=p*d+S,t[5]=o*h,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*h,t[10]=S*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nD,e,iD)}lookAt(e,t,i){const r=this.elements;return $i.subVectors(e,t),$i.lengthSq()===0&&($i.z=1),$i.normalize(),xo.crossVectors(i,$i),xo.lengthSq()===0&&(Math.abs(i.z)===1?$i.x+=1e-4:$i.z+=1e-4,$i.normalize(),xo.crossVectors(i,$i)),xo.normalize(),pp.crossVectors($i,xo),r[0]=xo.x,r[4]=pp.x,r[8]=$i.x,r[1]=xo.y,r[5]=pp.y,r[9]=$i.y,r[2]=xo.z,r[6]=pp.z,r[10]=$i.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],h=i[1],d=i[5],p=i[9],m=i[13],g=i[2],S=i[6],w=i[10],v=i[14],x=i[3],_=i[7],C=i[11],A=i[15],P=r[0],L=r[4],O=r[8],b=r[12],I=r[1],F=r[5],Z=r[9],j=r[13],D=r[2],z=r[6],Q=r[10],te=r[14],U=r[3],X=r[7],q=r[11],W=r[15];return s[0]=o*P+a*I+l*D+u*U,s[4]=o*L+a*F+l*z+u*X,s[8]=o*O+a*Z+l*Q+u*q,s[12]=o*b+a*j+l*te+u*W,s[1]=h*P+d*I+p*D+m*U,s[5]=h*L+d*F+p*z+m*X,s[9]=h*O+d*Z+p*Q+m*q,s[13]=h*b+d*j+p*te+m*W,s[2]=g*P+S*I+w*D+v*U,s[6]=g*L+S*F+w*z+v*X,s[10]=g*O+S*Z+w*Q+v*q,s[14]=g*b+S*j+w*te+v*W,s[3]=x*P+_*I+C*D+A*U,s[7]=x*L+_*F+C*z+A*X,s[11]=x*O+_*Z+C*Q+A*q,s[15]=x*b+_*j+C*te+A*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],d=e[6],p=e[10],m=e[14],g=e[3],S=e[7],w=e[11],v=e[15];return g*(+s*l*d-r*u*d-s*a*p+i*u*p+r*a*m-i*l*m)+S*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*h-s*l*h)+w*(+t*u*d-t*a*m-s*o*d+i*o*m+s*a*h-i*u*h)+v*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=e[9],p=e[10],m=e[11],g=e[12],S=e[13],w=e[14],v=e[15],x=d*w*u-S*p*u+S*l*m-a*w*m-d*l*v+a*p*v,_=g*p*u-h*w*u-g*l*m+o*w*m+h*l*v-o*p*v,C=h*S*u-g*d*u+g*a*m-o*S*m-h*a*v+o*d*v,A=g*d*l-h*S*l-g*a*p+o*S*p+h*a*w-o*d*w,P=t*x+i*_+r*C+s*A;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=x*L,e[1]=(S*p*s-d*w*s-S*r*m+i*w*m+d*r*v-i*p*v)*L,e[2]=(a*w*s-S*l*s+S*r*u-i*w*u-a*r*v+i*l*v)*L,e[3]=(d*l*s-a*p*s-d*r*u+i*p*u+a*r*m-i*l*m)*L,e[4]=_*L,e[5]=(h*w*s-g*p*s+g*r*m-t*w*m-h*r*v+t*p*v)*L,e[6]=(g*l*s-o*w*s-g*r*u+t*w*u+o*r*v-t*l*v)*L,e[7]=(o*p*s-h*l*s+h*r*u-t*p*u-o*r*m+t*l*m)*L,e[8]=C*L,e[9]=(g*d*s-h*S*s-g*i*m+t*S*m+h*i*v-t*d*v)*L,e[10]=(o*S*s-g*a*s+g*i*u-t*S*u-o*i*v+t*a*v)*L,e[11]=(h*a*s-o*d*s-h*i*u+t*d*u+o*i*m-t*a*m)*L,e[12]=A*L,e[13]=(h*S*r-g*d*r+g*i*p-t*S*p-h*i*w+t*d*w)*L,e[14]=(g*a*r-o*S*r-g*i*l+t*S*l+o*i*w-t*a*w)*L,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,h*a+i,h*l-r*o,0,u*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,h=o+o,d=a+a,p=s*u,m=s*h,g=s*d,S=o*h,w=o*d,v=a*d,x=l*u,_=l*h,C=l*d,A=i.x,P=i.y,L=i.z;return r[0]=(1-(S+v))*A,r[1]=(m+C)*A,r[2]=(g-_)*A,r[3]=0,r[4]=(m-C)*P,r[5]=(1-(p+v))*P,r[6]=(w+x)*P,r[7]=0,r[8]=(g+_)*L,r[9]=(w-x)*L,r[10]=(1-(p+S))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Gl.set(r[0],r[1],r[2]).length();const o=Gl.set(r[4],r[5],r[6]).length(),a=Gl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Lr.copy(this);const u=1/s,h=1/o,d=1/a;return Lr.elements[0]*=u,Lr.elements[1]*=u,Lr.elements[2]*=u,Lr.elements[4]*=h,Lr.elements[5]*=h,Lr.elements[6]*=h,Lr.elements[8]*=d,Lr.elements[9]*=d,Lr.elements[10]*=d,t.setFromRotationMatrix(Lr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=us){const l=this.elements,u=2*s/(t-e),h=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,g;if(a===us)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===fh)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=us){const l=this.elements,u=1/(t-e),h=1/(i-r),d=1/(o-s),p=(t+e)*u,m=(i+r)*h;let g,S;if(a===us)g=(o+s)*d,S=-2*d;else if(a===fh)g=s*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Gl=new k,Lr=new vt,nD=new k(0,0,0),iD=new k(1,1,1),xo=new k,pp=new k,$i=new k,PE=new vt,RE=new hi;class fc{constructor(e=0,t=0,i=0,r=fc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-pn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(pn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return PE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PE,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return RE.setFromEuler(this),this.setFromQuaternion(RE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fc.DEFAULT_ORDER="XYZ";class Qa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rD=0;const LE=new k,Wl=new hi,Ls=new vt,mp=new k,Xc=new k,sD=new k,oD=new hi,IE=new k(1,0,0),OE=new k(0,1,0),DE=new k(0,0,1),aD={type:"added"},NE={type:"removed"};class Dt extends xs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rD++}),this.uuid=Qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dt.DEFAULT_UP.clone();const e=new k,t=new fc,i=new hi,r=new k(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vt},normalMatrix:{value:new Et}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=Dt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Qa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Wl.setFromAxisAngle(e,t),this.quaternion.multiply(Wl),this}rotateOnWorldAxis(e,t){return Wl.setFromAxisAngle(e,t),this.quaternion.premultiply(Wl),this}rotateX(e){return this.rotateOnAxis(IE,e)}rotateY(e){return this.rotateOnAxis(OE,e)}rotateZ(e){return this.rotateOnAxis(DE,e)}translateOnAxis(e,t){return LE.copy(e).applyQuaternion(this.quaternion),this.position.add(LE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(IE,e)}translateY(e){return this.translateOnAxis(OE,e)}translateZ(e){return this.translateOnAxis(DE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ls.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?mp.copy(e):mp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Xc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ls.lookAt(Xc,mp,this.up):Ls.lookAt(mp,Xc,this.up),this.quaternion.setFromRotationMatrix(Ls),r&&(Ls.extractRotation(r.matrixWorld),Wl.setFromRotationMatrix(Ls),this.quaternion.premultiply(Wl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(aD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(NE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ls.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ls.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ls),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xc,e,sD),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xc,oD,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),g.length>0&&(i.nodes=g)}return i.object=r,i;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Dt.DEFAULT_UP=new k(0,1,0);Dt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ir=new k,Is=new k,G2=new k,Os=new k,jl=new k,Xl=new k,UE=new k,W2=new k,j2=new k,X2=new k;let gp=!1;class Oi{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ir.subVectors(e,t),r.cross(Ir);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ir.subVectors(r,t),Is.subVectors(i,t),G2.subVectors(e,t);const o=Ir.dot(Ir),a=Ir.dot(Is),l=Ir.dot(G2),u=Is.dot(Is),h=Is.dot(G2),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*h)*p,g=(o*h-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Os),Os.x>=0&&Os.y>=0&&Os.x+Os.y<=1}static getUV(e,t,i,r,s,o,a,l){return gp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),gp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Os),l.setScalar(0),l.addScaledVector(s,Os.x),l.addScaledVector(o,Os.y),l.addScaledVector(a,Os.z),l}static isFrontFacing(e,t,i,r){return Ir.subVectors(i,t),Is.subVectors(e,t),Ir.cross(Is).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ir.subVectors(this.c,this.b),Is.subVectors(this.a,this.b),Ir.cross(Is).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Oi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return gp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),gp=!0),Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Oi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;jl.subVectors(r,i),Xl.subVectors(s,i),W2.subVectors(e,i);const l=jl.dot(W2),u=Xl.dot(W2);if(l<=0&&u<=0)return t.copy(i);j2.subVectors(e,r);const h=jl.dot(j2),d=Xl.dot(j2);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*u;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(jl,o);X2.subVectors(e,s);const m=jl.dot(X2),g=Xl.dot(X2);if(g>=0&&m<=g)return t.copy(s);const S=m*u-l*g;if(S<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(i).addScaledVector(Xl,a);const w=h*g-m*d;if(w<=0&&d-h>=0&&m-g>=0)return UE.subVectors(s,r),a=(d-h)/(d-h+(m-g)),t.copy(r).addScaledVector(UE,a);const v=1/(w+S+p);return o=S*v,a=p*v,t.copy(i).addScaledVector(jl,o).addScaledVector(Xl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let lD=0;class Jn extends xs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lD++}),this.uuid=Qi(),this.name="",this.type="Material",this.blending=Ka,this.side=Js,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=r_,this.blendDst=s_,this.blendEquation=Ba,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=e0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tm,this.stencilZFail=Tm,this.stencilZPass=Tm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ka&&(i.blending=this.blending),this.side!==Js&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const UT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Or={h:0,s:0,l:0},vp={h:0,s:0,l:0};function $2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class $e{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=qi.workingColorSpace){return this.r=e,this.g=t,this.b=i,qi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=qi.workingColorSpace){if(e=y_(e,1),t=pn(t,0,1),i=pn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=$2(o,s,e+1/3),this.g=$2(o,s,e),this.b=$2(o,s,e-1/3)}return qi.toWorkingColorSpace(this,r),this}setStyle(e,t=yt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yt){const i=UT[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zu(e.r),this.g=zu(e.g),this.b=zu(e.b),this}copyLinearToSRGB(e){return this.r=N2(e.r),this.g=N2(e.g),this.b=N2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yt){return qi.fromWorkingColorSpace(li.copy(this),e),Math.round(pn(li.r*255,0,255))*65536+Math.round(pn(li.g*255,0,255))*256+Math.round(pn(li.b*255,0,255))}getHexString(e=yt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qi.workingColorSpace){qi.fromWorkingColorSpace(li.copy(this),t);const i=li.r,r=li.g,s=li.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=qi.workingColorSpace){return qi.fromWorkingColorSpace(li.copy(this),t),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=yt){qi.fromWorkingColorSpace(li.copy(this),e);const t=li.r,i=li.g,r=li.b;return e!==yt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Or),Or.h+=e,Or.s+=t,Or.l+=i,this.setHSL(Or.h,Or.s,Or.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Or),e.getHSL(vp);const i=Rf(Or.h,vp.h,t),r=Rf(Or.s,vp.s,t),s=Rf(Or.l,vp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const li=new $e;$e.NAMES=UT;class la extends Jn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Fs=uD();function uD(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ri(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=pn(n,-65504,65504),Fs.floatView[0]=n;const e=Fs.uint32View[0],t=e>>23&511;return Fs.baseTable[t]+((e&8388607)>>Fs.shiftTable[t])}function df(n){const e=n>>10;return Fs.uint32View[0]=Fs.mantissaTable[Fs.offsetTable[e]+(n&1023)]+Fs.exponentTable[e],Fs.floatView[0]}const cD={toHalfFloat:Ri,fromHalfFloat:df},bn=new k,yp=new _e;class Gt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=ch,this.updateRange={offset:0,count:-1},this.gpuType=ls,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)yp.fromBufferAttribute(this,t),yp.applyMatrix3(e),this.setXY(t,yp.x,yp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix3(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix4(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyNormalMatrix(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.transformDirection(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ni(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_t(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ch&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class fD extends Gt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class hD extends Gt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class dD extends Gt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class pD extends Gt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class S_ extends Gt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class mD extends Gt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class w_ extends Gt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class gD extends Gt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=df(this.array[e*this.itemSize]);return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=Ri(t),this}getY(e){let t=df(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=Ri(t),this}getZ(e){let t=df(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=Ri(t),this}getW(e){let t=df(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=Ri(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.array[e+0]=Ri(t),this.array[e+1]=Ri(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=Ri(t),this.array[e+1]=Ri(i),this.array[e+2]=Ri(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.array[e+0]=Ri(t),this.array[e+1]=Ri(i),this.array[e+2]=Ri(r),this.array[e+3]=Ri(s),this}}class Je extends Gt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class vD extends Gt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let yD=0;const pr=new vt,Y2=new Dt,$l=new k,Yi=new _s,$c=new _s,Vn=new k;class St extends xs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yD++}),this.uuid=Qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(DT(e)?w_:S_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Et().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pr.makeRotationFromQuaternion(e),this.applyMatrix4(pr),this}rotateX(e){return pr.makeRotationX(e),this.applyMatrix4(pr),this}rotateY(e){return pr.makeRotationY(e),this.applyMatrix4(pr),this}rotateZ(e){return pr.makeRotationZ(e),this.applyMatrix4(pr),this}translate(e,t,i){return pr.makeTranslation(e,t,i),this.applyMatrix4(pr),this}scale(e,t,i){return pr.makeScale(e,t,i),this.applyMatrix4(pr),this}lookAt(e){return Y2.lookAt(e),Y2.updateMatrix(),this.applyMatrix4(Y2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($l).negate(),this.translate($l.x,$l.y,$l.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _s);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Yi.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,Yi.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,Yi.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(Yi.min),this.boundingBox.expandByPoint(Yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(Yi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];$c.setFromBufferAttribute(a),this.morphTargetsRelative?(Vn.addVectors(Yi.min,$c.min),Yi.expandByPoint(Vn),Vn.addVectors(Yi.max,$c.max),Yi.expandByPoint(Vn)):(Yi.expandByPoint($c.min),Yi.expandByPoint($c.max))}Yi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Vn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)Vn.fromBufferAttribute(a,u),l&&($l.fromBufferAttribute(e,u),Vn.add($l)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let I=0;I<a;I++)u[I]=new k,h[I]=new k;const d=new k,p=new k,m=new k,g=new _e,S=new _e,w=new _e,v=new k,x=new k;function _(I,F,Z){d.fromArray(r,I*3),p.fromArray(r,F*3),m.fromArray(r,Z*3),g.fromArray(o,I*2),S.fromArray(o,F*2),w.fromArray(o,Z*2),p.sub(d),m.sub(d),S.sub(g),w.sub(g);const j=1/(S.x*w.y-w.x*S.y);isFinite(j)&&(v.copy(p).multiplyScalar(w.y).addScaledVector(m,-S.y).multiplyScalar(j),x.copy(m).multiplyScalar(S.x).addScaledVector(p,-w.x).multiplyScalar(j),u[I].add(v),u[F].add(v),u[Z].add(v),h[I].add(x),h[F].add(x),h[Z].add(x))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let I=0,F=C.length;I<F;++I){const Z=C[I],j=Z.start,D=Z.count;for(let z=j,Q=j+D;z<Q;z+=3)_(i[z+0],i[z+1],i[z+2])}const A=new k,P=new k,L=new k,O=new k;function b(I){L.fromArray(s,I*3),O.copy(L);const F=u[I];A.copy(F),A.sub(L.multiplyScalar(L.dot(F))).normalize(),P.crossVectors(O,F);const j=P.dot(h[I])<0?-1:1;l[I*4]=A.x,l[I*4+1]=A.y,l[I*4+2]=A.z,l[I*4+3]=j}for(let I=0,F=C.length;I<F;++I){const Z=C[I],j=Z.start,D=Z.count;for(let z=j,Q=j+D;z<Q;z+=3)b(i[z+0]),b(i[z+1]),b(i[z+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Gt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new k,s=new k,o=new k,a=new k,l=new k,u=new k,h=new k,d=new k;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),S=e.getX(p+1),w=e.getX(p+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,w),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,S),u.fromBufferAttribute(i,w),a.add(h),l.add(h),u.add(h),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(w,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vn.fromBufferAttribute(e,t),Vn.normalize(),e.setXYZ(t,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,d=a.normalized,p=new u.constructor(l.length*h);let m=0,g=0;for(let S=0,w=l.length;S<w;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*h;for(let v=0;v<h;v++)p[g++]=u[m++]}return new Gt(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new St,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,d=u.length;h<d;h++){const p=u[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kE=new vt,Ea=new cc,xp=new jr,FE=new k,Yl=new k,ql=new k,Zl=new k,q2=new k,_p=new k,Sp=new _e,wp=new _e,Ep=new _e,BE=new k,zE=new k,VE=new k,Mp=new k,Cp=new k;class qn extends Dt{constructor(e=new St,t=new la){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){_p.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],d=s[l];h!==0&&(q2.fromBufferAttribute(d,e),o?_p.addScaledVector(q2,h):_p.addScaledVector(q2.sub(t),h))}t.add(_p)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),xp.copy(i.boundingSphere),xp.applyMatrix4(s),Ea.copy(e.ray).recast(e.near),!(xp.containsPoint(Ea.origin)===!1&&(Ea.intersectSphere(xp,FE)===null||Ea.origin.distanceToSquared(FE)>(e.far-e.near)**2))&&(kE.copy(s).invert(),Ea.copy(e.ray).applyMatrix4(kE),!(i.boundingBox!==null&&Ea.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Ea)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,S=p.length;g<S;g++){const w=p[g],v=o[w.materialIndex],x=Math.max(w.start,m.start),_=Math.min(a.count,Math.min(w.start+w.count,m.start+m.count));for(let C=x,A=_;C<A;C+=3){const P=a.getX(C),L=a.getX(C+1),O=a.getX(C+2);r=Tp(this,v,e,i,u,h,d,P,L,O),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let w=g,v=S;w<v;w+=3){const x=a.getX(w),_=a.getX(w+1),C=a.getX(w+2);r=Tp(this,o,e,i,u,h,d,x,_,C),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,S=p.length;g<S;g++){const w=p[g],v=o[w.materialIndex],x=Math.max(w.start,m.start),_=Math.min(l.count,Math.min(w.start+w.count,m.start+m.count));for(let C=x,A=_;C<A;C+=3){const P=C,L=C+1,O=C+2;r=Tp(this,v,e,i,u,h,d,P,L,O),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let w=g,v=S;w<v;w+=3){const x=w,_=w+1,C=w+2;r=Tp(this,o,e,i,u,h,d,x,_,C),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}}}function xD(n,e,t,i,r,s,o,a){let l;if(e.side===wi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Js,a),l===null)return null;Cp.copy(a),Cp.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Cp);return u<t.near||u>t.far?null:{distance:u,point:Cp.clone(),object:n}}function Tp(n,e,t,i,r,s,o,a,l,u){n.getVertexPosition(a,Yl),n.getVertexPosition(l,ql),n.getVertexPosition(u,Zl);const h=xD(n,e,t,i,Yl,ql,Zl,Mp);if(h){r&&(Sp.fromBufferAttribute(r,a),wp.fromBufferAttribute(r,l),Ep.fromBufferAttribute(r,u),h.uv=Oi.getInterpolation(Mp,Yl,ql,Zl,Sp,wp,Ep,new _e)),s&&(Sp.fromBufferAttribute(s,a),wp.fromBufferAttribute(s,l),Ep.fromBufferAttribute(s,u),h.uv1=Oi.getInterpolation(Mp,Yl,ql,Zl,Sp,wp,Ep,new _e),h.uv2=h.uv1),o&&(BE.fromBufferAttribute(o,a),zE.fromBufferAttribute(o,l),VE.fromBufferAttribute(o,u),h.normal=Oi.getInterpolation(Mp,Yl,ql,Zl,BE,zE,VE,new k),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new k,materialIndex:0};Oi.getNormal(Yl,ql,Zl,d.normal),h.face=d}return h}class dl extends St{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Je(u,3)),this.setAttribute("normal",new Je(h,3)),this.setAttribute("uv",new Je(d,2));function g(S,w,v,x,_,C,A,P,L,O,b){const I=C/L,F=A/O,Z=C/2,j=A/2,D=P/2,z=L+1,Q=O+1;let te=0,U=0;const X=new k;for(let q=0;q<Q;q++){const W=q*F-j;for(let J=0;J<z;J++){const Se=J*I-Z;X[S]=Se*x,X[w]=W*_,X[v]=D,u.push(X.x,X.y,X.z),X[S]=0,X[w]=0,X[v]=P>0?1:-1,h.push(X.x,X.y,X.z),d.push(J/L),d.push(1-q/O),te+=1}}for(let q=0;q<O;q++)for(let W=0;W<L;W++){const J=p+W+z*q,Se=p+W+z*(q+1),we=p+(W+1)+z*(q+1),Ee=p+(W+1)+z*q;l.push(J,Se,Ee),l.push(Se,we,Ee),U+=6}a.addGroup(m,U,b),m+=U,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function yi(n){const e={};for(let t=0;t<n.length;t++){const i=Qu(n[t]);for(const r in i)e[r]=i[r]}return e}function _D(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function kT(n){return n.getRenderTarget()===null?n.outputColorSpace:Er}const FT={clone:Qu,merge:yi};var SD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ys extends Jn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=SD,this.fragmentShader=wD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qu(e.uniforms),this.uniformsGroups=_D(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class kh extends Dt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt,this.coordinateSystem=us}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class En extends kh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ju*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ja*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ju*2*Math.atan(Math.tan(Ja*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ja*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Kl=-90,Jl=1;class BT extends Dt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new En(Kl,Jl,e,t);r.layers=this.layers,this.add(r);const s=new En(Kl,Jl,e,t);s.layers=this.layers,this.add(s);const o=new En(Kl,Jl,e,t);o.layers=this.layers,this.add(o);const a=new En(Kl,Jl,e,t);a.layers=this.layers,this.add(a);const l=new En(Kl,Jl,e,t);l.layers=this.layers,this.add(l);const u=new En(Kl,Jl,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===us)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===fh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,u]=this.children,h=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(h),e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class Fh extends gn{constructor(e,t,i,r,s,o,a,l,u,h){e=e!==void 0?e:[],t=t!==void 0?t:Qs,super(e,t,i,r,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zT extends Wr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Lf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Ho?yt:Go),this.texture=new Fh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:wn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dl(5,5,5),s=new ys({name:"CubemapFromEquirect",uniforms:Qu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:wi,blending:Ws});s.uniforms.tEquirect.value=t;const o=new qn(r,s),a=t.minFilter;return t.minFilter===Jo&&(t.minFilter=wn),new BT(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Z2=new k,ED=new k,MD=new Et;class Mo{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Z2.subVectors(i,t).cross(ED.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Z2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||MD.getNormalMatrix(e),r=this.coplanarPoint(Z2).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ma=new jr,Ap=new k;class e1{constructor(e=new Mo,t=new Mo,i=new Mo,r=new Mo,s=new Mo,o=new Mo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=us){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],h=r[5],d=r[6],p=r[7],m=r[8],g=r[9],S=r[10],w=r[11],v=r[12],x=r[13],_=r[14],C=r[15];if(i[0].setComponents(l-s,p-u,w-m,C-v).normalize(),i[1].setComponents(l+s,p+u,w+m,C+v).normalize(),i[2].setComponents(l+o,p+h,w+g,C+x).normalize(),i[3].setComponents(l-o,p-h,w-g,C-x).normalize(),i[4].setComponents(l-a,p-d,w-S,C-_).normalize(),t===us)i[5].setComponents(l+a,p+d,w+S,C+_).normalize();else if(t===fh)i[5].setComponents(a,d,S,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ma.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ma.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ma)}intersectsSprite(e){return Ma.center.set(0,0,0),Ma.radius=.7071067811865476,Ma.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ma)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Ap.x=r.normal.x>0?e.max.x:e.min.x,Ap.y=r.normal.y>0?e.max.y:e.min.y,Ap.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ap)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function VT(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function CD(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,h){const d=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,d,p),u.onUploadCallback();let g;if(d instanceof Float32Array)g=n.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)g=n.SHORT;else if(d instanceof Uint32Array)g=n.UNSIGNED_INT;else if(d instanceof Int32Array)g=n.INT;else if(d instanceof Int8Array)g=n.BYTE;else if(d instanceof Uint8Array)g=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)g=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,d){const p=h.array,m=h.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h&&(n.deleteBuffer(h.buffer),i.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,h)):d.version<u.version&&(s(d.buffer,u,h),d.version=u.version)}return{get:o,remove:a,update:l}}class Bh extends St{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,h=l+1,d=e/a,p=t/l,m=[],g=[],S=[],w=[];for(let v=0;v<h;v++){const x=v*p-o;for(let _=0;_<u;_++){const C=_*d-s;g.push(C,-x,0),S.push(0,0,1),w.push(_/a),w.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const _=x+u*v,C=x+u*(v+1),A=x+1+u*(v+1),P=x+1+u*v;m.push(_,C,P),m.push(C,A,P)}this.setIndex(m),this.setAttribute("position",new Je(g,3)),this.setAttribute("normal",new Je(S,3)),this.setAttribute("uv",new Je(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bh(e.width,e.height,e.widthSegments,e.heightSegments)}}var TD=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,AD=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bD=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,PD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RD=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,LD=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ID=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,OD=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,DD=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ND=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,UD=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kD=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,FD=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BD=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,zD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,VD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HD=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,GD=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WD=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jD=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,XD=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$D=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,YD=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qD=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZD=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KD=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,JD=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QD=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,eN="gl_FragColor = linearToOutputTexel( gl_FragColor );",tN=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,nN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,iN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sN=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,oN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,aN=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,lN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,fN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hN=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,dN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,pN=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,mN=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,gN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vN=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_N=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,SN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,EN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,MN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,CN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,TN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,AN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,RN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,LN=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,IN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ON=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DN=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,UN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kN=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,FN=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,BN=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,zN=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,VN=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,HN=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,GN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jN=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XN=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$N=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,YN=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,qN=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ZN=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KN=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,JN=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,QN=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eU=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,iU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sU=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,oU=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,aU=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,fU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gU=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vU=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yU=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xU=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_U=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SU=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,wU=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const EU=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,MU=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TU=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bU=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PU=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,RU=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,LU=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,IU=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,OU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,DU=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NU=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UU=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kU=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,FU=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BU=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zU=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VU=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,HU=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GU=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,WU=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,jU=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XU=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$U=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,YU=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qU=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZU=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KU=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,JU=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,QU=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ek=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xt={alphahash_fragment:TD,alphahash_pars_fragment:AD,alphamap_fragment:bD,alphamap_pars_fragment:PD,alphatest_fragment:RD,alphatest_pars_fragment:LD,aomap_fragment:ID,aomap_pars_fragment:OD,begin_vertex:DD,beginnormal_vertex:ND,bsdfs:UD,iridescence_fragment:kD,bumpmap_pars_fragment:FD,clipping_planes_fragment:BD,clipping_planes_pars_fragment:zD,clipping_planes_pars_vertex:VD,clipping_planes_vertex:HD,color_fragment:GD,color_pars_fragment:WD,color_pars_vertex:jD,color_vertex:XD,common:$D,cube_uv_reflection_fragment:YD,defaultnormal_vertex:qD,displacementmap_pars_vertex:ZD,displacementmap_vertex:KD,emissivemap_fragment:JD,emissivemap_pars_fragment:QD,colorspace_fragment:eN,colorspace_pars_fragment:tN,envmap_fragment:nN,envmap_common_pars_fragment:iN,envmap_pars_fragment:rN,envmap_pars_vertex:sN,envmap_physical_pars_fragment:vN,envmap_vertex:oN,fog_vertex:aN,fog_pars_vertex:lN,fog_fragment:uN,fog_pars_fragment:cN,gradientmap_pars_fragment:fN,lightmap_fragment:hN,lightmap_pars_fragment:dN,lights_lambert_fragment:pN,lights_lambert_pars_fragment:mN,lights_pars_begin:gN,lights_toon_fragment:yN,lights_toon_pars_fragment:xN,lights_phong_fragment:_N,lights_phong_pars_fragment:SN,lights_physical_fragment:wN,lights_physical_pars_fragment:EN,lights_fragment_begin:MN,lights_fragment_maps:CN,lights_fragment_end:TN,logdepthbuf_fragment:AN,logdepthbuf_pars_fragment:bN,logdepthbuf_pars_vertex:PN,logdepthbuf_vertex:RN,map_fragment:LN,map_pars_fragment:IN,map_particle_fragment:ON,map_particle_pars_fragment:DN,metalnessmap_fragment:NN,metalnessmap_pars_fragment:UN,morphcolor_vertex:kN,morphnormal_vertex:FN,morphtarget_pars_vertex:BN,morphtarget_vertex:zN,normal_fragment_begin:VN,normal_fragment_maps:HN,normal_pars_fragment:GN,normal_pars_vertex:WN,normal_vertex:jN,normalmap_pars_fragment:XN,clearcoat_normal_fragment_begin:$N,clearcoat_normal_fragment_maps:YN,clearcoat_pars_fragment:qN,iridescence_pars_fragment:ZN,opaque_fragment:KN,packing:JN,premultiplied_alpha_fragment:QN,project_vertex:eU,dithering_fragment:tU,dithering_pars_fragment:nU,roughnessmap_fragment:iU,roughnessmap_pars_fragment:rU,shadowmap_pars_fragment:sU,shadowmap_pars_vertex:oU,shadowmap_vertex:aU,shadowmask_pars_fragment:lU,skinbase_vertex:uU,skinning_pars_vertex:cU,skinning_vertex:fU,skinnormal_vertex:hU,specularmap_fragment:dU,specularmap_pars_fragment:pU,tonemapping_fragment:mU,tonemapping_pars_fragment:gU,transmission_fragment:vU,transmission_pars_fragment:yU,uv_pars_fragment:xU,uv_pars_vertex:_U,uv_vertex:SU,worldpos_vertex:wU,background_vert:EU,background_frag:MU,backgroundCube_vert:CU,backgroundCube_frag:TU,cube_vert:AU,cube_frag:bU,depth_vert:PU,depth_frag:RU,distanceRGBA_vert:LU,distanceRGBA_frag:IU,equirect_vert:OU,equirect_frag:DU,linedashed_vert:NU,linedashed_frag:UU,meshbasic_vert:kU,meshbasic_frag:FU,meshlambert_vert:BU,meshlambert_frag:zU,meshmatcap_vert:VU,meshmatcap_frag:HU,meshnormal_vert:GU,meshnormal_frag:WU,meshphong_vert:jU,meshphong_frag:XU,meshphysical_vert:$U,meshphysical_frag:YU,meshtoon_vert:qU,meshtoon_frag:ZU,points_vert:KU,points_frag:JU,shadow_vert:QU,shadow_frag:ek,sprite_vert:tk,sprite_frag:nk},Ge={common:{diffuse:{value:new $e(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $e(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $e(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new $e(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}}},Fr={basic:{uniforms:yi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:yi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new $e(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:yi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new $e(0)},specular:{value:new $e(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:yi([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new $e(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:yi([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new $e(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:yi([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:yi([Ge.points,Ge.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:yi([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:yi([Ge.common,Ge.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:yi([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:yi([Ge.sprite,Ge.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:yi([Ge.common,Ge.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:yi([Ge.lights,Ge.fog,{color:{value:new $e(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Fr.physical={uniforms:yi([Fr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new $e(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new $e(0)},specularColor:{value:new $e(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Et}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const bp={r:0,b:0,g:0};function ik(n,e,t,i,r,s,o){const a=new $e(0);let l=s===!0?0:1,u,h,d=null,p=0,m=null;function g(w,v){let x=!1,_=v.isScene===!0?v.background:null;switch(_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_===null?S(a,l):_&&_.isColor&&(S(_,1),x=!0),n.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),x=!0;break}(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===uc)?(h===void 0&&(h=new qn(new dl(1,1,1),new ys({name:"BackgroundCubeMaterial",uniforms:Qu(Fr.backgroundCube.uniforms),vertexShader:Fr.backgroundCube.vertexShader,fragmentShader:Fr.backgroundCube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,L,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=_,h.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,h.material.toneMapped=_.colorSpace!==yt,(d!==_||p!==_.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=_,p=_.version,m=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new qn(new Bh(2,2),new ys({name:"BackgroundMaterial",uniforms:Qu(Fr.background.uniforms),vertexShader:Fr.background.vertexShader,fragmentShader:Fr.background.fragmentShader,side:Js,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=_.colorSpace!==yt,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||p!==_.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=_,p=_.version,m=n.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null))}function S(w,v){w.getRGB(bp,kT(n)),i.buffers.color.setClear(bp.r,bp.g,bp.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(w,v=1){a.set(w),l=v,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,S(a,l)},render:g}}function rk(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=w(null);let u=l,h=!1;function d(D,z,Q,te,U){let X=!1;if(o){const q=S(te,Q,z);u!==q&&(u=q,m(u.object)),X=v(D,te,Q,U),X&&x(D,te,Q,U)}else{const q=z.wireframe===!0;(u.geometry!==te.id||u.program!==Q.id||u.wireframe!==q)&&(u.geometry=te.id,u.program=Q.id,u.wireframe=q,X=!0)}U!==null&&t.update(U,n.ELEMENT_ARRAY_BUFFER),(X||h)&&(h=!1,O(D,z,Q,te),U!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(U).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(D){return i.isWebGL2?n.bindVertexArray(D):s.bindVertexArrayOES(D)}function g(D){return i.isWebGL2?n.deleteVertexArray(D):s.deleteVertexArrayOES(D)}function S(D,z,Q){const te=Q.wireframe===!0;let U=a[D.id];U===void 0&&(U={},a[D.id]=U);let X=U[z.id];X===void 0&&(X={},U[z.id]=X);let q=X[te];return q===void 0&&(q=w(p()),X[te]=q),q}function w(D){const z=[],Q=[],te=[];for(let U=0;U<r;U++)z[U]=0,Q[U]=0,te[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:Q,attributeDivisors:te,object:D,attributes:{},index:null}}function v(D,z,Q,te){const U=u.attributes,X=z.attributes;let q=0;const W=Q.getAttributes();for(const J in W)if(W[J].location>=0){const we=U[J];let Ee=X[J];if(Ee===void 0&&(J==="instanceMatrix"&&D.instanceMatrix&&(Ee=D.instanceMatrix),J==="instanceColor"&&D.instanceColor&&(Ee=D.instanceColor)),we===void 0||we.attribute!==Ee||Ee&&we.data!==Ee.data)return!0;q++}return u.attributesNum!==q||u.index!==te}function x(D,z,Q,te){const U={},X=z.attributes;let q=0;const W=Q.getAttributes();for(const J in W)if(W[J].location>=0){let we=X[J];we===void 0&&(J==="instanceMatrix"&&D.instanceMatrix&&(we=D.instanceMatrix),J==="instanceColor"&&D.instanceColor&&(we=D.instanceColor));const Ee={};Ee.attribute=we,we&&we.data&&(Ee.data=we.data),U[J]=Ee,q++}u.attributes=U,u.attributesNum=q,u.index=te}function _(){const D=u.newAttributes;for(let z=0,Q=D.length;z<Q;z++)D[z]=0}function C(D){A(D,0)}function A(D,z){const Q=u.newAttributes,te=u.enabledAttributes,U=u.attributeDivisors;Q[D]=1,te[D]===0&&(n.enableVertexAttribArray(D),te[D]=1),U[D]!==z&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,z),U[D]=z)}function P(){const D=u.newAttributes,z=u.enabledAttributes;for(let Q=0,te=z.length;Q<te;Q++)z[Q]!==D[Q]&&(n.disableVertexAttribArray(Q),z[Q]=0)}function L(D,z,Q,te,U,X,q){q===!0?n.vertexAttribIPointer(D,z,Q,U,X):n.vertexAttribPointer(D,z,Q,te,U,X)}function O(D,z,Q,te){if(i.isWebGL2===!1&&(D.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const U=te.attributes,X=Q.getAttributes(),q=z.defaultAttributeValues;for(const W in X){const J=X[W];if(J.location>=0){let Se=U[W];if(Se===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(Se=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(Se=D.instanceColor)),Se!==void 0){const we=Se.normalized,Ee=Se.itemSize,Oe=t.get(Se);if(Oe===void 0)continue;const ze=Oe.buffer,Ke=Oe.type,at=Oe.bytesPerElement,ye=i.isWebGL2===!0&&(Ke===n.INT||Ke===n.UNSIGNED_INT||Se.gpuType===u_);if(Se.isInterleavedBufferAttribute){const de=Se.data,H=de.stride,fe=Se.offset;if(de.isInstancedInterleavedBuffer){for(let re=0;re<J.locationSize;re++)A(J.location+re,de.meshPerAttribute);D.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let re=0;re<J.locationSize;re++)C(J.location+re);n.bindBuffer(n.ARRAY_BUFFER,ze);for(let re=0;re<J.locationSize;re++)L(J.location+re,Ee/J.locationSize,Ke,we,H*at,(fe+Ee/J.locationSize*re)*at,ye)}else{if(Se.isInstancedBufferAttribute){for(let de=0;de<J.locationSize;de++)A(J.location+de,Se.meshPerAttribute);D.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let de=0;de<J.locationSize;de++)C(J.location+de);n.bindBuffer(n.ARRAY_BUFFER,ze);for(let de=0;de<J.locationSize;de++)L(J.location+de,Ee/J.locationSize,Ke,we,Ee*at,Ee/J.locationSize*de*at,ye)}}else if(q!==void 0){const we=q[W];if(we!==void 0)switch(we.length){case 2:n.vertexAttrib2fv(J.location,we);break;case 3:n.vertexAttrib3fv(J.location,we);break;case 4:n.vertexAttrib4fv(J.location,we);break;default:n.vertexAttrib1fv(J.location,we)}}}}P()}function b(){Z();for(const D in a){const z=a[D];for(const Q in z){const te=z[Q];for(const U in te)g(te[U].object),delete te[U];delete z[Q]}delete a[D]}}function I(D){if(a[D.id]===void 0)return;const z=a[D.id];for(const Q in z){const te=z[Q];for(const U in te)g(te[U].object),delete te[U];delete z[Q]}delete a[D.id]}function F(D){for(const z in a){const Q=a[z];if(Q[D.id]===void 0)continue;const te=Q[D.id];for(const U in te)g(te[U].object),delete te[U];delete Q[D.id]}}function Z(){j(),h=!0,u!==l&&(u=l,m(u.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Z,resetDefaultState:j,dispose:b,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:_,enableAttribute:C,disableUnusedAttributes:P}}function sk(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function ok(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,C=o||e.has("OES_texture_float"),A=_&&C,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:S,maxVertexUniforms:w,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:_,floatFragmentTextures:C,floatVertexTextures:A,maxSamples:P}}function ak(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Mo,a=new Et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const g=d.clippingPlanes,S=d.clipIntersection,w=d.clipShadows,v=n.get(d);if(!r||g===null||g.length===0||s&&!w)s?h(null):u();else{const x=s?0:i,_=x*4;let C=v.clippingState||null;l.value=C,C=h(g,p,_,m);for(let A=0;A!==_;++A)C[A]=t[A];v.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,g){const S=d!==null?d.length:0;let w=null;if(S!==0){if(w=l.value,g!==!0||w===null){const v=m+S*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(w===null||w.length<v)&&(w=new Float32Array(v));for(let _=0,C=m;_!==S;++_,C+=4)o.copy(d[_]).applyMatrix4(x,a),o.normal.toArray(w,C),w[C+3]=o.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,w}}function lk(n){let e=new WeakMap;function t(o,a){return a===ih?o.mapping=Qs:a===rh&&(o.mapping=Ko),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===ih||a===rh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new zT(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Wo extends kh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Tu=4,HE=[.125,.215,.35,.446,.526,.582],za=20,K2=new Wo,GE=new $e;let J2=null;const Na=(1+Math.sqrt(5))/2,Ql=1/Na,WE=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Na,Ql),new k(0,Na,-Ql),new k(Ql,0,Na),new k(-Ql,0,Na),new k(Na,Ql,0),new k(-Na,Ql,0)];class w3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){J2=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=$E(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(J2),e.scissorTest=!1,Pp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Qs||e.mapping===Ko?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),J2=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:wn,minFilter:wn,generateMipmaps:!1,type:Ku,format:Di,colorSpace:Er,depthBuffer:!1},r=jE(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=jE(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=uk(s)),this._blurMaterial=ck(s,e,t)}return r}_compileMaterial(e){const t=new qn(this._lodPlanes[0],e);this._renderer.compile(t,K2)}_sceneToCubeUV(e,t,i,r){const a=new En(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(GE),h.toneMapping=ds,h.autoClear=!1;const m=new la({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),g=new qn(new dl,m);let S=!1;const w=e.background;w?w.isColor&&(m.color.copy(w),e.background=null,S=!0):(m.color.copy(GE),S=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v]));const _=this._cubeSize;Pp(r,x*_,v>2?_:0,_,_),h.setRenderTarget(r),S&&h.render(g,a),h.render(e,a)}g.geometry.dispose(),g.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=w}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Qs||e.mapping===Ko;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=$E()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XE());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Pp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,K2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=WE[(r-1)%WE.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new qn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*za-1),S=s/g,w=isFinite(s)?1+Math.floor(h*S):za;w>za&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${za}`);const v=[];let x=0;for(let L=0;L<za;++L){const O=L/S,b=Math.exp(-O*O/2);v.push(b),L===0?x+=b:L<w&&(x+=2*b)}for(let L=0;L<v.length;L++)v[L]=v[L]/x;p.envMap.value=e.texture,p.samples.value=w,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=g,p.mipInt.value=_-i;const C=this._sizeLods[r],A=3*C*(r>_-Tu?r-_+Tu:0),P=4*(this._cubeSize-C);Pp(t,A,P,3*C,2*C),l.setRenderTarget(t),l.render(d,K2)}}function uk(n){const e=[],t=[],i=[];let r=n;const s=n-Tu+1+HE.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Tu?l=HE[o-n+Tu-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),h=-u,d=1+u,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,g=6,S=3,w=2,v=1,x=new Float32Array(S*g*m),_=new Float32Array(w*g*m),C=new Float32Array(v*g*m);for(let P=0;P<m;P++){const L=P%3*2/3-1,O=P>2?0:-1,b=[L,O,0,L+2/3,O,0,L+2/3,O+1,0,L,O,0,L+2/3,O+1,0,L,O+1,0];x.set(b,S*g*P),_.set(p,w*g*P);const I=[P,P,P,P,P,P];C.set(I,v*g*P)}const A=new St;A.setAttribute("position",new Gt(x,S)),A.setAttribute("uv",new Gt(_,w)),A.setAttribute("faceIndex",new Gt(C,v)),e.push(A),r>Tu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function jE(n,e,t){const i=new Wr(n,e,t);return i.texture.mapping=uc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Pp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function ck(n,e,t){const i=new Float32Array(za),r=new k(0,1,0);return new ys({name:"SphericalGaussianBlur",defines:{n:za,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:E_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ws,depthTest:!1,depthWrite:!1})}function XE(){return new ys({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:E_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ws,depthTest:!1,depthWrite:!1})}function $E(){return new ys({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:E_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ws,depthTest:!1,depthWrite:!1})}function E_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fk(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===ih||l===rh,h=l===Qs||l===Ko;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new w3(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new w3(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function hk(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function dk(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);for(const g in p.morphAttributes){const S=p.morphAttributes[g];for(let w=0,v=S.length;w<v;w++)e.remove(S[w])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const g in m){const S=m[g];for(let w=0,v=S.length;w<v;w++)e.update(S[w],n.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,g=d.attributes.position;let S=0;if(m!==null){const x=m.array;S=m.version;for(let _=0,C=x.length;_<C;_+=3){const A=x[_+0],P=x[_+1],L=x[_+2];p.push(A,P,P,L,L,A)}}else if(g!==void 0){const x=g.array;S=g.version;for(let _=0,C=x.length/3-1;_<C;_+=3){const A=_+0,P=_+1,L=_+2;p.push(A,P,P,L,L,A)}}else return;const w=new(DT(p)?w_:S_)(p,1);w.version=S;const v=s.get(d);v&&e.remove(v),s.set(d,w)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function pk(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,g){if(g===0)return;let S,w;if(r)S=n,w="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[w](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=d}function mk(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function gk(n,e){return n[0]-e[0]}function vk(n,e){return Math.abs(e[1])-Math.abs(n[1])}function yk(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ut,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,g=m!==void 0?m.length:0;let S=s.get(h);if(S===void 0||S.count!==g){let D=function(){Z.dispose(),s.delete(h),h.removeEventListener("dispose",D)};S!==void 0&&S.texture.dispose();const x=h.morphAttributes.position!==void 0,_=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,A=h.morphAttributes.position||[],P=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let O=0;x===!0&&(O=1),_===!0&&(O=2),C===!0&&(O=3);let b=h.attributes.position.count*O,I=1;b>e.maxTextureSize&&(I=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);const F=new Float32Array(b*I*4*g),Z=new Q0(F,b,I,g);Z.type=ls,Z.needsUpdate=!0;const j=O*4;for(let z=0;z<g;z++){const Q=A[z],te=P[z],U=L[z],X=b*I*4*z;for(let q=0;q<Q.count;q++){const W=q*j;x===!0&&(o.fromBufferAttribute(Q,q),F[X+W+0]=o.x,F[X+W+1]=o.y,F[X+W+2]=o.z,F[X+W+3]=0),_===!0&&(o.fromBufferAttribute(te,q),F[X+W+4]=o.x,F[X+W+5]=o.y,F[X+W+6]=o.z,F[X+W+7]=0),C===!0&&(o.fromBufferAttribute(U,q),F[X+W+8]=o.x,F[X+W+9]=o.y,F[X+W+10]=o.z,F[X+W+11]=U.itemSize===4?o.w:1)}}S={count:g,texture:Z,size:new _e(b,I)},s.set(h,S),h.addEventListener("dispose",D)}let w=0;for(let x=0;x<p.length;x++)w+=p[x];const v=h.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",v),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",S.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",S.size)}else{const m=p===void 0?0:p.length;let g=i[h.id];if(g===void 0||g.length!==m){g=[];for(let _=0;_<m;_++)g[_]=[_,0];i[h.id]=g}for(let _=0;_<m;_++){const C=g[_];C[0]=_,C[1]=p[_]}g.sort(vk);for(let _=0;_<8;_++)_<m&&g[_][1]?(a[_][0]=g[_][0],a[_][1]=g[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(gk);const S=h.morphAttributes.position,w=h.morphAttributes.normal;let v=0;for(let _=0;_<8;_++){const C=a[_],A=C[0],P=C[1];A!==Number.MAX_SAFE_INTEGER&&P?(S&&h.getAttribute("morphTarget"+_)!==S[A]&&h.setAttribute("morphTarget"+_,S[A]),w&&h.getAttribute("morphNormal"+_)!==w[A]&&h.setAttribute("morphNormal"+_,w[A]),r[_]=P,v+=P):(S&&h.hasAttribute("morphTarget"+_)===!0&&h.deleteAttribute("morphTarget"+_),w&&h.hasAttribute("morphNormal"+_)===!0&&h.deleteAttribute("morphNormal"+_),r[_]=0)}const x=h.morphTargetsRelative?1:1-v;d.getUniforms().setValue(n,"morphTargetBaseInfluence",x),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function xk(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,h=l.geometry,d=e.get(l,h);if(r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==u&&(p.update(),r.set(p,u))}return d}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const HT=new gn,GT=new Q0,WT=new __,jT=new Fh,YE=[],qE=[],ZE=new Float32Array(16),KE=new Float32Array(9),JE=new Float32Array(4);function hc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=YE[r];if(s===void 0&&(s=new Float32Array(r),YE[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Un(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function kn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function t1(n,e){let t=qE[e];t===void 0&&(t=new Int32Array(e),qE[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function _k(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Sk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2fv(this.addr,e),kn(t,e)}}function wk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Un(t,e))return;n.uniform3fv(this.addr,e),kn(t,e)}}function Ek(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4fv(this.addr,e),kn(t,e)}}function Mk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;JE.set(i),n.uniformMatrix2fv(this.addr,!1,JE),kn(t,i)}}function Ck(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;KE.set(i),n.uniformMatrix3fv(this.addr,!1,KE),kn(t,i)}}function Tk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;ZE.set(i),n.uniformMatrix4fv(this.addr,!1,ZE),kn(t,i)}}function Ak(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function bk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2iv(this.addr,e),kn(t,e)}}function Pk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3iv(this.addr,e),kn(t,e)}}function Rk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4iv(this.addr,e),kn(t,e)}}function Lk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ik(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2uiv(this.addr,e),kn(t,e)}}function Ok(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3uiv(this.addr,e),kn(t,e)}}function Dk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4uiv(this.addr,e),kn(t,e)}}function Nk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||HT,r)}function Uk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||WT,r)}function kk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||jT,r)}function Fk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||GT,r)}function Bk(n){switch(n){case 5126:return _k;case 35664:return Sk;case 35665:return wk;case 35666:return Ek;case 35674:return Mk;case 35675:return Ck;case 35676:return Tk;case 5124:case 35670:return Ak;case 35667:case 35671:return bk;case 35668:case 35672:return Pk;case 35669:case 35673:return Rk;case 5125:return Lk;case 36294:return Ik;case 36295:return Ok;case 36296:return Dk;case 35678:case 36198:case 36298:case 36306:case 35682:return Nk;case 35679:case 36299:case 36307:return Uk;case 35680:case 36300:case 36308:case 36293:return kk;case 36289:case 36303:case 36311:case 36292:return Fk}}function zk(n,e){n.uniform1fv(this.addr,e)}function Vk(n,e){const t=hc(e,this.size,2);n.uniform2fv(this.addr,t)}function Hk(n,e){const t=hc(e,this.size,3);n.uniform3fv(this.addr,t)}function Gk(n,e){const t=hc(e,this.size,4);n.uniform4fv(this.addr,t)}function Wk(n,e){const t=hc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function jk(n,e){const t=hc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Xk(n,e){const t=hc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $k(n,e){n.uniform1iv(this.addr,e)}function Yk(n,e){n.uniform2iv(this.addr,e)}function qk(n,e){n.uniform3iv(this.addr,e)}function Zk(n,e){n.uniform4iv(this.addr,e)}function Kk(n,e){n.uniform1uiv(this.addr,e)}function Jk(n,e){n.uniform2uiv(this.addr,e)}function Qk(n,e){n.uniform3uiv(this.addr,e)}function eF(n,e){n.uniform4uiv(this.addr,e)}function tF(n,e,t){const i=this.cache,r=e.length,s=t1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||HT,s[o])}function nF(n,e,t){const i=this.cache,r=e.length,s=t1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||WT,s[o])}function iF(n,e,t){const i=this.cache,r=e.length,s=t1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||jT,s[o])}function rF(n,e,t){const i=this.cache,r=e.length,s=t1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||GT,s[o])}function sF(n){switch(n){case 5126:return zk;case 35664:return Vk;case 35665:return Hk;case 35666:return Gk;case 35674:return Wk;case 35675:return jk;case 35676:return Xk;case 5124:case 35670:return $k;case 35667:case 35671:return Yk;case 35668:case 35672:return qk;case 35669:case 35673:return Zk;case 5125:return Kk;case 36294:return Jk;case 36295:return Qk;case 36296:return eF;case 35678:case 36198:case 36298:case 36306:case 35682:return tF;case 35679:case 36299:case 36307:return nF;case 35680:case 36300:case 36308:case 36293:return iF;case 36289:case 36303:case 36311:case 36292:return rF}}class oF{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=Bk(t.type)}}class aF{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=sF(t.type)}}class lF{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Q2=/(\w+)(\])?(\[|\.)?/g;function QE(n,e){n.seq.push(e),n.map[e.id]=e}function uF(n,e,t){const i=n.name,r=i.length;for(Q2.lastIndex=0;;){const s=Q2.exec(i),o=Q2.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){QE(t,u===void 0?new oF(a,n,e):new aF(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new lF(a),QE(t,d)),t=d}}}class Am{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);uF(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function eM(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let cF=0;function fF(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function hF(n){switch(n){case Er:return["Linear","( value )"];case yt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function tM(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+fF(n.getShaderSource(e),o)}else return r}function dF(n,e){const t=hF(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function pF(n,e){let t;switch(e){case o_:t="Linear";break;case oT:t="Reinhard";break;case aT:t="OptimizedCineon";break;case a_:t="ACESFilmic";break;case lT:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function mF(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(pf).join(`
`)}function gF(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function vF(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function pf(n){return n!==""}function nM(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iM(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const yF=/^[ \t]*#include +<([\w\d./]+)>/gm;function E3(n){return n.replace(yF,_F)}const xF=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function _F(n,e){let t=xt[e];if(t===void 0){const i=xF.get(e);if(i!==void 0)t=xt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return E3(t)}const SF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rM(n){return n.replace(SF,wF)}function wF(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function sM(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EF(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===q0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===bf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Nr&&(e="SHADOWMAP_TYPE_VSM"),e}function MF(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Qs:case Ko:e="ENVMAP_TYPE_CUBE";break;case uc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function CF(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ko:e="ENVMAP_MODE_REFRACTION";break}return e}function TF(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Uh:e="ENVMAP_BLENDING_MULTIPLY";break;case rT:e="ENVMAP_BLENDING_MIX";break;case sT:e="ENVMAP_BLENDING_ADD";break}return e}function AF(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function bF(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=EF(t),u=MF(t),h=CF(t),d=TF(t),p=AF(t),m=t.isWebGL2?"":mF(t),g=gF(s),S=r.createProgram();let w,v,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(pf).join(`
`),w.length>0&&(w+=`
`),v=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(pf).join(`
`),v.length>0&&(v+=`
`)):(w=[sM(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pf).join(`
`),v=[m,sM(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ds?"#define TONE_MAPPING":"",t.toneMapping!==ds?xt.tonemapping_pars_fragment:"",t.toneMapping!==ds?pF("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.colorspace_pars_fragment,dF("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(pf).join(`
`)),o=E3(o),o=nM(o,t),o=iM(o,t),a=E3(a),a=nM(a,t),a=iM(a,t),o=rM(o),a=rM(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,v=["#define varying in",t.glslVersion===_3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=x+w+o,C=x+v+a,A=eM(r,r.VERTEX_SHADER,_),P=eM(r,r.FRAGMENT_SHADER,C);if(r.attachShader(S,A),r.attachShader(S,P),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(S).trim(),I=r.getShaderInfoLog(A).trim(),F=r.getShaderInfoLog(P).trim();let Z=!0,j=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(Z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,A,P);else{const D=tM(r,A,"vertex"),z=tM(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+D+`
`+z)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(I===""||F==="")&&(j=!1);j&&(this.diagnostics={runnable:Z,programLog:b,vertexShader:{log:I,prefix:w},fragmentShader:{log:F,prefix:v}})}r.deleteShader(A),r.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new Am(r,S)),L};let O;return this.getAttributes=function(){return O===void 0&&(O=vF(r,S)),O},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=cF++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=A,this.fragmentShader=P,this}let PF=0;class RF{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new LF(e),t.set(e,i)),i}}class LF{constructor(e){this.id=PF++,this.code=e,this.usedTimes=0}}function IF(n,e,t,i,r,s,o){const a=new Qa,l=new RF,u=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(b){return b===0?"uv":`uv${b}`}function w(b,I,F,Z,j){const D=Z.fog,z=j.geometry,Q=b.isMeshStandardMaterial?Z.environment:null,te=(b.isMeshStandardMaterial?t:e).get(b.envMap||Q),U=te&&te.mapping===uc?te.image.height:null,X=g[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const q=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,W=q!==void 0?q.length:0;let J=0;z.morphAttributes.position!==void 0&&(J=1),z.morphAttributes.normal!==void 0&&(J=2),z.morphAttributes.color!==void 0&&(J=3);let Se,we,Ee,Oe;if(X){const Bt=Fr[X];Se=Bt.vertexShader,we=Bt.fragmentShader}else Se=b.vertexShader,we=b.fragmentShader,l.update(b),Ee=l.getVertexShaderID(b),Oe=l.getFragmentShaderID(b);const ze=n.getRenderTarget(),Ke=j.isInstancedMesh===!0,at=!!b.map,ye=!!b.matcap,de=!!te,H=!!b.aoMap,fe=!!b.lightMap,re=!!b.bumpMap,xe=!!b.normalMap,ue=!!b.displacementMap,Re=!!b.emissiveMap,Ce=!!b.metalnessMap,Pe=!!b.roughnessMap,Be=b.anisotropy>0,Me=b.clearcoat>0,dt=b.iridescence>0,V=b.sheen>0,N=b.transmission>0,ae=Be&&!!b.anisotropyMap,Ne=Me&&!!b.clearcoatMap,Ae=Me&&!!b.clearcoatNormalMap,Ue=Me&&!!b.clearcoatRoughnessMap,Qe=dt&&!!b.iridescenceMap,ke=dt&&!!b.iridescenceThicknessMap,ce=V&&!!b.sheenColorMap,Y=V&&!!b.sheenRoughnessMap,pe=!!b.specularMap,be=!!b.specularColorMap,De=!!b.specularIntensityMap,Ve=N&&!!b.transmissionMap,ot=N&&!!b.thicknessMap,Tt=!!b.gradientMap,K=!!b.alphaMap,He=b.alphaTest>0,le=!!b.alphaHash,Le=!!b.extensions,je=!!z.attributes.uv1,bt=!!z.attributes.uv2,Wt=!!z.attributes.uv3;let ln=ds;return b.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(ln=n.toneMapping),{isWebGL2:h,shaderID:X,shaderType:b.type,shaderName:b.name,vertexShader:Se,fragmentShader:we,defines:b.defines,customVertexShaderID:Ee,customFragmentShaderID:Oe,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:Ke,instancingColor:Ke&&j.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ze===null?n.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:Er,map:at,matcap:ye,envMap:de,envMapMode:de&&te.mapping,envMapCubeUVHeight:U,aoMap:H,lightMap:fe,bumpMap:re,normalMap:xe,displacementMap:p&&ue,emissiveMap:Re,normalMapObjectSpace:xe&&b.normalMapType===ET,normalMapTangentSpace:xe&&b.normalMapType===aa,metalnessMap:Ce,roughnessMap:Pe,anisotropy:Be,anisotropyMap:ae,clearcoat:Me,clearcoatMap:Ne,clearcoatNormalMap:Ae,clearcoatRoughnessMap:Ue,iridescence:dt,iridescenceMap:Qe,iridescenceThicknessMap:ke,sheen:V,sheenColorMap:ce,sheenRoughnessMap:Y,specularMap:pe,specularColorMap:be,specularIntensityMap:De,transmission:N,transmissionMap:Ve,thicknessMap:ot,gradientMap:Tt,opaque:b.transparent===!1&&b.blending===Ka,alphaMap:K,alphaTest:He,alphaHash:le,combine:b.combine,mapUv:at&&S(b.map.channel),aoMapUv:H&&S(b.aoMap.channel),lightMapUv:fe&&S(b.lightMap.channel),bumpMapUv:re&&S(b.bumpMap.channel),normalMapUv:xe&&S(b.normalMap.channel),displacementMapUv:ue&&S(b.displacementMap.channel),emissiveMapUv:Re&&S(b.emissiveMap.channel),metalnessMapUv:Ce&&S(b.metalnessMap.channel),roughnessMapUv:Pe&&S(b.roughnessMap.channel),anisotropyMapUv:ae&&S(b.anisotropyMap.channel),clearcoatMapUv:Ne&&S(b.clearcoatMap.channel),clearcoatNormalMapUv:Ae&&S(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ue&&S(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Qe&&S(b.iridescenceMap.channel),iridescenceThicknessMapUv:ke&&S(b.iridescenceThicknessMap.channel),sheenColorMapUv:ce&&S(b.sheenColorMap.channel),sheenRoughnessMapUv:Y&&S(b.sheenRoughnessMap.channel),specularMapUv:pe&&S(b.specularMap.channel),specularColorMapUv:be&&S(b.specularColorMap.channel),specularIntensityMapUv:De&&S(b.specularIntensityMap.channel),transmissionMapUv:Ve&&S(b.transmissionMap.channel),thicknessMapUv:ot&&S(b.thicknessMap.channel),alphaMapUv:K&&S(b.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(xe||Be),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:je,vertexUv2s:bt,vertexUv3s:Wt,pointsUvs:j.isPoints===!0&&!!z.attributes.uv&&(at||K),fog:!!D,useFog:b.fog===!0,fogExp2:D&&D.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:j.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:J,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:ln,useLegacyLights:n._useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===as,flipSided:b.side===wi,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Le&&b.extensions.derivatives===!0,extensionFragDepth:Le&&b.extensions.fragDepth===!0,extensionDrawBuffers:Le&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Le&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function v(b){const I=[];if(b.shaderID?I.push(b.shaderID):(I.push(b.customVertexShaderID),I.push(b.customFragmentShaderID)),b.defines!==void 0)for(const F in b.defines)I.push(F),I.push(b.defines[F]);return b.isRawShaderMaterial===!1&&(x(I,b),_(I,b),I.push(n.outputColorSpace)),I.push(b.customProgramCacheKey),I.join()}function x(b,I){b.push(I.precision),b.push(I.outputColorSpace),b.push(I.envMapMode),b.push(I.envMapCubeUVHeight),b.push(I.mapUv),b.push(I.alphaMapUv),b.push(I.lightMapUv),b.push(I.aoMapUv),b.push(I.bumpMapUv),b.push(I.normalMapUv),b.push(I.displacementMapUv),b.push(I.emissiveMapUv),b.push(I.metalnessMapUv),b.push(I.roughnessMapUv),b.push(I.anisotropyMapUv),b.push(I.clearcoatMapUv),b.push(I.clearcoatNormalMapUv),b.push(I.clearcoatRoughnessMapUv),b.push(I.iridescenceMapUv),b.push(I.iridescenceThicknessMapUv),b.push(I.sheenColorMapUv),b.push(I.sheenRoughnessMapUv),b.push(I.specularMapUv),b.push(I.specularColorMapUv),b.push(I.specularIntensityMapUv),b.push(I.transmissionMapUv),b.push(I.thicknessMapUv),b.push(I.combine),b.push(I.fogExp2),b.push(I.sizeAttenuation),b.push(I.morphTargetsCount),b.push(I.morphAttributeCount),b.push(I.numDirLights),b.push(I.numPointLights),b.push(I.numSpotLights),b.push(I.numSpotLightMaps),b.push(I.numHemiLights),b.push(I.numRectAreaLights),b.push(I.numDirLightShadows),b.push(I.numPointLightShadows),b.push(I.numSpotLightShadows),b.push(I.numSpotLightShadowsWithMaps),b.push(I.shadowMapType),b.push(I.toneMapping),b.push(I.numClippingPlanes),b.push(I.numClipIntersection),b.push(I.depthPacking)}function _(b,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),b.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),b.push(a.mask)}function C(b){const I=g[b.type];let F;if(I){const Z=Fr[I];F=FT.clone(Z.uniforms)}else F=b.uniforms;return F}function A(b,I){let F;for(let Z=0,j=u.length;Z<j;Z++){const D=u[Z];if(D.cacheKey===I){F=D,++F.usedTimes;break}}return F===void 0&&(F=new bF(n,I,b,s),u.push(F)),F}function P(b){if(--b.usedTimes===0){const I=u.indexOf(b);u[I]=u[u.length-1],u.pop(),b.destroy()}}function L(b){l.remove(b)}function O(){l.dispose()}return{getParameters:w,getProgramCacheKey:v,getUniforms:C,acquireProgram:A,releaseProgram:P,releaseShaderCache:L,programs:u,dispose:O}}function OF(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function DF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function oM(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function aM(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,g,S,w){let v=n[e];return v===void 0?(v={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:S,group:w},n[e]=v):(v.id=d.id,v.object=d,v.geometry=p,v.material=m,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=S,v.group=w),e++,v}function a(d,p,m,g,S,w){const v=o(d,p,m,g,S,w);m.transmission>0?i.push(v):m.transparent===!0?r.push(v):t.push(v)}function l(d,p,m,g,S,w){const v=o(d,p,m,g,S,w);m.transmission>0?i.unshift(v):m.transparent===!0?r.unshift(v):t.unshift(v)}function u(d,p){t.length>1&&t.sort(d||DF),i.length>1&&i.sort(p||oM),r.length>1&&r.sort(p||oM)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:u}}function NF(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new aM,n.set(i,[o])):r>=s.length?(o=new aM,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function UF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new $e};break;case"SpotLight":t={position:new k,direction:new k,color:new $e,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new $e,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new $e,groundColor:new $e};break;case"RectAreaLight":t={color:new $e,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function kF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let FF=0;function BF(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function zF(n,e){const t=new UF,i=kF(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new k);const s=new k,o=new vt,a=new vt;function l(h,d){let p=0,m=0,g=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let S=0,w=0,v=0,x=0,_=0,C=0,A=0,P=0,L=0,O=0;h.sort(BF);const b=d===!0?Math.PI:1;for(let F=0,Z=h.length;F<Z;F++){const j=h[F],D=j.color,z=j.intensity,Q=j.distance,te=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)p+=D.r*z*b,m+=D.g*z*b,g+=D.b*z*b;else if(j.isLightProbe)for(let U=0;U<9;U++)r.probe[U].addScaledVector(j.sh.coefficients[U],z);else if(j.isDirectionalLight){const U=t.get(j);if(U.color.copy(j.color).multiplyScalar(j.intensity*b),j.castShadow){const X=j.shadow,q=i.get(j);q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,r.directionalShadow[S]=q,r.directionalShadowMap[S]=te,r.directionalShadowMatrix[S]=j.shadow.matrix,C++}r.directional[S]=U,S++}else if(j.isSpotLight){const U=t.get(j);U.position.setFromMatrixPosition(j.matrixWorld),U.color.copy(D).multiplyScalar(z*b),U.distance=Q,U.coneCos=Math.cos(j.angle),U.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),U.decay=j.decay,r.spot[v]=U;const X=j.shadow;if(j.map&&(r.spotLightMap[L]=j.map,L++,X.updateMatrices(j),j.castShadow&&O++),r.spotLightMatrix[v]=X.matrix,j.castShadow){const q=i.get(j);q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,r.spotShadow[v]=q,r.spotShadowMap[v]=te,P++}v++}else if(j.isRectAreaLight){const U=t.get(j);U.color.copy(D).multiplyScalar(z),U.halfWidth.set(j.width*.5,0,0),U.halfHeight.set(0,j.height*.5,0),r.rectArea[x]=U,x++}else if(j.isPointLight){const U=t.get(j);if(U.color.copy(j.color).multiplyScalar(j.intensity*b),U.distance=j.distance,U.decay=j.decay,j.castShadow){const X=j.shadow,q=i.get(j);q.shadowBias=X.bias,q.shadowNormalBias=X.normalBias,q.shadowRadius=X.radius,q.shadowMapSize=X.mapSize,q.shadowCameraNear=X.camera.near,q.shadowCameraFar=X.camera.far,r.pointShadow[w]=q,r.pointShadowMap[w]=te,r.pointShadowMatrix[w]=j.shadow.matrix,A++}r.point[w]=U,w++}else if(j.isHemisphereLight){const U=t.get(j);U.skyColor.copy(j.color).multiplyScalar(z*b),U.groundColor.copy(j.groundColor).multiplyScalar(z*b),r.hemi[_]=U,_++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ge.LTC_FLOAT_1,r.rectAreaLTC2=Ge.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ge.LTC_HALF_1,r.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=g;const I=r.hash;(I.directionalLength!==S||I.pointLength!==w||I.spotLength!==v||I.rectAreaLength!==x||I.hemiLength!==_||I.numDirectionalShadows!==C||I.numPointShadows!==A||I.numSpotShadows!==P||I.numSpotMaps!==L)&&(r.directional.length=S,r.spot.length=v,r.rectArea.length=x,r.point.length=w,r.hemi.length=_,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=P+L-O,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=O,I.directionalLength=S,I.pointLength=w,I.spotLength=v,I.rectAreaLength=x,I.hemiLength=_,I.numDirectionalShadows=C,I.numPointShadows=A,I.numSpotShadows=P,I.numSpotMaps=L,r.version=FF++)}function u(h,d){let p=0,m=0,g=0,S=0,w=0;const v=d.matrixWorldInverse;for(let x=0,_=h.length;x<_;x++){const C=h[x];if(C.isDirectionalLight){const A=r.directional[p];A.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(v),p++}else if(C.isSpotLight){const A=r.spot[g];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(v),A.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(v),g++}else if(C.isRectAreaLight){const A=r.rectArea[S];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(v),a.identity(),o.copy(C.matrixWorld),o.premultiply(v),a.extractRotation(o),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),S++}else if(C.isPointLight){const A=r.point[m];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(v),m++}else if(C.isHemisphereLight){const A=r.hemi[w];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(v),w++}}}return{setup:l,setupView:u,state:r}}function lM(n,e){const t=new zF(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function u(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function VF(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new lM(n,e),t.set(s,[l])):o>=a.length?(l=new lM(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class M_ extends Jn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ST,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C_ extends Jn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HF=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GF=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WF(n,e,t){let i=new e1;const r=new _e,s=new _e,o=new Ut,a=new M_({depthPacking:wT}),l=new C_,u={},h=t.maxTextureSize,d={[Js]:wi,[wi]:Js,[as]:as},p=new ys({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:HF,fragmentShader:GF}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new St;g.setAttribute("position",new Gt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new qn(g,p),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q0;let v=this.type;this.render=function(A,P,L){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||A.length===0)return;const O=n.getRenderTarget(),b=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),F=n.state;F.setBlending(Ws),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const Z=v!==Nr&&this.type===Nr,j=v===Nr&&this.type!==Nr;for(let D=0,z=A.length;D<z;D++){const Q=A[D],te=Q.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const U=te.getFrameExtents();if(r.multiply(U),s.copy(te.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/U.x),r.x=s.x*U.x,te.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/U.y),r.y=s.y*U.y,te.mapSize.y=s.y)),te.map===null||Z===!0||j===!0){const q=this.type!==Nr?{minFilter:_n,magFilter:_n}:{};te.map!==null&&te.map.dispose(),te.map=new Wr(r.x,r.y,q),te.map.texture.name=Q.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const X=te.getViewportCount();for(let q=0;q<X;q++){const W=te.getViewport(q);o.set(s.x*W.x,s.y*W.y,s.x*W.z,s.y*W.w),F.viewport(o),te.updateMatrices(Q,q),i=te.getFrustum(),C(P,L,te.camera,Q,this.type)}te.isPointLightShadow!==!0&&this.type===Nr&&x(te,L),te.needsUpdate=!1}v=this.type,w.needsUpdate=!1,n.setRenderTarget(O,b,I)};function x(A,P){const L=e.update(S);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Wr(r.x,r.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(P,null,L,p,S,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(P,null,L,m,S,null)}function _(A,P,L,O){let b=null;const I=L.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(I!==void 0)b=I;else if(b=L.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const F=b.uuid,Z=P.uuid;let j=u[F];j===void 0&&(j={},u[F]=j);let D=j[Z];D===void 0&&(D=b.clone(),j[Z]=D),b=D}if(b.visible=P.visible,b.wireframe=P.wireframe,O===Nr?b.side=P.shadowSide!==null?P.shadowSide:P.side:b.side=P.shadowSide!==null?P.shadowSide:d[P.side],b.alphaMap=P.alphaMap,b.alphaTest=P.alphaTest,b.map=P.map,b.clipShadows=P.clipShadows,b.clippingPlanes=P.clippingPlanes,b.clipIntersection=P.clipIntersection,b.displacementMap=P.displacementMap,b.displacementScale=P.displacementScale,b.displacementBias=P.displacementBias,b.wireframeLinewidth=P.wireframeLinewidth,b.linewidth=P.linewidth,L.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const F=n.properties.get(b);F.light=L}return b}function C(A,P,L,O,b){if(A.visible===!1)return;if(A.layers.test(P.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&b===Nr)&&(!A.frustumCulled||i.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,A.matrixWorld);const Z=e.update(A),j=A.material;if(Array.isArray(j)){const D=Z.groups;for(let z=0,Q=D.length;z<Q;z++){const te=D[z],U=j[te.materialIndex];if(U&&U.visible){const X=_(A,U,O,b);n.renderBufferDirect(L,null,Z,X,A,te)}}}else if(j.visible){const D=_(A,j,O,b);n.renderBufferDirect(L,null,Z,D,A,null)}}const F=A.children;for(let Z=0,j=F.length;Z<j;Z++)C(F[Z],P,L,O,b)}}function jF(n,e,t){const i=t.isWebGL2;function r(){let K=!1;const He=new Ut;let le=null;const Le=new Ut(0,0,0,0);return{setMask:function(je){le!==je&&!K&&(n.colorMask(je,je,je,je),le=je)},setLocked:function(je){K=je},setClear:function(je,bt,Wt,ln,Cr){Cr===!0&&(je*=ln,bt*=ln,Wt*=ln),He.set(je,bt,Wt,ln),Le.equals(He)===!1&&(n.clearColor(je,bt,Wt,ln),Le.copy(He))},reset:function(){K=!1,le=null,Le.set(-1,0,0,0)}}}function s(){let K=!1,He=null,le=null,Le=null;return{setTest:function(je){je?ze(n.DEPTH_TEST):Ke(n.DEPTH_TEST)},setMask:function(je){He!==je&&!K&&(n.depthMask(je),He=je)},setFunc:function(je){if(le!==je){switch(je){case K7:n.depthFunc(n.NEVER);break;case J7:n.depthFunc(n.ALWAYS);break;case Q7:n.depthFunc(n.LESS);break;case e0:n.depthFunc(n.LEQUAL);break;case eT:n.depthFunc(n.EQUAL);break;case tT:n.depthFunc(n.GEQUAL);break;case nT:n.depthFunc(n.GREATER);break;case iT:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}le=je}},setLocked:function(je){K=je},setClear:function(je){Le!==je&&(n.clearDepth(je),Le=je)},reset:function(){K=!1,He=null,le=null,Le=null}}}function o(){let K=!1,He=null,le=null,Le=null,je=null,bt=null,Wt=null,ln=null,Cr=null;return{setTest:function(Bt){K||(Bt?ze(n.STENCIL_TEST):Ke(n.STENCIL_TEST))},setMask:function(Bt){He!==Bt&&!K&&(n.stencilMask(Bt),He=Bt)},setFunc:function(Bt,Vi,Xn){(le!==Bt||Le!==Vi||je!==Xn)&&(n.stencilFunc(Bt,Vi,Xn),le=Bt,Le=Vi,je=Xn)},setOp:function(Bt,Vi,Xn){(bt!==Bt||Wt!==Vi||ln!==Xn)&&(n.stencilOp(Bt,Vi,Xn),bt=Bt,Wt=Vi,ln=Xn)},setLocked:function(Bt){K=Bt},setClear:function(Bt){Cr!==Bt&&(n.clearStencil(Bt),Cr=Bt)},reset:function(){K=!1,He=null,le=null,Le=null,je=null,bt=null,Wt=null,ln=null,Cr=null}}}const a=new r,l=new s,u=new o,h=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,S=[],w=null,v=!1,x=null,_=null,C=null,A=null,P=null,L=null,O=null,b=!1,I=null,F=null,Z=null,j=null,D=null;const z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,te=0;const U=n.getParameter(n.VERSION);U.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(U)[1]),Q=te>=1):U.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),Q=te>=2);let X=null,q={};const W=n.getParameter(n.SCISSOR_BOX),J=n.getParameter(n.VIEWPORT),Se=new Ut().fromArray(W),we=new Ut().fromArray(J);function Ee(K,He,le,Le){const je=new Uint8Array(4),bt=n.createTexture();n.bindTexture(K,bt),n.texParameteri(K,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(K,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Wt=0;Wt<le;Wt++)i&&(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)?n.texImage3D(He,0,n.RGBA,1,1,Le,0,n.RGBA,n.UNSIGNED_BYTE,je):n.texImage2D(He+Wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,je);return bt}const Oe={};Oe[n.TEXTURE_2D]=Ee(n.TEXTURE_2D,n.TEXTURE_2D,1),Oe[n.TEXTURE_CUBE_MAP]=Ee(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Oe[n.TEXTURE_2D_ARRAY]=Ee(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Oe[n.TEXTURE_3D]=Ee(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ze(n.DEPTH_TEST),l.setFunc(e0),ue(!1),Re(Xy),ze(n.CULL_FACE),re(Ws);function ze(K){p[K]!==!0&&(n.enable(K),p[K]=!0)}function Ke(K){p[K]!==!1&&(n.disable(K),p[K]=!1)}function at(K,He){return m[K]!==He?(n.bindFramebuffer(K,He),m[K]=He,i&&(K===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=He),K===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=He)),!0):!1}function ye(K,He){let le=S,Le=!1;if(K)if(le=g.get(He),le===void 0&&(le=[],g.set(He,le)),K.isWebGLMultipleRenderTargets){const je=K.texture;if(le.length!==je.length||le[0]!==n.COLOR_ATTACHMENT0){for(let bt=0,Wt=je.length;bt<Wt;bt++)le[bt]=n.COLOR_ATTACHMENT0+bt;le.length=je.length,Le=!0}}else le[0]!==n.COLOR_ATTACHMENT0&&(le[0]=n.COLOR_ATTACHMENT0,Le=!0);else le[0]!==n.BACK&&(le[0]=n.BACK,Le=!0);Le&&(t.isWebGL2?n.drawBuffers(le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))}function de(K){return w!==K?(n.useProgram(K),w=K,!0):!1}const H={[Ba]:n.FUNC_ADD,[z7]:n.FUNC_SUBTRACT,[V7]:n.FUNC_REVERSE_SUBTRACT};if(i)H[qy]=n.MIN,H[Zy]=n.MAX;else{const K=e.get("EXT_blend_minmax");K!==null&&(H[qy]=K.MIN_EXT,H[Zy]=K.MAX_EXT)}const fe={[H7]:n.ZERO,[G7]:n.ONE,[W7]:n.SRC_COLOR,[r_]:n.SRC_ALPHA,[Z7]:n.SRC_ALPHA_SATURATE,[Y7]:n.DST_COLOR,[X7]:n.DST_ALPHA,[j7]:n.ONE_MINUS_SRC_COLOR,[s_]:n.ONE_MINUS_SRC_ALPHA,[q7]:n.ONE_MINUS_DST_COLOR,[$7]:n.ONE_MINUS_DST_ALPHA};function re(K,He,le,Le,je,bt,Wt,ln){if(K===Ws){v===!0&&(Ke(n.BLEND),v=!1);return}if(v===!1&&(ze(n.BLEND),v=!0),K!==B7){if(K!==x||ln!==b){if((_!==Ba||P!==Ba)&&(n.blendEquation(n.FUNC_ADD),_=Ba,P=Ba),ln)switch(K){case Ka:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Qm:n.blendFunc(n.ONE,n.ONE);break;case $y:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Yy:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case Ka:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Qm:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case $y:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Yy:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}C=null,A=null,L=null,O=null,x=K,b=ln}return}je=je||He,bt=bt||le,Wt=Wt||Le,(He!==_||je!==P)&&(n.blendEquationSeparate(H[He],H[je]),_=He,P=je),(le!==C||Le!==A||bt!==L||Wt!==O)&&(n.blendFuncSeparate(fe[le],fe[Le],fe[bt],fe[Wt]),C=le,A=Le,L=bt,O=Wt),x=K,b=!1}function xe(K,He){K.side===as?Ke(n.CULL_FACE):ze(n.CULL_FACE);let le=K.side===wi;He&&(le=!le),ue(le),K.blending===Ka&&K.transparent===!1?re(Ws):re(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const Le=K.stencilWrite;u.setTest(Le),Le&&(u.setMask(K.stencilWriteMask),u.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),u.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Pe(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?ze(n.SAMPLE_ALPHA_TO_COVERAGE):Ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function ue(K){I!==K&&(K?n.frontFace(n.CW):n.frontFace(n.CCW),I=K)}function Re(K){K!==U7?(ze(n.CULL_FACE),K!==F&&(K===Xy?n.cullFace(n.BACK):K===k7?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ke(n.CULL_FACE),F=K}function Ce(K){K!==Z&&(Q&&n.lineWidth(K),Z=K)}function Pe(K,He,le){K?(ze(n.POLYGON_OFFSET_FILL),(j!==He||D!==le)&&(n.polygonOffset(He,le),j=He,D=le)):Ke(n.POLYGON_OFFSET_FILL)}function Be(K){K?ze(n.SCISSOR_TEST):Ke(n.SCISSOR_TEST)}function Me(K){K===void 0&&(K=n.TEXTURE0+z-1),X!==K&&(n.activeTexture(K),X=K)}function dt(K,He,le){le===void 0&&(X===null?le=n.TEXTURE0+z-1:le=X);let Le=q[le];Le===void 0&&(Le={type:void 0,texture:void 0},q[le]=Le),(Le.type!==K||Le.texture!==He)&&(X!==le&&(n.activeTexture(le),X=le),n.bindTexture(K,He||Oe[K]),Le.type=K,Le.texture=He)}function V(){const K=q[X];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function N(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ae(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ae(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Qe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ke(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ce(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function pe(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function be(K){Se.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),Se.copy(K))}function De(K){we.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),we.copy(K))}function Ve(K,He){let le=d.get(He);le===void 0&&(le=new WeakMap,d.set(He,le));let Le=le.get(K);Le===void 0&&(Le=n.getUniformBlockIndex(He,K.name),le.set(K,Le))}function ot(K,He){const Le=d.get(He).get(K);h.get(He)!==Le&&(n.uniformBlockBinding(He,Le,K.__bindingPointIndex),h.set(He,Le))}function Tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,q={},m={},g=new WeakMap,S=[],w=null,v=!1,x=null,_=null,C=null,A=null,P=null,L=null,O=null,b=!1,I=null,F=null,Z=null,j=null,D=null,Se.set(0,0,n.canvas.width,n.canvas.height),we.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ze,disable:Ke,bindFramebuffer:at,drawBuffers:ye,useProgram:de,setBlending:re,setMaterial:xe,setFlipSided:ue,setCullFace:Re,setLineWidth:Ce,setPolygonOffset:Pe,setScissorTest:Be,activeTexture:Me,bindTexture:dt,unbindTexture:V,compressedTexImage2D:N,compressedTexImage3D:ae,texImage2D:Y,texImage3D:pe,updateUBOMapping:Ve,uniformBlockBinding:ot,texStorage2D:ke,texStorage3D:ce,texSubImage2D:Ne,texSubImage3D:Ae,compressedTexSubImage2D:Ue,compressedTexSubImage3D:Qe,scissor:be,viewport:De,reset:Tt}}function XF(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let S;const w=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(V,N){return v?new OffscreenCanvas(V,N):hh("canvas")}function _(V,N,ae,Ne){let Ae=1;if((V.width>Ne||V.height>Ne)&&(Ae=Ne/Math.max(V.width,V.height)),Ae<1||N===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Ue=N?i0:Math.floor,Qe=Ue(Ae*V.width),ke=Ue(Ae*V.height);S===void 0&&(S=x(Qe,ke));const ce=ae?x(Qe,ke):S;return ce.width=Qe,ce.height=ke,ce.getContext("2d").drawImage(V,0,0,Qe,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Qe+"x"+ke+")."),ce}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function C(V){return S3(V.width)&&S3(V.height)}function A(V){return a?!1:V.wrapS!==fi||V.wrapT!==fi||V.minFilter!==_n&&V.minFilter!==wn}function P(V,N){return V.generateMipmaps&&N&&V.minFilter!==_n&&V.minFilter!==wn}function L(V){n.generateMipmap(V)}function O(V,N,ae,Ne,Ae=!1){if(a===!1)return N;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Ue=N;return N===n.RED&&(ae===n.FLOAT&&(Ue=n.R32F),ae===n.HALF_FLOAT&&(Ue=n.R16F),ae===n.UNSIGNED_BYTE&&(Ue=n.R8)),N===n.RED_INTEGER&&(ae===n.UNSIGNED_BYTE&&(Ue=n.R8UI),ae===n.UNSIGNED_SHORT&&(Ue=n.R16UI),ae===n.UNSIGNED_INT&&(Ue=n.R32UI),ae===n.BYTE&&(Ue=n.R8I),ae===n.SHORT&&(Ue=n.R16I),ae===n.INT&&(Ue=n.R32I)),N===n.RG&&(ae===n.FLOAT&&(Ue=n.RG32F),ae===n.HALF_FLOAT&&(Ue=n.RG16F),ae===n.UNSIGNED_BYTE&&(Ue=n.RG8)),N===n.RGBA&&(ae===n.FLOAT&&(Ue=n.RGBA32F),ae===n.HALF_FLOAT&&(Ue=n.RGBA16F),ae===n.UNSIGNED_BYTE&&(Ue=Ne===yt&&Ae===!1?n.SRGB8_ALPHA8:n.RGBA8),ae===n.UNSIGNED_SHORT_4_4_4_4&&(Ue=n.RGBA4),ae===n.UNSIGNED_SHORT_5_5_5_1&&(Ue=n.RGB5_A1)),(Ue===n.R16F||Ue===n.R32F||Ue===n.RG16F||Ue===n.RG32F||Ue===n.RGBA16F||Ue===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function b(V,N,ae){return P(V,ae)===!0||V.isFramebufferTexture&&V.minFilter!==_n&&V.minFilter!==wn?Math.log2(Math.max(N.width,N.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?N.mipmaps.length:1}function I(V){return V===_n||V===t0||V===Pf?n.NEAREST:n.LINEAR}function F(V){const N=V.target;N.removeEventListener("dispose",F),j(N),N.isVideoTexture&&g.delete(N)}function Z(V){const N=V.target;N.removeEventListener("dispose",Z),z(N)}function j(V){const N=i.get(V);if(N.__webglInit===void 0)return;const ae=V.source,Ne=w.get(ae);if(Ne){const Ae=Ne[N.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&D(V),Object.keys(Ne).length===0&&w.delete(ae)}i.remove(V)}function D(V){const N=i.get(V);n.deleteTexture(N.__webglTexture);const ae=V.source,Ne=w.get(ae);delete Ne[N.__cacheKey],o.memory.textures--}function z(V){const N=V.texture,ae=i.get(V),Ne=i.get(N);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(ae.__webglFramebuffer[Ae]))for(let Ue=0;Ue<ae.__webglFramebuffer[Ae].length;Ue++)n.deleteFramebuffer(ae.__webglFramebuffer[Ae][Ue]);else n.deleteFramebuffer(ae.__webglFramebuffer[Ae]);ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[Ae])}else{if(Array.isArray(ae.__webglFramebuffer))for(let Ae=0;Ae<ae.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(ae.__webglFramebuffer[Ae]);else n.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Ae=0;Ae<ae.__webglColorRenderbuffer.length;Ae++)ae.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[Ae]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let Ae=0,Ue=N.length;Ae<Ue;Ae++){const Qe=i.get(N[Ae]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),i.remove(N[Ae])}i.remove(N),i.remove(V)}let Q=0;function te(){Q=0}function U(){const V=Q;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),Q+=1,V}function X(V){const N=[];return N.push(V.wrapS),N.push(V.wrapT),N.push(V.wrapR||0),N.push(V.magFilter),N.push(V.minFilter),N.push(V.anisotropy),N.push(V.internalFormat),N.push(V.format),N.push(V.type),N.push(V.generateMipmaps),N.push(V.premultiplyAlpha),N.push(V.flipY),N.push(V.unpackAlignment),N.push(V.colorSpace),N.join()}function q(V,N){const ae=i.get(V);if(V.isVideoTexture&&Me(V),V.isRenderTargetTexture===!1&&V.version>0&&ae.__version!==V.version){const Ne=V.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{at(ae,V,N);return}}t.bindTexture(n.TEXTURE_2D,ae.__webglTexture,n.TEXTURE0+N)}function W(V,N){const ae=i.get(V);if(V.version>0&&ae.__version!==V.version){at(ae,V,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ae.__webglTexture,n.TEXTURE0+N)}function J(V,N){const ae=i.get(V);if(V.version>0&&ae.__version!==V.version){at(ae,V,N);return}t.bindTexture(n.TEXTURE_3D,ae.__webglTexture,n.TEXTURE0+N)}function Se(V,N){const ae=i.get(V);if(V.version>0&&ae.__version!==V.version){ye(ae,V,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+N)}const we={[sh]:n.REPEAT,[fi]:n.CLAMP_TO_EDGE,[oh]:n.MIRRORED_REPEAT},Ee={[_n]:n.NEAREST,[t0]:n.NEAREST_MIPMAP_NEAREST,[Pf]:n.NEAREST_MIPMAP_LINEAR,[wn]:n.LINEAR,[l_]:n.LINEAR_MIPMAP_NEAREST,[Jo]:n.LINEAR_MIPMAP_LINEAR},Oe={[CT]:n.NEVER,[IT]:n.ALWAYS,[TT]:n.LESS,[bT]:n.LEQUAL,[AT]:n.EQUAL,[LT]:n.GEQUAL,[PT]:n.GREATER,[RT]:n.NOTEQUAL};function ze(V,N,ae){if(ae?(n.texParameteri(V,n.TEXTURE_WRAP_S,we[N.wrapS]),n.texParameteri(V,n.TEXTURE_WRAP_T,we[N.wrapT]),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,we[N.wrapR]),n.texParameteri(V,n.TEXTURE_MAG_FILTER,Ee[N.magFilter]),n.texParameteri(V,n.TEXTURE_MIN_FILTER,Ee[N.minFilter])):(n.texParameteri(V,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(V,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(N.wrapS!==fi||N.wrapT!==fi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,n.TEXTURE_MAG_FILTER,I(N.magFilter)),n.texParameteri(V,n.TEXTURE_MIN_FILTER,I(N.minFilter)),N.minFilter!==_n&&N.minFilter!==wn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(n.texParameteri(V,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(V,n.TEXTURE_COMPARE_FUNC,Oe[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===_n||N.minFilter!==Pf&&N.minFilter!==Jo||N.type===ls&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===Ku&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(V,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function Ke(V,N){let ae=!1;V.__webglInit===void 0&&(V.__webglInit=!0,N.addEventListener("dispose",F));const Ne=N.source;let Ae=w.get(Ne);Ae===void 0&&(Ae={},w.set(Ne,Ae));const Ue=X(N);if(Ue!==V.__cacheKey){Ae[Ue]===void 0&&(Ae[Ue]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Ae[Ue].usedTimes++;const Qe=Ae[V.__cacheKey];Qe!==void 0&&(Ae[V.__cacheKey].usedTimes--,Qe.usedTimes===0&&D(N)),V.__cacheKey=Ue,V.__webglTexture=Ae[Ue].texture}return ae}function at(V,N,ae){let Ne=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Ne=n.TEXTURE_3D);const Ae=Ke(V,N),Ue=N.source;t.bindTexture(Ne,V.__webglTexture,n.TEXTURE0+ae);const Qe=i.get(Ue);if(Ue.version!==Qe.__version||Ae===!0){t.activeTexture(n.TEXTURE0+ae),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ke=A(N)&&C(N.image)===!1;let ce=_(N.image,ke,!1,h);ce=dt(N,ce);const Y=C(ce)||a,pe=s.convert(N.format,N.colorSpace);let be=s.convert(N.type),De=O(N.internalFormat,pe,be,N.colorSpace);ze(Ne,N,Y);let Ve;const ot=N.mipmaps,Tt=a&&N.isVideoTexture!==!0,K=Qe.__version===void 0||Ae===!0,He=b(N,ce,Y);if(N.isDepthTexture)De=n.DEPTH_COMPONENT,a?N.type===ls?De=n.DEPTH_COMPONENT32F:N.type===Vs?De=n.DEPTH_COMPONENT24:N.type===zo?De=n.DEPTH24_STENCIL8:De=n.DEPTH_COMPONENT16:N.type===ls&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Vo&&De===n.DEPTH_COMPONENT&&N.type!==K0&&N.type!==Vs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Vs,be=s.convert(N.type)),N.format===ol&&De===n.DEPTH_COMPONENT&&(De=n.DEPTH_STENCIL,N.type!==zo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=zo,be=s.convert(N.type))),K&&(Tt?t.texStorage2D(n.TEXTURE_2D,1,De,ce.width,ce.height):t.texImage2D(n.TEXTURE_2D,0,De,ce.width,ce.height,0,pe,be,null));else if(N.isDataTexture)if(ot.length>0&&Y){Tt&&K&&t.texStorage2D(n.TEXTURE_2D,He,De,ot[0].width,ot[0].height);for(let le=0,Le=ot.length;le<Le;le++)Ve=ot[le],Tt?t.texSubImage2D(n.TEXTURE_2D,le,0,0,Ve.width,Ve.height,pe,be,Ve.data):t.texImage2D(n.TEXTURE_2D,le,De,Ve.width,Ve.height,0,pe,be,Ve.data);N.generateMipmaps=!1}else Tt?(K&&t.texStorage2D(n.TEXTURE_2D,He,De,ce.width,ce.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ce.width,ce.height,pe,be,ce.data)):t.texImage2D(n.TEXTURE_2D,0,De,ce.width,ce.height,0,pe,be,ce.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){Tt&&K&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,De,ot[0].width,ot[0].height,ce.depth);for(let le=0,Le=ot.length;le<Le;le++)Ve=ot[le],N.format!==Di?pe!==null?Tt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Ve.width,Ve.height,ce.depth,pe,Ve.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,le,De,Ve.width,Ve.height,ce.depth,0,Ve.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Ve.width,Ve.height,ce.depth,pe,be,Ve.data):t.texImage3D(n.TEXTURE_2D_ARRAY,le,De,Ve.width,Ve.height,ce.depth,0,pe,be,Ve.data)}else{Tt&&K&&t.texStorage2D(n.TEXTURE_2D,He,De,ot[0].width,ot[0].height);for(let le=0,Le=ot.length;le<Le;le++)Ve=ot[le],N.format!==Di?pe!==null?Tt?t.compressedTexSubImage2D(n.TEXTURE_2D,le,0,0,Ve.width,Ve.height,pe,Ve.data):t.compressedTexImage2D(n.TEXTURE_2D,le,De,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?t.texSubImage2D(n.TEXTURE_2D,le,0,0,Ve.width,Ve.height,pe,be,Ve.data):t.texImage2D(n.TEXTURE_2D,le,De,Ve.width,Ve.height,0,pe,be,Ve.data)}else if(N.isDataArrayTexture)Tt?(K&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,De,ce.width,ce.height,ce.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ce.width,ce.height,ce.depth,pe,be,ce.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,De,ce.width,ce.height,ce.depth,0,pe,be,ce.data);else if(N.isData3DTexture)Tt?(K&&t.texStorage3D(n.TEXTURE_3D,He,De,ce.width,ce.height,ce.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ce.width,ce.height,ce.depth,pe,be,ce.data)):t.texImage3D(n.TEXTURE_3D,0,De,ce.width,ce.height,ce.depth,0,pe,be,ce.data);else if(N.isFramebufferTexture){if(K)if(Tt)t.texStorage2D(n.TEXTURE_2D,He,De,ce.width,ce.height);else{let le=ce.width,Le=ce.height;for(let je=0;je<He;je++)t.texImage2D(n.TEXTURE_2D,je,De,le,Le,0,pe,be,null),le>>=1,Le>>=1}}else if(ot.length>0&&Y){Tt&&K&&t.texStorage2D(n.TEXTURE_2D,He,De,ot[0].width,ot[0].height);for(let le=0,Le=ot.length;le<Le;le++)Ve=ot[le],Tt?t.texSubImage2D(n.TEXTURE_2D,le,0,0,pe,be,Ve):t.texImage2D(n.TEXTURE_2D,le,De,pe,be,Ve);N.generateMipmaps=!1}else Tt?(K&&t.texStorage2D(n.TEXTURE_2D,He,De,ce.width,ce.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pe,be,ce)):t.texImage2D(n.TEXTURE_2D,0,De,pe,be,ce);P(N,Y)&&L(Ne),Qe.__version=Ue.version,N.onUpdate&&N.onUpdate(N)}V.__version=N.version}function ye(V,N,ae){if(N.image.length!==6)return;const Ne=Ke(V,N),Ae=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,V.__webglTexture,n.TEXTURE0+ae);const Ue=i.get(Ae);if(Ae.version!==Ue.__version||Ne===!0){t.activeTexture(n.TEXTURE0+ae),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Qe=N.isCompressedTexture||N.image[0].isCompressedTexture,ke=N.image[0]&&N.image[0].isDataTexture,ce=[];for(let le=0;le<6;le++)!Qe&&!ke?ce[le]=_(N.image[le],!1,!0,u):ce[le]=ke?N.image[le].image:N.image[le],ce[le]=dt(N,ce[le]);const Y=ce[0],pe=C(Y)||a,be=s.convert(N.format,N.colorSpace),De=s.convert(N.type),Ve=O(N.internalFormat,be,De,N.colorSpace),ot=a&&N.isVideoTexture!==!0,Tt=Ue.__version===void 0||Ne===!0;let K=b(N,Y,pe);ze(n.TEXTURE_CUBE_MAP,N,pe);let He;if(Qe){ot&&Tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,K,Ve,Y.width,Y.height);for(let le=0;le<6;le++){He=ce[le].mipmaps;for(let Le=0;Le<He.length;Le++){const je=He[Le];N.format!==Di?be!==null?ot?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,0,0,je.width,je.height,be,je.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,Ve,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,0,0,je.width,je.height,be,De,je.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,Ve,je.width,je.height,0,be,De,je.data)}}}else{He=N.mipmaps,ot&&Tt&&(He.length>0&&K++,t.texStorage2D(n.TEXTURE_CUBE_MAP,K,Ve,ce[0].width,ce[0].height));for(let le=0;le<6;le++)if(ke){ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,ce[le].width,ce[le].height,be,De,ce[le].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Ve,ce[le].width,ce[le].height,0,be,De,ce[le].data);for(let Le=0;Le<He.length;Le++){const bt=He[Le].image[le].image;ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,0,0,bt.width,bt.height,be,De,bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,Ve,bt.width,bt.height,0,be,De,bt.data)}}else{ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,be,De,ce[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Ve,be,De,ce[le]);for(let Le=0;Le<He.length;Le++){const je=He[Le];ot?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,0,0,be,De,je.image[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,Ve,be,De,je.image[le])}}}P(N,pe)&&L(n.TEXTURE_CUBE_MAP),Ue.__version=Ae.version,N.onUpdate&&N.onUpdate(N)}V.__version=N.version}function de(V,N,ae,Ne,Ae,Ue){const Qe=s.convert(ae.format,ae.colorSpace),ke=s.convert(ae.type),ce=O(ae.internalFormat,Qe,ke,ae.colorSpace);if(!i.get(N).__hasExternalTextures){const pe=Math.max(1,N.width>>Ue),be=Math.max(1,N.height>>Ue);Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?t.texImage3D(Ae,Ue,ce,pe,be,N.depth,0,Qe,ke,null):t.texImage2D(Ae,Ue,ce,pe,be,0,Qe,ke,null)}t.bindFramebuffer(n.FRAMEBUFFER,V),Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,Ae,i.get(ae).__webglTexture,0,Pe(N)):(Ae===n.TEXTURE_2D||Ae>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,Ae,i.get(ae).__webglTexture,Ue),t.bindFramebuffer(n.FRAMEBUFFER,null)}function H(V,N,ae){if(n.bindRenderbuffer(n.RENDERBUFFER,V),N.depthBuffer&&!N.stencilBuffer){let Ne=n.DEPTH_COMPONENT16;if(ae||Be(N)){const Ae=N.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===ls?Ne=n.DEPTH_COMPONENT32F:Ae.type===Vs&&(Ne=n.DEPTH_COMPONENT24));const Ue=Pe(N);Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,Ne,N.width,N.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Ne,N.width,N.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ne,N.width,N.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,V)}else if(N.depthBuffer&&N.stencilBuffer){const Ne=Pe(N);ae&&Be(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,N.width,N.height):Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,V)}else{const Ne=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ae=0;Ae<Ne.length;Ae++){const Ue=Ne[Ae],Qe=s.convert(Ue.format,Ue.colorSpace),ke=s.convert(Ue.type),ce=O(Ue.internalFormat,Qe,ke,Ue.colorSpace),Y=Pe(N);ae&&Be(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,ce,N.width,N.height):Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Y,ce,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,ce,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function fe(V,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,V),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),q(N.depthTexture,0);const Ne=i.get(N.depthTexture).__webglTexture,Ae=Pe(N);if(N.depthTexture.format===Vo)Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(N.depthTexture.format===ol)Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function re(V){const N=i.get(V),ae=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!N.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");fe(N.__webglFramebuffer,V)}else if(ae){N.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[Ne]),N.__webglDepthbuffer[Ne]=n.createRenderbuffer(),H(N.__webglDepthbuffer[Ne],V,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),H(N.__webglDepthbuffer,V,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function xe(V,N,ae){const Ne=i.get(V);N!==void 0&&de(Ne.__webglFramebuffer,V,V.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ae!==void 0&&re(V)}function ue(V){const N=V.texture,ae=i.get(V),Ne=i.get(N);V.addEventListener("dispose",Z),V.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=N.version,o.memory.textures++);const Ae=V.isWebGLCubeRenderTarget===!0,Ue=V.isWebGLMultipleRenderTargets===!0,Qe=C(V)||a;if(Ae){ae.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(a&&N.mipmaps&&N.mipmaps.length>0){ae.__webglFramebuffer[ke]=[];for(let ce=0;ce<N.mipmaps.length;ce++)ae.__webglFramebuffer[ke][ce]=n.createFramebuffer()}else ae.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(a&&N.mipmaps&&N.mipmaps.length>0){ae.__webglFramebuffer=[];for(let ke=0;ke<N.mipmaps.length;ke++)ae.__webglFramebuffer[ke]=n.createFramebuffer()}else ae.__webglFramebuffer=n.createFramebuffer();if(Ue)if(r.drawBuffers){const ke=V.texture;for(let ce=0,Y=ke.length;ce<Y;ce++){const pe=i.get(ke[ce]);pe.__webglTexture===void 0&&(pe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&Be(V)===!1){const ke=Ue?N:[N];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let ce=0;ce<ke.length;ce++){const Y=ke[ce];ae.__webglColorRenderbuffer[ce]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ae.__webglColorRenderbuffer[ce]);const pe=s.convert(Y.format,Y.colorSpace),be=s.convert(Y.type),De=O(Y.internalFormat,pe,be,Y.colorSpace,V.isXRRenderTarget===!0),Ve=Pe(V);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ve,De,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ce,n.RENDERBUFFER,ae.__webglColorRenderbuffer[ce])}n.bindRenderbuffer(n.RENDERBUFFER,null),V.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),H(ae.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ae){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),ze(n.TEXTURE_CUBE_MAP,N,Qe);for(let ke=0;ke<6;ke++)if(a&&N.mipmaps&&N.mipmaps.length>0)for(let ce=0;ce<N.mipmaps.length;ce++)de(ae.__webglFramebuffer[ke][ce],V,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,ce);else de(ae.__webglFramebuffer[ke],V,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);P(N,Qe)&&L(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ue){const ke=V.texture;for(let ce=0,Y=ke.length;ce<Y;ce++){const pe=ke[ce],be=i.get(pe);t.bindTexture(n.TEXTURE_2D,be.__webglTexture),ze(n.TEXTURE_2D,pe,Qe),de(ae.__webglFramebuffer,V,pe,n.COLOR_ATTACHMENT0+ce,n.TEXTURE_2D,0),P(pe,Qe)&&L(n.TEXTURE_2D)}t.unbindTexture()}else{let ke=n.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?ke=V.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,Ne.__webglTexture),ze(ke,N,Qe),a&&N.mipmaps&&N.mipmaps.length>0)for(let ce=0;ce<N.mipmaps.length;ce++)de(ae.__webglFramebuffer[ce],V,N,n.COLOR_ATTACHMENT0,ke,ce);else de(ae.__webglFramebuffer,V,N,n.COLOR_ATTACHMENT0,ke,0);P(N,Qe)&&L(ke),t.unbindTexture()}V.depthBuffer&&re(V)}function Re(V){const N=C(V)||a,ae=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Ne=0,Ae=ae.length;Ne<Ae;Ne++){const Ue=ae[Ne];if(P(Ue,N)){const Qe=V.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ke=i.get(Ue).__webglTexture;t.bindTexture(Qe,ke),L(Qe),t.unbindTexture()}}}function Ce(V){if(a&&V.samples>0&&Be(V)===!1){const N=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],ae=V.width,Ne=V.height;let Ae=n.COLOR_BUFFER_BIT;const Ue=[],Qe=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ke=i.get(V),ce=V.isWebGLMultipleRenderTargets===!0;if(ce)for(let Y=0;Y<N.length;Y++)t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Y=0;Y<N.length;Y++){Ue.push(n.COLOR_ATTACHMENT0+Y),V.depthBuffer&&Ue.push(Qe);const pe=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(pe===!1&&(V.depthBuffer&&(Ae|=n.DEPTH_BUFFER_BIT),V.stencilBuffer&&(Ae|=n.STENCIL_BUFFER_BIT)),ce&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ke.__webglColorRenderbuffer[Y]),pe===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Qe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Qe])),ce){const be=i.get(N[Y]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,be,0)}n.blitFramebuffer(0,0,ae,Ne,0,0,ae,Ne,Ae,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ue)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ce)for(let Y=0;Y<N.length;Y++){t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,ke.__webglColorRenderbuffer[Y]);const pe=i.get(N[Y]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,pe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}}function Pe(V){return Math.min(d,V.samples)}function Be(V){const N=i.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Me(V){const N=o.render.frame;g.get(V)!==N&&(g.set(V,N),V.update())}function dt(V,N){const ae=V.colorSpace,Ne=V.format,Ae=V.type;return V.isCompressedTexture===!0||V.format===n0||ae!==Er&&ae!==Go&&(ae===yt?a===!1?e.has("EXT_sRGB")===!0&&Ne===Di?(V.format=n0,V.minFilter=wn,V.generateMipmaps=!1):N=x_.sRGBToLinear(N):(Ne!==Di||Ae!==ps)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),N}this.allocateTextureUnit=U,this.resetTextureUnits=te,this.setTexture2D=q,this.setTexture2DArray=W,this.setTexture3D=J,this.setTextureCube=Se,this.rebindTextures=xe,this.setupRenderTarget=ue,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=de,this.useMultisampledRTT=Be}function XT(n,e,t){const i=t.isWebGL2;function r(s,o=Go){let a;if(s===ps)return n.UNSIGNED_BYTE;if(s===c_)return n.UNSIGNED_SHORT_4_4_4_4;if(s===f_)return n.UNSIGNED_SHORT_5_5_5_1;if(s===uT)return n.BYTE;if(s===cT)return n.SHORT;if(s===K0)return n.UNSIGNED_SHORT;if(s===u_)return n.INT;if(s===Vs)return n.UNSIGNED_INT;if(s===ls)return n.FLOAT;if(s===Ku)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fT)return n.ALPHA;if(s===Di)return n.RGBA;if(s===hT)return n.LUMINANCE;if(s===dT)return n.LUMINANCE_ALPHA;if(s===Vo)return n.DEPTH_COMPONENT;if(s===ol)return n.DEPTH_STENCIL;if(s===n0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===pT)return n.RED;if(s===h_)return n.RED_INTEGER;if(s===mT)return n.RG;if(s===d_)return n.RG_INTEGER;if(s===p_)return n.RGBA_INTEGER;if(s===_m||s===Sm||s===wm||s===Em)if(o===yt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===_m)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Sm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Em)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===_m)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Sm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Em)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ky||s===Jy||s===Qy||s===e3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Ky)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Jy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Qy)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===e3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===gT)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===t3||s===n3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===t3)return o===yt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===n3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===i3||s===r3||s===s3||s===o3||s===a3||s===l3||s===u3||s===c3||s===f3||s===h3||s===d3||s===p3||s===m3||s===g3)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===i3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===r3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===s3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===o3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===a3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===l3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===u3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===c3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===f3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===h3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===d3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===p3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===m3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===g3)return o===yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Mm)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Mm)return o===yt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===vT||s===v3||s===y3||s===x3)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Mm)return a.COMPRESSED_RED_RGTC1_EXT;if(s===v3)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===y3)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===x3)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===zo?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class $T extends En{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Au extends Dt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $F={type:"move"};class ev{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Au,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Au,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Au,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const w=t.getJointPose(S,i),v=this._getHandJoint(u,S);w!==null&&(v.matrix.fromArray(w.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=w.radius),v.visible=w!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent($F)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Au;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class YT extends gn{constructor(e,t,i,r,s,o,a,l,u,h){if(h=h!==void 0?h:Vo,h!==Vo&&h!==ol)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===Vo&&(i=Vs),i===void 0&&h===ol&&(i=zo),super(null,r,s,o,a,l,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:_n,this.minFilter=l!==void 0?l:_n,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class YF extends xs{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,d=null,p=null,m=null,g=null;const S=t.getContextAttributes();let w=null,v=null;const x=[],_=[],C=new En;C.layers.enable(1),C.viewport=new Ut;const A=new En;A.layers.enable(2),A.viewport=new Ut;const P=[C,A],L=new $T;L.layers.enable(1),L.layers.enable(2);let O=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(W){let J=x[W];return J===void 0&&(J=new ev,x[W]=J),J.getTargetRaySpace()},this.getControllerGrip=function(W){let J=x[W];return J===void 0&&(J=new ev,x[W]=J),J.getGripSpace()},this.getHand=function(W){let J=x[W];return J===void 0&&(J=new ev,x[W]=J),J.getHandSpace()};function I(W){const J=_.indexOf(W.inputSource);if(J===-1)return;const Se=x[J];Se!==void 0&&(Se.update(W.inputSource,W.frame,u||o),Se.dispatchEvent({type:W.type,data:W.inputSource}))}function F(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",Z);for(let W=0;W<x.length;W++){const J=_[W];J!==null&&(_[W]=null,x[W].disconnect(J))}O=null,b=null,e.setRenderTarget(w),m=null,p=null,d=null,r=null,v=null,q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(W){s=W,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){a=W,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(W){u=W},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(W){if(r=W,r!==null){if(w=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",F),r.addEventListener("inputsourceschange",Z),S.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:r.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,J),r.updateRenderState({baseLayer:m}),v=new Wr(m.framebufferWidth,m.framebufferHeight,{format:Di,type:ps,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let J=null,Se=null,we=null;S.depth&&(we=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,J=S.stencil?ol:Vo,Se=S.stencil?zo:Vs);const Ee={colorFormat:t.RGBA8,depthFormat:we,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(Ee),r.updateRenderState({layers:[p]}),v=new Wr(p.textureWidth,p.textureHeight,{format:Di,type:ps,depthTexture:new YT(p.textureWidth,p.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Oe=e.properties.get(v);Oe.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),q.setContext(r),q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Z(W){for(let J=0;J<W.removed.length;J++){const Se=W.removed[J],we=_.indexOf(Se);we>=0&&(_[we]=null,x[we].disconnect(Se))}for(let J=0;J<W.added.length;J++){const Se=W.added[J];let we=_.indexOf(Se);if(we===-1){for(let Oe=0;Oe<x.length;Oe++)if(Oe>=_.length){_.push(Se),we=Oe;break}else if(_[Oe]===null){_[Oe]=Se,we=Oe;break}if(we===-1)break}const Ee=x[we];Ee&&Ee.connect(Se)}}const j=new k,D=new k;function z(W,J,Se){j.setFromMatrixPosition(J.matrixWorld),D.setFromMatrixPosition(Se.matrixWorld);const we=j.distanceTo(D),Ee=J.projectionMatrix.elements,Oe=Se.projectionMatrix.elements,ze=Ee[14]/(Ee[10]-1),Ke=Ee[14]/(Ee[10]+1),at=(Ee[9]+1)/Ee[5],ye=(Ee[9]-1)/Ee[5],de=(Ee[8]-1)/Ee[0],H=(Oe[8]+1)/Oe[0],fe=ze*de,re=ze*H,xe=we/(-de+H),ue=xe*-de;J.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(ue),W.translateZ(xe),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const Re=ze+xe,Ce=Ke+xe,Pe=fe-ue,Be=re+(we-ue),Me=at*Ke/Ce*Re,dt=ye*Ke/Ce*Re;W.projectionMatrix.makePerspective(Pe,Be,Me,dt,Re,Ce),W.projectionMatrixInverse.copy(W.projectionMatrix).invert()}function Q(W,J){J===null?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(J.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCamera=function(W){if(r===null)return;L.near=A.near=C.near=W.near,L.far=A.far=C.far=W.far,(O!==L.near||b!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),O=L.near,b=L.far);const J=W.parent,Se=L.cameras;Q(L,J);for(let we=0;we<Se.length;we++)Q(Se[we],J);Se.length===2?z(L,C,A):L.projectionMatrix.copy(C.projectionMatrix),te(W,L,J)};function te(W,J,Se){Se===null?W.matrix.copy(J.matrixWorld):(W.matrix.copy(Se.matrixWorld),W.matrix.invert(),W.matrix.multiply(J.matrixWorld)),W.matrix.decompose(W.position,W.quaternion,W.scale),W.updateMatrixWorld(!0);const we=W.children;for(let Ee=0,Oe=we.length;Ee<Oe;Ee++)we[Ee].updateMatrixWorld(!0);W.projectionMatrix.copy(J.projectionMatrix),W.projectionMatrixInverse.copy(J.projectionMatrixInverse),W.isPerspectiveCamera&&(W.fov=Ju*2*Math.atan(1/W.projectionMatrix.elements[5]),W.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(W){l=W,p!==null&&(p.fixedFoveation=W),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=W)};let U=null;function X(W,J){if(h=J.getViewerPose(u||o),g=J,h!==null){const Se=h.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let we=!1;Se.length!==L.cameras.length&&(L.cameras.length=0,we=!0);for(let Ee=0;Ee<Se.length;Ee++){const Oe=Se[Ee];let ze=null;if(m!==null)ze=m.getViewport(Oe);else{const at=d.getViewSubImage(p,Oe);ze=at.viewport,Ee===0&&(e.setRenderTargetTextures(v,at.colorTexture,p.ignoreDepthValues?void 0:at.depthStencilTexture),e.setRenderTarget(v))}let Ke=P[Ee];Ke===void 0&&(Ke=new En,Ke.layers.enable(Ee),Ke.viewport=new Ut,P[Ee]=Ke),Ke.matrix.fromArray(Oe.transform.matrix),Ke.matrix.decompose(Ke.position,Ke.quaternion,Ke.scale),Ke.projectionMatrix.fromArray(Oe.projectionMatrix),Ke.projectionMatrixInverse.copy(Ke.projectionMatrix).invert(),Ke.viewport.set(ze.x,ze.y,ze.width,ze.height),Ee===0&&(L.matrix.copy(Ke.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),we===!0&&L.cameras.push(Ke)}}for(let Se=0;Se<x.length;Se++){const we=_[Se],Ee=x[Se];we!==null&&Ee!==void 0&&Ee.update(we,J,u||o)}U&&U(W,J),J.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:J}),g=null}const q=new VT;q.setAnimationLoop(X),this.setAnimationLoop=function(W){U=W},this.dispose=function(){}}}function qF(n,e){function t(w,v){w.matrixAutoUpdate===!0&&w.updateMatrix(),v.value.copy(w.matrix)}function i(w,v){v.color.getRGB(w.fogColor.value,kT(n)),v.isFog?(w.fogNear.value=v.near,w.fogFar.value=v.far):v.isFogExp2&&(w.fogDensity.value=v.density)}function r(w,v,x,_,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(w,v):v.isMeshToonMaterial?(s(w,v),d(w,v)):v.isMeshPhongMaterial?(s(w,v),h(w,v)):v.isMeshStandardMaterial?(s(w,v),p(w,v),v.isMeshPhysicalMaterial&&m(w,v,C)):v.isMeshMatcapMaterial?(s(w,v),g(w,v)):v.isMeshDepthMaterial?s(w,v):v.isMeshDistanceMaterial?(s(w,v),S(w,v)):v.isMeshNormalMaterial?s(w,v):v.isLineBasicMaterial?(o(w,v),v.isLineDashedMaterial&&a(w,v)):v.isPointsMaterial?l(w,v,x,_):v.isSpriteMaterial?u(w,v):v.isShadowMaterial?(w.color.value.copy(v.color),w.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(w,v){w.opacity.value=v.opacity,v.color&&w.diffuse.value.copy(v.color),v.emissive&&w.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(w.map.value=v.map,t(v.map,w.mapTransform)),v.alphaMap&&(w.alphaMap.value=v.alphaMap,t(v.alphaMap,w.alphaMapTransform)),v.bumpMap&&(w.bumpMap.value=v.bumpMap,t(v.bumpMap,w.bumpMapTransform),w.bumpScale.value=v.bumpScale,v.side===wi&&(w.bumpScale.value*=-1)),v.normalMap&&(w.normalMap.value=v.normalMap,t(v.normalMap,w.normalMapTransform),w.normalScale.value.copy(v.normalScale),v.side===wi&&w.normalScale.value.negate()),v.displacementMap&&(w.displacementMap.value=v.displacementMap,t(v.displacementMap,w.displacementMapTransform),w.displacementScale.value=v.displacementScale,w.displacementBias.value=v.displacementBias),v.emissiveMap&&(w.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,w.emissiveMapTransform)),v.specularMap&&(w.specularMap.value=v.specularMap,t(v.specularMap,w.specularMapTransform)),v.alphaTest>0&&(w.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(w.envMap.value=x,w.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=v.reflectivity,w.ior.value=v.ior,w.refractionRatio.value=v.refractionRatio),v.lightMap){w.lightMap.value=v.lightMap;const _=n._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=v.lightMapIntensity*_,t(v.lightMap,w.lightMapTransform)}v.aoMap&&(w.aoMap.value=v.aoMap,w.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,w.aoMapTransform))}function o(w,v){w.diffuse.value.copy(v.color),w.opacity.value=v.opacity,v.map&&(w.map.value=v.map,t(v.map,w.mapTransform))}function a(w,v){w.dashSize.value=v.dashSize,w.totalSize.value=v.dashSize+v.gapSize,w.scale.value=v.scale}function l(w,v,x,_){w.diffuse.value.copy(v.color),w.opacity.value=v.opacity,w.size.value=v.size*x,w.scale.value=_*.5,v.map&&(w.map.value=v.map,t(v.map,w.uvTransform)),v.alphaMap&&(w.alphaMap.value=v.alphaMap,t(v.alphaMap,w.alphaMapTransform)),v.alphaTest>0&&(w.alphaTest.value=v.alphaTest)}function u(w,v){w.diffuse.value.copy(v.color),w.opacity.value=v.opacity,w.rotation.value=v.rotation,v.map&&(w.map.value=v.map,t(v.map,w.mapTransform)),v.alphaMap&&(w.alphaMap.value=v.alphaMap,t(v.alphaMap,w.alphaMapTransform)),v.alphaTest>0&&(w.alphaTest.value=v.alphaTest)}function h(w,v){w.specular.value.copy(v.specular),w.shininess.value=Math.max(v.shininess,1e-4)}function d(w,v){v.gradientMap&&(w.gradientMap.value=v.gradientMap)}function p(w,v){w.metalness.value=v.metalness,v.metalnessMap&&(w.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,w.metalnessMapTransform)),w.roughness.value=v.roughness,v.roughnessMap&&(w.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,w.roughnessMapTransform)),e.get(v).envMap&&(w.envMapIntensity.value=v.envMapIntensity)}function m(w,v,x){w.ior.value=v.ior,v.sheen>0&&(w.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),w.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(w.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,w.sheenColorMapTransform)),v.sheenRoughnessMap&&(w.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,w.sheenRoughnessMapTransform))),v.clearcoat>0&&(w.clearcoat.value=v.clearcoat,w.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(w.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,w.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(w.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===wi&&w.clearcoatNormalScale.value.negate())),v.iridescence>0&&(w.iridescence.value=v.iridescence,w.iridescenceIOR.value=v.iridescenceIOR,w.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(w.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,w.iridescenceMapTransform)),v.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),v.transmission>0&&(w.transmission.value=v.transmission,w.transmissionSamplerMap.value=x.texture,w.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(w.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,w.transmissionMapTransform)),w.thickness.value=v.thickness,v.thicknessMap&&(w.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=v.attenuationDistance,w.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(w.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(w.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=v.specularIntensity,w.specularColor.value.copy(v.specularColor),v.specularColorMap&&(w.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,w.specularColorMapTransform)),v.specularIntensityMap&&(w.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,w.specularIntensityMapTransform))}function g(w,v){v.matcap&&(w.matcap.value=v.matcap)}function S(w,v){const x=e.get(v).light;w.referencePosition.value.setFromMatrixPosition(x.matrixWorld),w.nearDistance.value=x.shadow.camera.near,w.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function ZF(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,_){const C=_.program;i.uniformBlockBinding(x,C)}function u(x,_){let C=r[x.id];C===void 0&&(g(x),C=h(x),r[x.id]=C,x.addEventListener("dispose",w));const A=_.program;i.updateUBOMapping(x,A);const P=e.render.frame;s[x.id]!==P&&(p(x),s[x.id]=P)}function h(x){const _=d();x.__bindingPointIndex=_;const C=n.createBuffer(),A=x.__size,P=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,A,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,C),C}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const _=r[x.id],C=x.uniforms,A=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let P=0,L=C.length;P<L;P++){const O=C[P];if(m(O,P,A)===!0){const b=O.__offset,I=Array.isArray(O.value)?O.value:[O.value];let F=0;for(let Z=0;Z<I.length;Z++){const j=I[Z],D=S(j);typeof j=="number"?(O.__data[0]=j,n.bufferSubData(n.UNIFORM_BUFFER,b+F,O.__data)):j.isMatrix3?(O.__data[0]=j.elements[0],O.__data[1]=j.elements[1],O.__data[2]=j.elements[2],O.__data[3]=j.elements[0],O.__data[4]=j.elements[3],O.__data[5]=j.elements[4],O.__data[6]=j.elements[5],O.__data[7]=j.elements[0],O.__data[8]=j.elements[6],O.__data[9]=j.elements[7],O.__data[10]=j.elements[8],O.__data[11]=j.elements[0]):(j.toArray(O.__data,F),F+=D.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,O.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,_,C){const A=x.value;if(C[_]===void 0){if(typeof A=="number")C[_]=A;else{const P=Array.isArray(A)?A:[A],L=[];for(let O=0;O<P.length;O++)L.push(P[O].clone());C[_]=L}return!0}else if(typeof A=="number"){if(C[_]!==A)return C[_]=A,!0}else{const P=Array.isArray(C[_])?C[_]:[C[_]],L=Array.isArray(A)?A:[A];for(let O=0;O<P.length;O++){const b=P[O];if(b.equals(L[O])===!1)return b.copy(L[O]),!0}}return!1}function g(x){const _=x.uniforms;let C=0;const A=16;let P=0;for(let L=0,O=_.length;L<O;L++){const b=_[L],I={boundary:0,storage:0},F=Array.isArray(b.value)?b.value:[b.value];for(let Z=0,j=F.length;Z<j;Z++){const D=F[Z],z=S(D);I.boundary+=z.boundary,I.storage+=z.storage}if(b.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=C,L>0){P=C%A;const Z=A-P;P!==0&&Z-I.boundary<0&&(C+=A-P,b.__offset=C)}C+=I.storage}return P=C%A,P>0&&(C+=A-P),x.__size=C,x.__cache={},this}function S(x){const _={boundary:0,storage:0};return typeof x=="number"?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function w(x){const _=x.target;_.removeEventListener("dispose",w);const C=o.indexOf(_.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function v(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:u,dispose:v}}function KF(){const n=hh("canvas");return n.style.display="block",n}class T_{constructor(e={}){const{canvas:t=KF(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),g=new Int32Array(4);let S=null,w=null;const v=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=yt,this._useLegacyLights=!1,this.toneMapping=ds,this.toneMappingExposure=1;const _=this;let C=!1,A=0,P=0,L=null,O=-1,b=null;const I=new Ut,F=new Ut;let Z=null;const j=new $e(0);let D=0,z=t.width,Q=t.height,te=1,U=null,X=null;const q=new Ut(0,0,z,Q),W=new Ut(0,0,z,Q);let J=!1;const Se=new e1;let we=!1,Ee=!1,Oe=null;const ze=new vt,Ke=new _e,at=new k,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function de(){return L===null?te:1}let H=i;function fe(B,se){for(let ve=0;ve<B.length;ve++){const ie=B[ve],ge=t.getContext(ie,se);if(ge!==null)return ge}return null}try{const B={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Y0}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",Le,!1),H===null){const se=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&se.shift(),H=fe(se,B),H===null)throw fe(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let re,xe,ue,Re,Ce,Pe,Be,Me,dt,V,N,ae,Ne,Ae,Ue,Qe,ke,ce,Y,pe,be,De,Ve,ot;function Tt(){re=new hk(H),xe=new ok(H,re,e),re.init(xe),De=new XT(H,re,xe),ue=new jF(H,re,xe),Re=new mk(H),Ce=new OF,Pe=new XF(H,re,ue,Ce,xe,De,Re),Be=new lk(_),Me=new fk(_),dt=new CD(H,xe),Ve=new rk(H,re,dt,xe),V=new dk(H,dt,Re,Ve),N=new xk(H,V,dt,Re),Y=new yk(H,xe,Pe),Qe=new ak(Ce),ae=new IF(_,Be,Me,re,xe,Ve,Qe),Ne=new qF(_,Ce),Ae=new NF,Ue=new VF(re,xe),ce=new ik(_,Be,Me,ue,N,p,l),ke=new WF(_,N,xe),ot=new ZF(H,Re,xe,ue),pe=new sk(H,re,Re,xe),be=new pk(H,re,Re,xe),Re.programs=ae.programs,_.capabilities=xe,_.extensions=re,_.properties=Ce,_.renderLists=Ae,_.shadowMap=ke,_.state=ue,_.info=Re}Tt();const K=new YF(_,H);this.xr=K,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const B=re.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=re.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(B){B!==void 0&&(te=B,this.setSize(z,Q,!1))},this.getSize=function(B){return B.set(z,Q)},this.setSize=function(B,se,ve=!0){if(K.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=B,Q=se,t.width=Math.floor(B*te),t.height=Math.floor(se*te),ve===!0&&(t.style.width=B+"px",t.style.height=se+"px"),this.setViewport(0,0,B,se)},this.getDrawingBufferSize=function(B){return B.set(z*te,Q*te).floor()},this.setDrawingBufferSize=function(B,se,ve){z=B,Q=se,te=ve,t.width=Math.floor(B*ve),t.height=Math.floor(se*ve),this.setViewport(0,0,B,se)},this.getCurrentViewport=function(B){return B.copy(I)},this.getViewport=function(B){return B.copy(q)},this.setViewport=function(B,se,ve,ie){B.isVector4?q.set(B.x,B.y,B.z,B.w):q.set(B,se,ve,ie),ue.viewport(I.copy(q).multiplyScalar(te).floor())},this.getScissor=function(B){return B.copy(W)},this.setScissor=function(B,se,ve,ie){B.isVector4?W.set(B.x,B.y,B.z,B.w):W.set(B,se,ve,ie),ue.scissor(F.copy(W).multiplyScalar(te).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(B){ue.setScissorTest(J=B)},this.setOpaqueSort=function(B){U=B},this.setTransparentSort=function(B){X=B},this.getClearColor=function(B){return B.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(B=!0,se=!0,ve=!0){let ie=0;if(B){let ge=!1;if(L!==null){const qe=L.texture.format;ge=qe===p_||qe===d_||qe===h_}if(ge){const qe=L.texture.type,nt=qe===ps||qe===Vs||qe===K0||qe===zo||qe===c_||qe===f_,lt=ce.getClearColor(),ut=ce.getClearAlpha(),Mt=lt.r,rt=lt.g,ft=lt.b;nt?(m[0]=Mt,m[1]=rt,m[2]=ft,m[3]=ut,H.clearBufferuiv(H.COLOR,0,m)):(g[0]=Mt,g[1]=rt,g[2]=ft,g[3]=ut,H.clearBufferiv(H.COLOR,0,g))}else ie|=H.COLOR_BUFFER_BIT}se&&(ie|=H.DEPTH_BUFFER_BIT),ve&&(ie|=H.STENCIL_BUFFER_BIT),H.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",Le,!1),Ae.dispose(),Ue.dispose(),Ce.dispose(),Be.dispose(),Me.dispose(),N.dispose(),Ve.dispose(),ot.dispose(),ae.dispose(),K.dispose(),K.removeEventListener("sessionstart",Bt),K.removeEventListener("sessionend",Vi),Oe&&(Oe.dispose(),Oe=null),Xn.stop()};function He(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const B=Re.autoReset,se=ke.enabled,ve=ke.autoUpdate,ie=ke.needsUpdate,ge=ke.type;Tt(),Re.autoReset=B,ke.enabled=se,ke.autoUpdate=ve,ke.needsUpdate=ie,ke.type=ge}function Le(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function je(B){const se=B.target;se.removeEventListener("dispose",je),bt(se)}function bt(B){Wt(B),Ce.remove(B)}function Wt(B){const se=Ce.get(B).programs;se!==void 0&&(se.forEach(function(ve){ae.releaseProgram(ve)}),B.isShaderMaterial&&ae.releaseShaderCache(B))}this.renderBufferDirect=function(B,se,ve,ie,ge,qe){se===null&&(se=ye);const nt=ge.isMesh&&ge.matrixWorld.determinant()<0,lt=tg(B,se,ve,ie,ge);ue.setMaterial(ie,nt);let ut=ve.index,Mt=1;if(ie.wireframe===!0){if(ut=V.getWireframeAttribute(ve),ut===void 0)return;Mt=2}const rt=ve.drawRange,ft=ve.attributes.position;let jt=rt.start*Mt,$t=(rt.start+rt.count)*Mt;qe!==null&&(jt=Math.max(jt,qe.start*Mt),$t=Math.min($t,(qe.start+qe.count)*Mt)),ut!==null?(jt=Math.max(jt,0),$t=Math.min($t,ut.count)):ft!=null&&(jt=Math.max(jt,0),$t=Math.min($t,ft.count));const Ti=$t-jt;if(Ti<0||Ti===1/0)return;Ve.setup(ge,ie,lt,ve,ut);let Hi,Vt=pe;if(ut!==null&&(Hi=dt.get(ut),Vt=be,Vt.setIndex(Hi)),ge.isMesh)ie.wireframe===!0?(ue.setLineWidth(ie.wireframeLinewidth*de()),Vt.setMode(H.LINES)):Vt.setMode(H.TRIANGLES);else if(ge.isLine){let pt=ie.linewidth;pt===void 0&&(pt=1),ue.setLineWidth(pt*de()),ge.isLineSegments?Vt.setMode(H.LINES):ge.isLineLoop?Vt.setMode(H.LINE_LOOP):Vt.setMode(H.LINE_STRIP)}else ge.isPoints?Vt.setMode(H.POINTS):ge.isSprite&&Vt.setMode(H.TRIANGLES);if(ge.isInstancedMesh)Vt.renderInstances(jt,Ti,ge.count);else if(ve.isInstancedBufferGeometry){const pt=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,Nt=Math.min(ve.instanceCount,pt);Vt.renderInstances(jt,Ti,Nt)}else Vt.render(jt,Ti)},this.compile=function(B,se){function ve(ie,ge,qe){ie.transparent===!0&&ie.side===as&&ie.forceSinglePass===!1?(ie.side=wi,ie.needsUpdate=!0,qr(ie,ge,qe),ie.side=Js,ie.needsUpdate=!0,qr(ie,ge,qe),ie.side=as):qr(ie,ge,qe)}w=Ue.get(B),w.init(),x.push(w),B.traverseVisible(function(ie){ie.isLight&&ie.layers.test(se.layers)&&(w.pushLight(ie),ie.castShadow&&w.pushShadow(ie))}),w.setupLights(_._useLegacyLights),B.traverse(function(ie){const ge=ie.material;if(ge)if(Array.isArray(ge))for(let qe=0;qe<ge.length;qe++){const nt=ge[qe];ve(nt,B,ie)}else ve(ge,B,ie)}),x.pop(),w=null};let ln=null;function Cr(B){ln&&ln(B)}function Bt(){Xn.stop()}function Vi(){Xn.start()}const Xn=new VT;Xn.setAnimationLoop(Cr),typeof self<"u"&&Xn.setContext(self),this.setAnimationLoop=function(B){ln=B,K.setAnimationLoop(B),B===null?Xn.stop():Xn.start()},K.addEventListener("sessionstart",Bt),K.addEventListener("sessionend",Vi),this.render=function(B,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),K.enabled===!0&&K.isPresenting===!0&&(K.cameraAutoUpdate===!0&&K.updateCamera(se),se=K.getCamera()),B.isScene===!0&&B.onBeforeRender(_,B,se,L),w=Ue.get(B,x.length),w.init(),x.push(w),ze.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),Se.setFromProjectionMatrix(ze),Ee=this.localClippingEnabled,we=Qe.init(this.clippingPlanes,Ee),S=Ae.get(B,v.length),S.init(),v.push(S),Zh(B,se,0,_.sortObjects),S.finish(),_.sortObjects===!0&&S.sort(U,X),this.info.render.frame++,we===!0&&Qe.beginShadows();const ve=w.state.shadowsArray;if(ke.render(ve,B,se),we===!0&&Qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(S,B),w.setupLights(_._useLegacyLights),se.isArrayCamera){const ie=se.cameras;for(let ge=0,qe=ie.length;ge<qe;ge++){const nt=ie[ge];Kh(S,B,nt,nt.viewport)}}else Kh(S,B,se);L!==null&&(Pe.updateMultisampleRenderTarget(L),Pe.updateRenderTargetMipmap(L)),B.isScene===!0&&B.onAfterRender(_,B,se),Ve.resetDefaultState(),O=-1,b=null,x.pop(),x.length>0?w=x[x.length-1]:w=null,v.pop(),v.length>0?S=v[v.length-1]:S=null};function Zh(B,se,ve,ie){if(B.visible===!1)return;if(B.layers.test(se.layers)){if(B.isGroup)ve=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(se);else if(B.isLight)w.pushLight(B),B.castShadow&&w.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||Se.intersectsSprite(B)){ie&&at.setFromMatrixPosition(B.matrixWorld).applyMatrix4(ze);const nt=N.update(B),lt=B.material;lt.visible&&S.push(B,nt,lt,ve,at.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||Se.intersectsObject(B))){const nt=N.update(B),lt=B.material;if(ie&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),at.copy(B.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),at.copy(nt.boundingSphere.center)),at.applyMatrix4(B.matrixWorld).applyMatrix4(ze)),Array.isArray(lt)){const ut=nt.groups;for(let Mt=0,rt=ut.length;Mt<rt;Mt++){const ft=ut[Mt],jt=lt[ft.materialIndex];jt&&jt.visible&&S.push(B,nt,jt,ve,at.z,ft)}}else lt.visible&&S.push(B,nt,lt,ve,at.z,null)}}const qe=B.children;for(let nt=0,lt=qe.length;nt<lt;nt++)Zh(qe[nt],se,ve,ie)}function Kh(B,se,ve,ie){const ge=B.opaque,qe=B.transmissive,nt=B.transparent;w.setupLightsView(ve),we===!0&&Qe.setGlobalState(_.clippingPlanes,ve),qe.length>0&&Jh(ge,qe,se,ve),ie&&ue.viewport(I.copy(ie)),ge.length>0&&ro(ge,se,ve),qe.length>0&&ro(qe,se,ve),nt.length>0&&ro(nt,se,ve),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function Jh(B,se,ve,ie){const ge=xe.isWebGL2;Oe===null&&(Oe=new Wr(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?Ku:ps,minFilter:Jo,samples:ge?4:0})),_.getDrawingBufferSize(Ke),ge?Oe.setSize(Ke.x,Ke.y):Oe.setSize(i0(Ke.x),i0(Ke.y));const qe=_.getRenderTarget();_.setRenderTarget(Oe),_.getClearColor(j),D=_.getClearAlpha(),D<1&&_.setClearColor(16777215,.5),_.clear();const nt=_.toneMapping;_.toneMapping=ds,ro(B,ve,ie),Pe.updateMultisampleRenderTarget(Oe),Pe.updateRenderTargetMipmap(Oe);let lt=!1;for(let ut=0,Mt=se.length;ut<Mt;ut++){const rt=se[ut],ft=rt.object,jt=rt.geometry,$t=rt.material,Ti=rt.group;if($t.side===as&&ft.layers.test(ie.layers)){const Hi=$t.side;$t.side=wi,$t.needsUpdate=!0,Qh(ft,ve,ie,jt,$t,Ti),$t.side=Hi,$t.needsUpdate=!0,lt=!0}}lt===!0&&(Pe.updateMultisampleRenderTarget(Oe),Pe.updateRenderTargetMipmap(Oe)),_.setRenderTarget(qe),_.setClearColor(j,D),_.toneMapping=nt}function ro(B,se,ve){const ie=se.isScene===!0?se.overrideMaterial:null;for(let ge=0,qe=B.length;ge<qe;ge++){const nt=B[ge],lt=nt.object,ut=nt.geometry,Mt=ie===null?nt.material:ie,rt=nt.group;lt.layers.test(ve.layers)&&Qh(lt,se,ve,ut,Mt,rt)}}function Qh(B,se,ve,ie,ge,qe){B.onBeforeRender(_,se,ve,ie,ge,qe),B.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),ge.onBeforeRender(_,se,ve,ie,B,qe),ge.transparent===!0&&ge.side===as&&ge.forceSinglePass===!1?(ge.side=wi,ge.needsUpdate=!0,_.renderBufferDirect(ve,se,ie,ge,B,qe),ge.side=Js,ge.needsUpdate=!0,_.renderBufferDirect(ve,se,ie,ge,B,qe),ge.side=as):_.renderBufferDirect(ve,se,ie,ge,B,qe),B.onAfterRender(_,se,ve,ie,ge,qe)}function qr(B,se,ve){se.isScene!==!0&&(se=ye);const ie=Ce.get(B),ge=w.state.lights,qe=w.state.shadowsArray,nt=ge.state.version,lt=ae.getParameters(B,ge.state,qe,se,ve),ut=ae.getProgramCacheKey(lt);let Mt=ie.programs;ie.environment=B.isMeshStandardMaterial?se.environment:null,ie.fog=se.fog,ie.envMap=(B.isMeshStandardMaterial?Me:Be).get(B.envMap||ie.environment),Mt===void 0&&(B.addEventListener("dispose",je),Mt=new Map,ie.programs=Mt);let rt=Mt.get(ut);if(rt!==void 0){if(ie.currentProgram===rt&&ie.lightsStateVersion===nt)return ed(B,lt),rt}else lt.uniforms=ae.getUniforms(B),B.onBuild(ve,lt,_),B.onBeforeCompile(lt,_),rt=ae.acquireProgram(lt,ut),Mt.set(ut,rt),ie.uniforms=lt.uniforms;const ft=ie.uniforms;(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(ft.clippingPlanes=Qe.uniform),ed(B,lt),ie.needsLights=ig(B),ie.lightsStateVersion=nt,ie.needsLights&&(ft.ambientLightColor.value=ge.state.ambient,ft.lightProbe.value=ge.state.probe,ft.directionalLights.value=ge.state.directional,ft.directionalLightShadows.value=ge.state.directionalShadow,ft.spotLights.value=ge.state.spot,ft.spotLightShadows.value=ge.state.spotShadow,ft.rectAreaLights.value=ge.state.rectArea,ft.ltc_1.value=ge.state.rectAreaLTC1,ft.ltc_2.value=ge.state.rectAreaLTC2,ft.pointLights.value=ge.state.point,ft.pointLightShadows.value=ge.state.pointShadow,ft.hemisphereLights.value=ge.state.hemi,ft.directionalShadowMap.value=ge.state.directionalShadowMap,ft.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,ft.spotShadowMap.value=ge.state.spotShadowMap,ft.spotLightMatrix.value=ge.state.spotLightMatrix,ft.spotLightMap.value=ge.state.spotLightMap,ft.pointShadowMap.value=ge.state.pointShadowMap,ft.pointShadowMatrix.value=ge.state.pointShadowMatrix);const jt=rt.getUniforms(),$t=Am.seqWithValue(jt.seq,ft);return ie.currentProgram=rt,ie.uniformsList=$t,rt}function ed(B,se){const ve=Ce.get(B);ve.outputColorSpace=se.outputColorSpace,ve.instancing=se.instancing,ve.instancingColor=se.instancingColor,ve.skinning=se.skinning,ve.morphTargets=se.morphTargets,ve.morphNormals=se.morphNormals,ve.morphColors=se.morphColors,ve.morphTargetsCount=se.morphTargetsCount,ve.numClippingPlanes=se.numClippingPlanes,ve.numIntersection=se.numClipIntersection,ve.vertexAlphas=se.vertexAlphas,ve.vertexTangents=se.vertexTangents,ve.toneMapping=se.toneMapping}function tg(B,se,ve,ie,ge){se.isScene!==!0&&(se=ye),Pe.resetTextureUnits();const qe=se.fog,nt=ie.isMeshStandardMaterial?se.environment:null,lt=L===null?_.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Er,ut=(ie.isMeshStandardMaterial?Me:Be).get(ie.envMap||nt),Mt=ie.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,rt=!!ve.attributes.tangent&&(!!ie.normalMap||ie.anisotropy>0),ft=!!ve.morphAttributes.position,jt=!!ve.morphAttributes.normal,$t=!!ve.morphAttributes.color;let Ti=ds;ie.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Ti=_.toneMapping);const Hi=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Vt=Hi!==void 0?Hi.length:0,pt=Ce.get(ie),Nt=w.state.lights;if(we===!0&&(Ee===!0||B!==b)){const ei=B===b&&ie.id===O;Qe.setState(ie,B,ei)}let ct=!1;ie.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==Nt.state.version||pt.outputColorSpace!==lt||ge.isInstancedMesh&&pt.instancing===!1||!ge.isInstancedMesh&&pt.instancing===!0||ge.isSkinnedMesh&&pt.skinning===!1||!ge.isSkinnedMesh&&pt.skinning===!0||ge.isInstancedMesh&&pt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&pt.instancingColor===!1&&ge.instanceColor!==null||pt.envMap!==ut||ie.fog===!0&&pt.fog!==qe||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==Qe.numPlanes||pt.numIntersection!==Qe.numIntersection)||pt.vertexAlphas!==Mt||pt.vertexTangents!==rt||pt.morphTargets!==ft||pt.morphNormals!==jt||pt.morphColors!==$t||pt.toneMapping!==Ti||xe.isWebGL2===!0&&pt.morphTargetsCount!==Vt)&&(ct=!0):(ct=!0,pt.__version=ie.version);let Qn=pt.currentProgram;ct===!0&&(Qn=qr(ie,se,ge));let In=!1,Cn=!1,Tr=!1;const un=Qn.getUniforms(),cn=pt.uniforms;if(ue.useProgram(Qn.program)&&(In=!0,Cn=!0,Tr=!0),ie.id!==O&&(O=ie.id,Cn=!0),In||b!==B){if(un.setValue(H,"projectionMatrix",B.projectionMatrix),xe.logarithmicDepthBuffer&&un.setValue(H,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),b!==B&&(b=B,Cn=!0,Tr=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const ei=un.map.cameraPosition;ei!==void 0&&ei.setValue(H,at.setFromMatrixPosition(B.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&un.setValue(H,"isOrthographic",B.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||ge.isSkinnedMesh)&&un.setValue(H,"viewMatrix",B.matrixWorldInverse)}if(ge.isSkinnedMesh){un.setOptional(H,ge,"bindMatrix"),un.setOptional(H,ge,"bindMatrixInverse");const ei=ge.skeleton;ei&&(xe.floatVertexTextures?(ei.boneTexture===null&&ei.computeBoneTexture(),un.setValue(H,"boneTexture",ei.boneTexture,Pe),un.setValue(H,"boneTextureSize",ei.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const so=ve.morphAttributes;if((so.position!==void 0||so.normal!==void 0||so.color!==void 0&&xe.isWebGL2===!0)&&Y.update(ge,ve,Qn),(Cn||pt.receiveShadow!==ge.receiveShadow)&&(pt.receiveShadow=ge.receiveShadow,un.setValue(H,"receiveShadow",ge.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(cn.envMap.value=ut,cn.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Cn&&(un.setValue(H,"toneMappingExposure",_.toneMappingExposure),pt.needsLights&&ng(cn,Tr),qe&&ie.fog===!0&&Ne.refreshFogUniforms(cn,qe),Ne.refreshMaterialUniforms(cn,ie,te,Q,Oe),Am.upload(H,pt.uniformsList,cn,Pe)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(Am.upload(H,pt.uniformsList,cn,Pe),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&un.setValue(H,"center",ge.center),un.setValue(H,"modelViewMatrix",ge.modelViewMatrix),un.setValue(H,"normalMatrix",ge.normalMatrix),un.setValue(H,"modelMatrix",ge.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const ei=ie.uniformsGroups;for(let El=0,Ml=ei.length;El<Ml;El++)if(xe.isWebGL2){const gc=ei[El];ot.update(gc,Qn),ot.bind(gc,Qn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Qn}function ng(B,se){B.ambientLightColor.needsUpdate=se,B.lightProbe.needsUpdate=se,B.directionalLights.needsUpdate=se,B.directionalLightShadows.needsUpdate=se,B.pointLights.needsUpdate=se,B.pointLightShadows.needsUpdate=se,B.spotLights.needsUpdate=se,B.spotLightShadows.needsUpdate=se,B.rectAreaLights.needsUpdate=se,B.hemisphereLights.needsUpdate=se}function ig(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(B,se,ve){Ce.get(B.texture).__webglTexture=se,Ce.get(B.depthTexture).__webglTexture=ve;const ie=Ce.get(B);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=ve===void 0,ie.__autoAllocateDepthBuffer||re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(B,se){const ve=Ce.get(B);ve.__webglFramebuffer=se,ve.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(B,se=0,ve=0){L=B,A=se,P=ve;let ie=!0,ge=null,qe=!1,nt=!1;if(B){const ut=Ce.get(B);ut.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(H.FRAMEBUFFER,null),ie=!1):ut.__webglFramebuffer===void 0?Pe.setupRenderTarget(B):ut.__hasExternalTextures&&Pe.rebindTextures(B,Ce.get(B.texture).__webglTexture,Ce.get(B.depthTexture).__webglTexture);const Mt=B.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(nt=!0);const rt=Ce.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(Array.isArray(rt[se])?ge=rt[se][ve]:ge=rt[se],qe=!0):xe.isWebGL2&&B.samples>0&&Pe.useMultisampledRTT(B)===!1?ge=Ce.get(B).__webglMultisampledFramebuffer:Array.isArray(rt)?ge=rt[ve]:ge=rt,I.copy(B.viewport),F.copy(B.scissor),Z=B.scissorTest}else I.copy(q).multiplyScalar(te).floor(),F.copy(W).multiplyScalar(te).floor(),Z=J;if(ue.bindFramebuffer(H.FRAMEBUFFER,ge)&&xe.drawBuffers&&ie&&ue.drawBuffers(B,ge),ue.viewport(I),ue.scissor(F),ue.setScissorTest(Z),qe){const ut=Ce.get(B.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+se,ut.__webglTexture,ve)}else if(nt){const ut=Ce.get(B.texture),Mt=se||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,ut.__webglTexture,ve||0,Mt)}O=-1},this.readRenderTargetPixels=function(B,se,ve,ie,ge,qe,nt){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=Ce.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&nt!==void 0&&(lt=lt[nt]),lt){ue.bindFramebuffer(H.FRAMEBUFFER,lt);try{const ut=B.texture,Mt=ut.format,rt=ut.type;if(Mt!==Di&&De.convert(Mt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ft=rt===Ku&&(re.has("EXT_color_buffer_half_float")||xe.isWebGL2&&re.has("EXT_color_buffer_float"));if(rt!==ps&&De.convert(rt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(rt===ls&&(xe.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float")))&&!ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=B.width-ie&&ve>=0&&ve<=B.height-ge&&H.readPixels(se,ve,ie,ge,De.convert(Mt),De.convert(rt),qe)}finally{const ut=L!==null?Ce.get(L).__webglFramebuffer:null;ue.bindFramebuffer(H.FRAMEBUFFER,ut)}}},this.copyFramebufferToTexture=function(B,se,ve=0){const ie=Math.pow(2,-ve),ge=Math.floor(se.image.width*ie),qe=Math.floor(se.image.height*ie);Pe.setTexture2D(se,0),H.copyTexSubImage2D(H.TEXTURE_2D,ve,0,0,B.x,B.y,ge,qe),ue.unbindTexture()},this.copyTextureToTexture=function(B,se,ve,ie=0){const ge=se.image.width,qe=se.image.height,nt=De.convert(ve.format),lt=De.convert(ve.type);Pe.setTexture2D(ve,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,ve.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,ve.unpackAlignment),se.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,ie,B.x,B.y,ge,qe,nt,lt,se.image.data):se.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,ie,B.x,B.y,se.mipmaps[0].width,se.mipmaps[0].height,nt,se.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,ie,B.x,B.y,nt,lt,se.image),ie===0&&ve.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(B,se,ve,ie,ge=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qe=B.max.x-B.min.x+1,nt=B.max.y-B.min.y+1,lt=B.max.z-B.min.z+1,ut=De.convert(ie.format),Mt=De.convert(ie.type);let rt;if(ie.isData3DTexture)Pe.setTexture3D(ie,0),rt=H.TEXTURE_3D;else if(ie.isDataArrayTexture)Pe.setTexture2DArray(ie,0),rt=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,ie.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,ie.unpackAlignment);const ft=H.getParameter(H.UNPACK_ROW_LENGTH),jt=H.getParameter(H.UNPACK_IMAGE_HEIGHT),$t=H.getParameter(H.UNPACK_SKIP_PIXELS),Ti=H.getParameter(H.UNPACK_SKIP_ROWS),Hi=H.getParameter(H.UNPACK_SKIP_IMAGES),Vt=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,Vt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Vt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,B.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,B.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,B.min.z),ve.isDataTexture||ve.isData3DTexture?H.texSubImage3D(rt,ge,se.x,se.y,se.z,qe,nt,lt,ut,Mt,Vt.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(rt,ge,se.x,se.y,se.z,qe,nt,lt,ut,Vt.data)):H.texSubImage3D(rt,ge,se.x,se.y,se.z,qe,nt,lt,ut,Mt,Vt),H.pixelStorei(H.UNPACK_ROW_LENGTH,ft),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,jt),H.pixelStorei(H.UNPACK_SKIP_PIXELS,$t),H.pixelStorei(H.UNPACK_SKIP_ROWS,Ti),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Hi),ge===0&&ie.generateMipmaps&&H.generateMipmap(rt),ue.unbindTexture()},this.initTexture=function(B){B.isCubeTexture?Pe.setTextureCube(B,0):B.isData3DTexture?Pe.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?Pe.setTexture2DArray(B,0):Pe.setTexture2D(B,0),ue.unbindTexture()},this.resetState=function(){A=0,P=0,L=null,ue.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return us}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===yt?Ho:g_}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ho?yt:Er}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class qT extends T_{}qT.prototype.isWebGL1Renderer=!0;class n1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new $e(e),this.density=t}clone(){return new n1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class i1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new $e(e),this.near=t,this.far=i}clone(){return new i1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class r0 extends Dt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class r1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ch,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new k;class al{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyMatrix4(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyNormalMatrix(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.transformDirection(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ni(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ni(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ni(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ni(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),i=_t(i,this.array),r=_t(r,this.array),s=_t(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Gt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new al(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class A_ extends Jn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new $e(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let eu;const Yc=new k,tu=new k,nu=new k,iu=new _e,qc=new _e,ZT=new vt,Rp=new k,Zc=new k,Lp=new k,uM=new _e,tv=new _e,cM=new _e;class KT extends Dt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",eu===void 0){eu=new St;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new r1(t,5);eu.setIndex([0,1,2,0,2,3]),eu.setAttribute("position",new al(i,3,0,!1)),eu.setAttribute("uv",new al(i,2,3,!1))}this.geometry=eu,this.material=e!==void 0?e:new A_,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tu.setFromMatrixScale(this.matrixWorld),ZT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tu.multiplyScalar(-nu.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Ip(Rp.set(-.5,-.5,0),nu,o,tu,r,s),Ip(Zc.set(.5,-.5,0),nu,o,tu,r,s),Ip(Lp.set(.5,.5,0),nu,o,tu,r,s),uM.set(0,0),tv.set(1,0),cM.set(1,1);let a=e.ray.intersectTriangle(Rp,Zc,Lp,!1,Yc);if(a===null&&(Ip(Zc.set(-.5,.5,0),nu,o,tu,r,s),tv.set(0,1),a=e.ray.intersectTriangle(Rp,Lp,Zc,!1,Yc),a===null))return;const l=e.ray.origin.distanceTo(Yc);l<e.near||l>e.far||t.push({distance:l,point:Yc.clone(),uv:Oi.getInterpolation(Yc,Rp,Zc,Lp,uM,tv,cM,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ip(n,e,t,i,r,s){iu.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(qc.x=s*iu.x-r*iu.y,qc.y=r*iu.x+s*iu.y):qc.copy(iu),n.copy(e),n.x+=qc.x,n.y+=qc.y,n.applyMatrix4(ZT)}const Op=new k,fM=new k;class JT extends Dt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Op.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Op);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Op.setFromMatrixPosition(e.matrixWorld),fM.setFromMatrixPosition(this.matrixWorld);const i=Op.distanceTo(fM)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const hM=new k,dM=new Ut,pM=new Ut,JF=new k,mM=new vt,ru=new k,nv=new jr,gM=new vt,iv=new cc;class QT extends qn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vt,this.bindMatrixInverse=new vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _s),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ru.fromBufferAttribute(t,i),this.applyBoneTransform(i,ru),this.boundingBox.expandByPoint(ru)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new jr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ru.fromBufferAttribute(t,i),this.applyBoneTransform(i,ru),this.boundingSphere.expandByPoint(ru)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),nv.copy(this.boundingSphere),nv.applyMatrix4(r),e.ray.intersectsSphere(nv)!==!1&&(gM.copy(r).invert(),iv.copy(e.ray).applyMatrix4(gM),!(this.boundingBox!==null&&iv.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,iv)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;dM.fromBufferAttribute(r.attributes.skinIndex,e),pM.fromBufferAttribute(r.attributes.skinWeight,e),hM.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=pM.getComponent(s);if(o!==0){const a=dM.getComponent(s);mM.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(JF.copy(hM).applyMatrix4(mM),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class b_ extends Dt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Vu extends gn{constructor(e=null,t=1,i=1,r,s,o,a,l,u=_n,h=_n,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const vM=new vt,QF=new vt;class s1{constructor(e=[],t=[]){this.uuid=Qi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new vt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:QF;vM.multiplyMatrices(a,t[s]),vM.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new s1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=OT(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Vu(t,e,e,Di,ls);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new b_),this.bones.push(o),this.boneInverses.push(new vt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class ec extends Gt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const su=new vt,yM=new vt,Dp=[],xM=new _s,eB=new vt,Kc=new qn,Jc=new jr;class eA extends qn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ec(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,eB)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new _s),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,su),xM.copy(e.boundingBox).applyMatrix4(su),this.boundingBox.union(xM)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new jr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,su),Jc.copy(e.boundingSphere).applyMatrix4(su),this.boundingSphere.union(Jc)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Kc.geometry=this.geometry,Kc.material=this.material,Kc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jc.copy(this.boundingSphere),Jc.applyMatrix4(i),e.ray.intersectsSphere(Jc)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,su),yM.multiplyMatrices(i,su),Kc.matrixWorld=yM,Kc.raycast(e,Dp);for(let o=0,a=Dp.length;o<a;o++){const l=Dp[o];l.instanceId=s,l.object=this,t.push(l)}Dp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ec(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ci extends Jn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $e(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _M=new k,SM=new k,wM=new vt,rv=new cc,Np=new jr;class Qo extends Dt{constructor(e=new St,t=new Ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)_M.fromBufferAttribute(t,r-1),SM.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=_M.distanceTo(SM);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Np.copy(i.boundingSphere),Np.applyMatrix4(r),Np.radius+=s,e.ray.intersectsSphere(Np)===!1)return;wM.copy(r).invert(),rv.copy(e.ray).applyMatrix4(wM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new k,h=new k,d=new k,p=new k,m=this.isLineSegments?2:1,g=i.index,w=i.attributes.position;if(g!==null){const v=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let _=v,C=x-1;_<C;_+=m){const A=g.getX(_),P=g.getX(_+1);if(u.fromBufferAttribute(w,A),h.fromBufferAttribute(w,P),rv.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(p);O<e.near||O>e.far||t.push({distance:O,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),x=Math.min(w.count,o.start+o.count);for(let _=v,C=x-1;_<C;_+=m){if(u.fromBufferAttribute(w,_),h.fromBufferAttribute(w,_+1),rv.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const EM=new k,MM=new k;class Ss extends Qo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)EM.fromBufferAttribute(t,r),MM.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+EM.distanceTo(MM);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tA extends Qo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class P_ extends Jn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $e(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const CM=new vt,M3=new cc,Up=new jr,kp=new k;class nA extends Dt{constructor(e=new St,t=new P_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Up.copy(i.boundingSphere),Up.applyMatrix4(r),Up.radius+=s,e.ray.intersectsSphere(Up)===!1)return;CM.copy(r).invert(),M3.copy(e.ray).applyMatrix4(CM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,S=m;g<S;g++){const w=u.getX(g);kp.fromBufferAttribute(d,w),TM(kp,w,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,S=m;g<S;g++)kp.fromBufferAttribute(d,g),TM(kp,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function TM(n,e,t,i,r,s,o){const a=M3.distanceSqToPoint(n);if(a<t){const l=new k;M3.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class tB extends gn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:wn,this.magFilter=s!==void 0?s:wn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class nB extends gn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=_n,this.minFilter=_n,this.generateMipmaps=!1,this.needsUpdate=!0}}class o1 extends gn{constructor(e,t,i,r,s,o,a,l,u,h,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iB extends o1{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=fi}}class rB extends o1{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Qs),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class sB extends gn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Xr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new _e:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,l=new vt;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new k)}s[0]=new k,o[0]=new k;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(pn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(pn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class a1 extends Xr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new _e,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*h-m*d+this.aX,u=p*d+m*h+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class iA extends a1{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function R_(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,d){let p=(o-s)/u-(a-s)/(u+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Fp=new k,sv=new R_,ov=new R_,av=new R_;class rA extends Xr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=r[(a-1)%s]:(Fp.subVectors(r[0],r[1]).add(r[0]),u=Fp);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(Fp.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=Fp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),S=Math.pow(d.distanceToSquared(p),m),w=Math.pow(p.distanceToSquared(h),m);S<1e-4&&(S=1),g<1e-4&&(g=S),w<1e-4&&(w=S),sv.initNonuniformCatmullRom(u.x,d.x,p.x,h.x,g,S,w),ov.initNonuniformCatmullRom(u.y,d.y,p.y,h.y,g,S,w),av.initNonuniformCatmullRom(u.z,d.z,p.z,h.z,g,S,w)}else this.curveType==="catmullrom"&&(sv.initCatmullRom(u.x,d.x,p.x,h.x,this.tension),ov.initCatmullRom(u.y,d.y,p.y,h.y,this.tension),av.initCatmullRom(u.z,d.z,p.z,h.z,this.tension));return i.set(sv.calc(l),ov.calc(l),av.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function AM(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function oB(n,e){const t=1-n;return t*t*e}function aB(n,e){return 2*(1-n)*n*e}function lB(n,e){return n*n*e}function If(n,e,t,i){return oB(n,e)+aB(n,t)+lB(n,i)}function uB(n,e){const t=1-n;return t*t*t*e}function cB(n,e){const t=1-n;return 3*t*t*n*e}function fB(n,e){return 3*(1-n)*n*n*e}function hB(n,e){return n*n*n*e}function Of(n,e,t,i,r){return uB(n,e)+cB(n,t)+fB(n,i)+hB(n,r)}class L_ extends Xr{constructor(e=new _e,t=new _e,i=new _e,r=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Of(e,r.x,s.x,o.x,a.x),Of(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sA extends Xr{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Of(e,r.x,s.x,o.x,a.x),Of(e,r.y,s.y,o.y,a.y),Of(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class l1 extends Xr{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oA extends Xr{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I_ extends Xr{constructor(e=new _e,t=new _e,i=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(If(e,r.x,s.x,o.x),If(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O_ extends Xr{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(If(e,r.x,s.x,o.x),If(e,r.y,s.y,o.y),If(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D_ extends Xr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(AM(a,l.x,u.x,h.x,d.x),AM(a,l.y,u.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new _e().fromArray(r))}return this}}var N_=Object.freeze({__proto__:null,ArcCurve:iA,CatmullRomCurve3:rA,CubicBezierCurve:L_,CubicBezierCurve3:sA,EllipseCurve:a1,LineCurve:l1,LineCurve3:oA,QuadraticBezierCurve:I_,QuadraticBezierCurve3:O_,SplineCurve:D_});class aA extends Xr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new l1(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new N_[r.type]().fromJSON(r))}return this}}class dh extends aA{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new l1(this.currentPoint.clone(),new _e(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new I_(this.currentPoint.clone(),new _e(e,t),new _e(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new L_(this.currentPoint.clone(),new _e(e,t),new _e(i,r),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new D_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new a1(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class zh extends St{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=pn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/t,d=new k,p=new _e,m=new k,g=new k,S=new k;let w=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:w=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-w,m.z=v*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:w=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-w,m.z=v*0,g.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(g)}for(let x=0;x<=t;x++){const _=i+x*h*r,C=Math.sin(_),A=Math.cos(_);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*C,d.y=e[P].y,d.z=e[P].x*A,o.push(d.x,d.y,d.z),p.x=x/t,p.y=P/(e.length-1),a.push(p.x,p.y);const L=l[3*P+0]*C,O=l[3*P+1],b=l[3*P+0]*A;u.push(L,O,b)}}for(let x=0;x<t;x++)for(let _=0;_<e.length-1;_++){const C=_+x*e.length,A=C,P=C+e.length,L=C+e.length+1,O=C+1;s.push(A,P,O),s.push(L,O,P)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.points,e.segments,e.phiStart,e.phiLength)}}class u1 extends zh{constructor(e=1,t=1,i=4,r=8){const s=new dh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new u1(e.radius,e.length,e.capSegments,e.radialSegments)}}class c1 extends St{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new k,h=new _e;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dc extends St{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let g=0;const S=[],w=i/2;let v=0;x(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(h),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function x(){const C=new k,A=new k;let P=0;const L=(t-e)/i;for(let O=0;O<=s;O++){const b=[],I=O/s,F=I*(t-e)+e;for(let Z=0;Z<=r;Z++){const j=Z/r,D=j*l+a,z=Math.sin(D),Q=Math.cos(D);A.x=F*z,A.y=-I*i+w,A.z=F*Q,d.push(A.x,A.y,A.z),C.set(z,L,Q).normalize(),p.push(C.x,C.y,C.z),m.push(j,1-I),b.push(g++)}S.push(b)}for(let O=0;O<r;O++)for(let b=0;b<s;b++){const I=S[b][O],F=S[b+1][O],Z=S[b+1][O+1],j=S[b][O+1];h.push(I,F,j),h.push(F,Z,j),P+=6}u.addGroup(v,P,0),v+=P}function _(C){const A=g,P=new _e,L=new k;let O=0;const b=C===!0?e:t,I=C===!0?1:-1;for(let Z=1;Z<=r;Z++)d.push(0,w*I,0),p.push(0,I,0),m.push(.5,.5),g++;const F=g;for(let Z=0;Z<=r;Z++){const D=Z/r*l+a,z=Math.cos(D),Q=Math.sin(D);L.x=b*Q,L.y=w*I,L.z=b*z,d.push(L.x,L.y,L.z),p.push(0,I,0),P.x=z*.5+.5,P.y=Q*.5*I+.5,m.push(P.x,P.y),g++}for(let Z=0;Z<r;Z++){const j=A+Z,D=F+Z;C===!0?h.push(D,D+1,j):h.push(D+1,D,j),O+=3}u.addGroup(v,O,C===!0?1:2),v+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class f1 extends dc{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new f1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ua extends St{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),h(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const _=new k,C=new k,A=new k;for(let P=0;P<t.length;P+=3)m(t[P+0],_),m(t[P+1],C),m(t[P+2],A),l(_,C,A,x)}function l(x,_,C,A){const P=A+1,L=[];for(let O=0;O<=P;O++){L[O]=[];const b=x.clone().lerp(C,O/P),I=_.clone().lerp(C,O/P),F=P-O;for(let Z=0;Z<=F;Z++)Z===0&&O===P?L[O][Z]=b:L[O][Z]=b.clone().lerp(I,Z/F)}for(let O=0;O<P;O++)for(let b=0;b<2*(P-O)-1;b++){const I=Math.floor(b/2);b%2===0?(p(L[O][I+1]),p(L[O+1][I]),p(L[O][I])):(p(L[O][I+1]),p(L[O+1][I+1]),p(L[O+1][I]))}}function u(x){const _=new k;for(let C=0;C<s.length;C+=3)_.x=s[C+0],_.y=s[C+1],_.z=s[C+2],_.normalize().multiplyScalar(x),s[C+0]=_.x,s[C+1]=_.y,s[C+2]=_.z}function h(){const x=new k;for(let _=0;_<s.length;_+=3){x.x=s[_+0],x.y=s[_+1],x.z=s[_+2];const C=w(x)/2/Math.PI+.5,A=v(x)/Math.PI+.5;o.push(C,1-A)}g(),d()}function d(){for(let x=0;x<o.length;x+=6){const _=o[x+0],C=o[x+2],A=o[x+4],P=Math.max(_,C,A),L=Math.min(_,C,A);P>.9&&L<.1&&(_<.2&&(o[x+0]+=1),C<.2&&(o[x+2]+=1),A<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,_){const C=x*3;_.x=e[C+0],_.y=e[C+1],_.z=e[C+2]}function g(){const x=new k,_=new k,C=new k,A=new k,P=new _e,L=new _e,O=new _e;for(let b=0,I=0;b<s.length;b+=9,I+=6){x.set(s[b+0],s[b+1],s[b+2]),_.set(s[b+3],s[b+4],s[b+5]),C.set(s[b+6],s[b+7],s[b+8]),P.set(o[I+0],o[I+1]),L.set(o[I+2],o[I+3]),O.set(o[I+4],o[I+5]),A.copy(x).add(_).add(C).divideScalar(3);const F=w(A);S(P,I+0,x,F),S(L,I+2,_,F),S(O,I+4,C,F)}}function S(x,_,C,A){A<0&&x.x===1&&(o[_]=x.x-1),C.x===0&&C.z===0&&(o[_]=A/2/Math.PI+.5)}function w(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ua(e.vertices,e.indices,e.radius,e.details)}}class h1 extends ua{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new h1(e.radius,e.detail)}}const Bp=new k,zp=new k,lv=new k,Vp=new Oi;class lA extends St{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ja*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:S,b:w,c:v}=Vp;if(S.fromBufferAttribute(a,u[0]),w.fromBufferAttribute(a,u[1]),v.fromBufferAttribute(a,u[2]),Vp.getNormal(lv),d[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,d[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,d[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const _=(x+1)%3,C=d[x],A=d[_],P=Vp[h[x]],L=Vp[h[_]],O=`${C}_${A}`,b=`${A}_${C}`;b in p&&p[b]?(lv.dot(p[b].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(L.x,L.y,L.z)),p[b]=null):O in p||(p[O]={index0:u[x],index1:u[_],normal:lv.clone()})}}for(const g in p)if(p[g]){const{index0:S,index1:w}=p[g];Bp.fromBufferAttribute(a,S),zp.fromBufferAttribute(a,w),m.push(Bp.x,Bp.y,Bp.z),m.push(zp.x,zp.y,zp.z)}this.setAttribute("position",new Je(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class el extends dh{constructor(e){super(e),this.uuid=Qi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new dh().fromJSON(r))}return this}}const dB={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=uA(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,d,p,m;if(i&&(s=yB(n,e,s,t)),n.length>80*t){a=u=n[0],l=h=n[1];for(let g=t;g<r;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>h&&(h=p);m=Math.max(u-a,h-l),m=m!==0?32767/m:0}return ph(s,o,t,a,l,m,0),o}};function uA(n,e,t,i,r){let s,o;if(r===PB(n,e,t,i)>0)for(s=e;s<t;s+=i)o=bM(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=bM(s,n[s],n[s+1],o);return o&&d1(o,o.next)&&(gh(o),o=o.next),o}function ll(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(d1(t,t.next)||rn(t.prev,t,t.next)===0)){if(gh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ph(n,e,t,i,r,s,o){if(!n)return;!o&&s&&EB(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?mB(n,i,r,s):pB(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),gh(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=gB(ll(n),e,t),ph(n,e,t,i,r,s,2)):o===2&&vB(n,e,t,i,r,s):ph(ll(n),e,t,i,r,s,1);break}}}function pB(n){const e=n.prev,t=n,i=n.next;if(rn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=i.next;for(;g!==e;){if(g.x>=h&&g.x<=p&&g.y>=d&&g.y<=m&&bu(r,a,s,l,o,u,g.x,g.y)&&rn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function mB(n,e,t,i){const r=n.prev,s=n,o=n.next;if(rn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=h<d?h<p?h:p:d<p?d:p,S=a>l?a>u?a:u:l>u?l:u,w=h>d?h>p?h:p:d>p?d:p,v=C3(m,g,e,t,i),x=C3(S,w,e,t,i);let _=n.prevZ,C=n.nextZ;for(;_&&_.z>=v&&C&&C.z<=x;){if(_.x>=m&&_.x<=S&&_.y>=g&&_.y<=w&&_!==r&&_!==o&&bu(a,h,l,d,u,p,_.x,_.y)&&rn(_.prev,_,_.next)>=0||(_=_.prevZ,C.x>=m&&C.x<=S&&C.y>=g&&C.y<=w&&C!==r&&C!==o&&bu(a,h,l,d,u,p,C.x,C.y)&&rn(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;_&&_.z>=v;){if(_.x>=m&&_.x<=S&&_.y>=g&&_.y<=w&&_!==r&&_!==o&&bu(a,h,l,d,u,p,_.x,_.y)&&rn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;C&&C.z<=x;){if(C.x>=m&&C.x<=S&&C.y>=g&&C.y<=w&&C!==r&&C!==o&&bu(a,h,l,d,u,p,C.x,C.y)&&rn(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function gB(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!d1(r,s)&&cA(r,i,i.next,s)&&mh(r,s)&&mh(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),gh(i),gh(i.next),i=n=s),i=i.next}while(i!==n);return ll(i)}function vB(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&TB(o,a)){let l=fA(o,a);o=ll(o,o.next),l=ll(l,l.next),ph(o,e,t,i,r,s,0),ph(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function yB(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=uA(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(CB(u));for(r.sort(xB),s=0;s<r.length;s++)t=_B(r[s],t);return t}function xB(n,e){return n.x-e.x}function _B(n,e){const t=SB(n,e);if(!t)return e;const i=fA(t,n);return ll(i,i.next),ll(t,t.next)}function SB(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&bu(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),mh(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&wB(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function wB(n,e){return rn(n.prev,n,e.prev)<0&&rn(e.next,n,n.next)<0}function EB(n,e,t,i){let r=n;do r.z===0&&(r.z=C3(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,MB(r)}function MB(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function C3(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function CB(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function bu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function TB(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!AB(n,e)&&(mh(n,e)&&mh(e,n)&&bB(n,e)&&(rn(n.prev,n,e.prev)||rn(n,e.prev,e))||d1(n,e)&&rn(n.prev,n,n.next)>0&&rn(e.prev,e,e.next)>0)}function rn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function d1(n,e){return n.x===e.x&&n.y===e.y}function cA(n,e,t,i){const r=Gp(rn(n,e,t)),s=Gp(rn(n,e,i)),o=Gp(rn(t,i,n)),a=Gp(rn(t,i,e));return!!(r!==s&&o!==a||r===0&&Hp(n,t,e)||s===0&&Hp(n,i,e)||o===0&&Hp(t,n,i)||a===0&&Hp(t,e,i))}function Hp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gp(n){return n>0?1:n<0?-1:0}function AB(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&cA(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function mh(n,e){return rn(n.prev,n,n.next)<0?rn(n,e,n.next)>=0&&rn(n,n.prev,e)>=0:rn(n,e,n.prev)<0||rn(n,n.next,e)<0}function bB(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function fA(n,e){const t=new T3(n.i,n.x,n.y),i=new T3(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function bM(n,e,t,i){const r=new T3(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function gh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function T3(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function PB(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ms{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ms.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];PM(e),RM(i,e);let o=e.length;t.forEach(PM);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,RM(i,t[l]);const a=dB.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function PM(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function RM(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class p1 extends St{constructor(e=new el([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Je(r,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:RB;let _,C=!1,A,P,L,O;v&&(_=v.getSpacedPoints(h),C=!0,p=!1,A=v.computeFrenetFrames(h,!1),P=new k,L=new k,O=new k),p||(w=0,m=0,g=0,S=0);const b=a.extractPoints(u);let I=b.shape;const F=b.holes;if(!ms.isClockWise(I)){I=I.reverse();for(let H=0,fe=F.length;H<fe;H++){const re=F[H];ms.isClockWise(re)&&(F[H]=re.reverse())}}const j=ms.triangulateShape(I,F),D=I;for(let H=0,fe=F.length;H<fe;H++){const re=F[H];I=I.concat(re)}function z(H,fe,re){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(fe,re)}const Q=I.length,te=j.length;function U(H,fe,re){let xe,ue,Re;const Ce=H.x-fe.x,Pe=H.y-fe.y,Be=re.x-H.x,Me=re.y-H.y,dt=Ce*Ce+Pe*Pe,V=Ce*Me-Pe*Be;if(Math.abs(V)>Number.EPSILON){const N=Math.sqrt(dt),ae=Math.sqrt(Be*Be+Me*Me),Ne=fe.x-Pe/N,Ae=fe.y+Ce/N,Ue=re.x-Me/ae,Qe=re.y+Be/ae,ke=((Ue-Ne)*Me-(Qe-Ae)*Be)/(Ce*Me-Pe*Be);xe=Ne+Ce*ke-H.x,ue=Ae+Pe*ke-H.y;const ce=xe*xe+ue*ue;if(ce<=2)return new _e(xe,ue);Re=Math.sqrt(ce/2)}else{let N=!1;Ce>Number.EPSILON?Be>Number.EPSILON&&(N=!0):Ce<-Number.EPSILON?Be<-Number.EPSILON&&(N=!0):Math.sign(Pe)===Math.sign(Me)&&(N=!0),N?(xe=-Pe,ue=Ce,Re=Math.sqrt(dt)):(xe=Ce,ue=Pe,Re=Math.sqrt(dt/2))}return new _e(xe/Re,ue/Re)}const X=[];for(let H=0,fe=D.length,re=fe-1,xe=H+1;H<fe;H++,re++,xe++)re===fe&&(re=0),xe===fe&&(xe=0),X[H]=U(D[H],D[re],D[xe]);const q=[];let W,J=X.concat();for(let H=0,fe=F.length;H<fe;H++){const re=F[H];W=[];for(let xe=0,ue=re.length,Re=ue-1,Ce=xe+1;xe<ue;xe++,Re++,Ce++)Re===ue&&(Re=0),Ce===ue&&(Ce=0),W[xe]=U(re[xe],re[Re],re[Ce]);q.push(W),J=J.concat(W)}for(let H=0;H<w;H++){const fe=H/w,re=m*Math.cos(fe*Math.PI/2),xe=g*Math.sin(fe*Math.PI/2)+S;for(let ue=0,Re=D.length;ue<Re;ue++){const Ce=z(D[ue],X[ue],xe);ze(Ce.x,Ce.y,-re)}for(let ue=0,Re=F.length;ue<Re;ue++){const Ce=F[ue];W=q[ue];for(let Pe=0,Be=Ce.length;Pe<Be;Pe++){const Me=z(Ce[Pe],W[Pe],xe);ze(Me.x,Me.y,-re)}}}const Se=g+S;for(let H=0;H<Q;H++){const fe=p?z(I[H],J[H],Se):I[H];C?(L.copy(A.normals[0]).multiplyScalar(fe.x),P.copy(A.binormals[0]).multiplyScalar(fe.y),O.copy(_[0]).add(L).add(P),ze(O.x,O.y,O.z)):ze(fe.x,fe.y,0)}for(let H=1;H<=h;H++)for(let fe=0;fe<Q;fe++){const re=p?z(I[fe],J[fe],Se):I[fe];C?(L.copy(A.normals[H]).multiplyScalar(re.x),P.copy(A.binormals[H]).multiplyScalar(re.y),O.copy(_[H]).add(L).add(P),ze(O.x,O.y,O.z)):ze(re.x,re.y,d/h*H)}for(let H=w-1;H>=0;H--){const fe=H/w,re=m*Math.cos(fe*Math.PI/2),xe=g*Math.sin(fe*Math.PI/2)+S;for(let ue=0,Re=D.length;ue<Re;ue++){const Ce=z(D[ue],X[ue],xe);ze(Ce.x,Ce.y,d+re)}for(let ue=0,Re=F.length;ue<Re;ue++){const Ce=F[ue];W=q[ue];for(let Pe=0,Be=Ce.length;Pe<Be;Pe++){const Me=z(Ce[Pe],W[Pe],xe);C?ze(Me.x,Me.y+_[h-1].y,_[h-1].x+re):ze(Me.x,Me.y,d+re)}}}we(),Ee();function we(){const H=r.length/3;if(p){let fe=0,re=Q*fe;for(let xe=0;xe<te;xe++){const ue=j[xe];Ke(ue[2]+re,ue[1]+re,ue[0]+re)}fe=h+w*2,re=Q*fe;for(let xe=0;xe<te;xe++){const ue=j[xe];Ke(ue[0]+re,ue[1]+re,ue[2]+re)}}else{for(let fe=0;fe<te;fe++){const re=j[fe];Ke(re[2],re[1],re[0])}for(let fe=0;fe<te;fe++){const re=j[fe];Ke(re[0]+Q*h,re[1]+Q*h,re[2]+Q*h)}}i.addGroup(H,r.length/3-H,0)}function Ee(){const H=r.length/3;let fe=0;Oe(D,fe),fe+=D.length;for(let re=0,xe=F.length;re<xe;re++){const ue=F[re];Oe(ue,fe),fe+=ue.length}i.addGroup(H,r.length/3-H,1)}function Oe(H,fe){let re=H.length;for(;--re>=0;){const xe=re;let ue=re-1;ue<0&&(ue=H.length-1);for(let Re=0,Ce=h+w*2;Re<Ce;Re++){const Pe=Q*Re,Be=Q*(Re+1),Me=fe+xe+Pe,dt=fe+ue+Pe,V=fe+ue+Be,N=fe+xe+Be;at(Me,dt,V,N)}}}function ze(H,fe,re){l.push(H),l.push(fe),l.push(re)}function Ke(H,fe,re){ye(H),ye(fe),ye(re);const xe=r.length/3,ue=x.generateTopUV(i,r,xe-3,xe-2,xe-1);de(ue[0]),de(ue[1]),de(ue[2])}function at(H,fe,re,xe){ye(H),ye(fe),ye(xe),ye(fe),ye(re),ye(xe);const ue=r.length/3,Re=x.generateSideWallUV(i,r,ue-6,ue-3,ue-2,ue-1);de(Re[0]),de(Re[1]),de(Re[3]),de(Re[1]),de(Re[2]),de(Re[3])}function ye(H){r.push(l[H*3+0]),r.push(l[H*3+1]),r.push(l[H*3+2])}function de(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return LB(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new N_[r.type]().fromJSON(r)),new p1(i,e.options)}}const RB={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new _e(s,o),new _e(a,l),new _e(u,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],g=e[r*3+2],S=e[s*3],w=e[s*3+1],v=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new _e(o,1-l),new _e(u,1-d),new _e(p,1-g),new _e(S,1-v)]:[new _e(a,1-l),new _e(h,1-d),new _e(m,1-g),new _e(w,1-v)]}};function LB(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class m1 extends ua{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new m1(e.radius,e.detail)}}class Vh extends ua{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vh(e.radius,e.detail)}}class g1 extends St{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],h=[];let d=e;const p=(t-e)/r,m=new k,g=new _e;for(let S=0;S<=r;S++){for(let w=0;w<=i;w++){const v=s+w/i*o;m.x=d*Math.cos(v),m.y=d*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y)}d+=p}for(let S=0;S<r;S++){const w=S*(i+1);for(let v=0;v<i;v++){const x=v+w,_=x,C=x+i+1,A=x+i+2,P=x+1;a.push(_,C,P),a.push(C,A,P)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class v1 extends St{constructor(e=new el([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function u(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const g=p.holes;ms.isClockWise(m)===!1&&(m=m.reverse());for(let w=0,v=g.length;w<v;w++){const x=g[w];ms.isClockWise(x)===!0&&(g[w]=x.reverse())}const S=ms.triangulateShape(m,g);for(let w=0,v=g.length;w<v;w++){const x=g[w];m=m.concat(x)}for(let w=0,v=m.length;w<v;w++){const x=m[w];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let w=0,v=S.length;w<v;w++){const x=S[w],_=x[0]+d,C=x[1]+d,A=x[2]+d;i.push(_,C,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return IB(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new v1(i,e.curveSegments)}}function IB(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Hh extends St{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const h=[],d=new k,p=new k,m=[],g=[],S=[],w=[];for(let v=0;v<=i;v++){const x=[],_=v/i;let C=0;v===0&&o===0?C=.5/t:v===i&&l===Math.PI&&(C=-.5/t);for(let A=0;A<=t;A++){const P=A/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+_*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),S.push(p.x,p.y,p.z),w.push(P+C,1-_),x.push(u++)}h.push(x)}for(let v=0;v<i;v++)for(let x=0;x<t;x++){const _=h[v][x+1],C=h[v][x],A=h[v+1][x],P=h[v+1][x+1];(v!==0||o>0)&&m.push(_,C,P),(v!==i-1||l<Math.PI)&&m.push(C,A,P)}this.setIndex(m),this.setAttribute("position",new Je(g,3)),this.setAttribute("normal",new Je(S,3)),this.setAttribute("uv",new Je(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class y1 extends ua{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y1(e.radius,e.detail)}}class x1 extends St{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],h=new k,d=new k,p=new k;for(let m=0;m<=i;m++)for(let g=0;g<=r;g++){const S=g/r*s,w=m/i*Math.PI*2;d.x=(e+t*Math.cos(w))*Math.cos(S),d.y=(e+t*Math.cos(w))*Math.sin(S),d.z=t*Math.sin(w),a.push(d.x,d.y,d.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(g/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let g=1;g<=r;g++){const S=(r+1)*m+g-1,w=(r+1)*(m-1)+g-1,v=(r+1)*(m-1)+g,x=(r+1)*m+g;o.push(S,w,x),o.push(w,v,x)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _1 extends St{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],h=[],d=new k,p=new k,m=new k,g=new k,S=new k,w=new k,v=new k;for(let _=0;_<=i;++_){const C=_/i*s*Math.PI*2;x(C,s,o,e,m),x(C+.01,s,o,e,g),w.subVectors(g,m),v.addVectors(g,m),S.crossVectors(w,v),v.crossVectors(S,w),S.normalize(),v.normalize();for(let A=0;A<=r;++A){const P=A/r*Math.PI*2,L=-t*Math.cos(P),O=t*Math.sin(P);d.x=m.x+(L*v.x+O*S.x),d.y=m.y+(L*v.y+O*S.y),d.z=m.z+(L*v.z+O*S.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),h.push(_/i),h.push(A/r)}}for(let _=1;_<=i;_++)for(let C=1;C<=r;C++){const A=(r+1)*(_-1)+(C-1),P=(r+1)*_+(C-1),L=(r+1)*_+C,O=(r+1)*(_-1)+C;a.push(A,P,O),a.push(P,L,O)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(h,2));function x(_,C,A,P,L){const O=Math.cos(_),b=Math.sin(_),I=A/C*_,F=Math.cos(I);L.x=P*(2+F)*.5*O,L.y=P*(2+F)*b*.5,L.z=P*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class S1 extends St{constructor(e=new O_(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,u=new _e;let h=new k;const d=[],p=[],m=[],g=[];S(),this.setIndex(g),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function S(){for(let _=0;_<t;_++)w(_);w(s===!1?t:0),x(),v()}function w(_){h=e.getPointAt(_/t,h);const C=o.normals[_],A=o.binormals[_];for(let P=0;P<=r;P++){const L=P/r*Math.PI*2,O=Math.sin(L),b=-Math.cos(L);l.x=b*C.x+O*A.x,l.y=b*C.y+O*A.y,l.z=b*C.z+O*A.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=t;_++)for(let C=1;C<=r;C++){const A=(r+1)*(_-1)+(C-1),P=(r+1)*_+(C-1),L=(r+1)*_+C,O=(r+1)*(_-1)+C;g.push(A,P,O),g.push(P,L,O)}}function x(){for(let _=0;_<=t;_++)for(let C=0;C<=r;C++)u.x=_/t,u.y=C/r,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new S1(new N_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class hA extends St{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const d=l[u],p=d.start,m=d.count;for(let g=p,S=p+m;g<S;g+=3)for(let w=0;w<3;w++){const v=a.getX(g+w),x=a.getX(g+(w+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,x),LM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),LM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function LM(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var IM=Object.freeze({__proto__:null,BoxGeometry:dl,CapsuleGeometry:u1,CircleGeometry:c1,ConeGeometry:f1,CylinderGeometry:dc,DodecahedronGeometry:h1,EdgesGeometry:lA,ExtrudeGeometry:p1,IcosahedronGeometry:m1,LatheGeometry:zh,OctahedronGeometry:Vh,PlaneGeometry:Bh,PolyhedronGeometry:ua,RingGeometry:g1,ShapeGeometry:v1,SphereGeometry:Hh,TetrahedronGeometry:y1,TorusGeometry:x1,TorusKnotGeometry:_1,TubeGeometry:S1,WireframeGeometry:hA});class dA extends Jn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new $e(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class pA extends ys{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class U_ extends Jn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $e(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mA extends U_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $e(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $e(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $e(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class gA extends Jn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new $e(16777215),this.specular=new $e(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vA extends Jn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new $e(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class yA extends Jn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xA extends Jn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new $e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _A extends Jn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new $e(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SA extends Ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function gr(n,e,t){return k_(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function $a(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function k_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function wA(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function A3(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function F_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function OB(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*r;if(!(g<t||g>=i)){d.push(u.times[m]);for(let S=0;S<h;++S)p.push(u.values[m*h+S])}}d.length!==0&&(u.times=$a(d,u.times.constructor),u.values=$a(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function DB(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let S;if(s<=a.times[0]){const v=h,x=d-h;S=gr(a.values,v,x)}else if(s>=a.times[g]){const v=g*d+h,x=v+d-h;S=gr(a.values,v,x)}else{const v=a.createInterpolant(),x=h,_=d-h;v.evaluate(s),S=gr(v.resultBuffer,x,_)}l==="quaternion"&&new hi().fromArray(S).normalize().conjugate().toArray(S);const w=u.times.length;for(let v=0;v<w;++v){const x=v*m+p;if(l==="quaternion")hi.multiplyQuaternionsFlat(u.values,x,S,0,u.values,x);else{const _=m-p*2;for(let C=0;C<_;++C)u.values[x+C]-=S[C]}}}return n.blendMode=m_,n}const NB={arraySlice:gr,convertArray:$a,isTypedArray:k_,getKeyframeOrder:wA,sortedArray:A3,flattenJSON:F_,subclip:OB,makeClipAdditive:DB};class Gh{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class EA extends Gh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ja:s=e,a=2*t-i;break;case uh:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ja:o=e,l=2*i-t;break;case uh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,h=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(i-t)/(r-t),S=g*g,w=S*g,v=-p*w+2*p*S-p*g,x=(1+p)*w+(-1.5-2*p)*S+(-.5+p)*g+1,_=(-1-m)*w+(1.5+m)*S+.5*g,C=m*w-m*S;for(let A=0;A!==a;++A)s[A]=v*o[h+A]+x*o[u+A]+_*o[l+A]+C*o[d+A];return s}}class B_ extends Gh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*h;return s}}class MA extends Gh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class $r{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$a(t,this.TimeBufferType),this.values=$a(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:$a(e.times,Array),values:$a(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new MA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new B_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new EA(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ah:t=this.InterpolantFactoryMethodDiscrete;break;case lh:t=this.InterpolantFactoryMethodLinear;break;case Cm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ah;case this.InterpolantFactoryMethodLinear:return lh;case this.InterpolantFactoryMethodSmooth:return Cm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=gr(i,s,o),this.values=gr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&k_(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=gr(this.times),t=gr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Cm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let g=0;g!==i;++g){const S=t[d+g];if(S!==t[p+g]||S!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=gr(e,0,o),this.values=gr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=gr(this.times,0),t=gr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}$r.prototype.TimeBufferType=Float32Array;$r.prototype.ValueBufferType=Float32Array;$r.prototype.DefaultInterpolation=lh;class pl extends $r{}pl.prototype.ValueTypeName="bool";pl.prototype.ValueBufferType=Array;pl.prototype.DefaultInterpolation=ah;pl.prototype.InterpolantFactoryMethodLinear=void 0;pl.prototype.InterpolantFactoryMethodSmooth=void 0;class z_ extends $r{}z_.prototype.ValueTypeName="color";class vh extends $r{}vh.prototype.ValueTypeName="number";class CA extends Gh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let h=u+a;u!==h;u+=4)hi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class pc extends $r{InterpolantFactoryMethodLinear(e){return new CA(this.times,this.values,this.getValueSize(),e)}}pc.prototype.ValueTypeName="quaternion";pc.prototype.DefaultInterpolation=lh;pc.prototype.InterpolantFactoryMethodSmooth=void 0;class ml extends $r{}ml.prototype.ValueTypeName="string";ml.prototype.ValueBufferType=Array;ml.prototype.DefaultInterpolation=ah;ml.prototype.InterpolantFactoryMethodLinear=void 0;ml.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends $r{}yh.prototype.ValueTypeName="vector";class xh{constructor(e,t=-1,i,r=J0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Qi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(kB(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push($r.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=wA(l);l=A3(l,1,h),u=A3(u,1,h),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new vh(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,g,S){if(m.length!==0){const w=[],v=[];F_(m,w,v,g),w.length!==0&&S.push(new d(p,w,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let S=0;S<p[g].morphTargets.length;S++)m[p[g].morphTargets[S]]=-1;for(const S in m){const w=[],v=[];for(let x=0;x!==p[g].morphTargets.length;++x){const _=p[g];w.push(_.time),v.push(_.morphTarget===S?1:0)}r.push(new vh(".morphTargetInfluence["+S+"]",w,v))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(yh,m+".position",p,"pos",r),i(pc,m+".quaternion",p,"rot",r),i(yh,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function UB(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vh;case"vector":case"vector2":case"vector3":case"vector4":return yh;case"color":return z_;case"quaternion":return pc;case"bool":case"boolean":return pl;case"string":return ml}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function kB(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=UB(n.type);if(n.times===void 0){const t=[],i=[];F_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ul={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class V_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return u.push(h,d),this},this.removeHandler=function(h){const d=u.indexOf(h);return d!==-1&&u.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return g}return null}}}const TA=new V_;class zi{constructor(e){this.manager=e!==void 0?e:TA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}zi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ds={};class FB extends Error{constructor(e,t){super(e),this.response=t}}class eo extends zi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ul.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ds[e]!==void 0){Ds[e].push({onLoad:t,onProgress:i,onError:r});return}Ds[e]=[],Ds[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Ds[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let S=0;const w=new ReadableStream({start(v){x();function x(){d.read().then(({done:_,value:C})=>{if(_)v.close();else{S+=C.byteLength;const A=new ProgressEvent("progress",{lengthComputable:g,loaded:S,total:m});for(let P=0,L=h.length;P<L;P++){const O=h[P];O.onProgress&&O.onProgress(A)}v.enqueue(C),x()}})}}});return new Response(w)}else throw new FB(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{ul.add(e,u);const h=Ds[e];delete Ds[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=Ds[e];if(h===void 0)throw this.manager.itemError(e),u;delete Ds[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class BB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new eo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=xh.parse(e[i]);t.push(r)}return t}}class zB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new o1,l=new eo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=wn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+S]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=wn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class _h extends zi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ul.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=hh("img");function l(){h(),ul.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class VB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=new Fh;s.colorSpace=yt;const o=new _h(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class HB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vu,a=new eo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}if(!u)return r();u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:fi,o.wrapT=u.wrapT!==void 0?u.wrapT:fi,o.magFilter=u.magFilter!==void 0?u.magFilter:wn,o.minFilter=u.minFilter!==void 0?u.minFilter:wn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Jo),u.mipmapCount===1&&(o.minFilter=wn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},i,r),o}}class GB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=new gn,o=new _h(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ca extends Dt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new $e(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class AA extends ca{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $e(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const uv=new vt,OM=new k,DM=new k;class H_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new e1,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;OM.setFromMatrixPosition(e.matrixWorld),t.position.copy(OM),DM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(DM),t.updateMatrixWorld(),uv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(uv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class WB extends H_{constructor(){super(new En(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Ju*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bA extends ca{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new WB}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const NM=new vt,Qc=new k,cv=new k;class jB extends H_{constructor(){super(new En(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Qc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Qc),cv.copy(i.position),cv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(cv),i.updateMatrixWorld(),r.makeTranslation(-Qc.x,-Qc.y,-Qc.z),NM.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NM)}}class PA extends ca{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new jB}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class XB extends H_{constructor(){super(new Wo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class RA extends ca{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.shadow=new XB}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LA extends ca{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class IA extends ca{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class OA{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class w1 extends ca{constructor(e=new OA,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class E1 extends zi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new eo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=E1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new $e().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new $e().setHex(o.value);break;case"v2":r.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":r.uniforms[s].value=new k().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ut().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Et().fromArray(o.value);break;case"m4":r.uniforms[s].value=new vt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new _e().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:dA,SpriteMaterial:A_,RawShaderMaterial:pA,ShaderMaterial:ys,PointsMaterial:P_,MeshPhysicalMaterial:mA,MeshStandardMaterial:U_,MeshPhongMaterial:gA,MeshToonMaterial:vA,MeshNormalMaterial:yA,MeshLambertMaterial:xA,MeshDepthMaterial:M_,MeshDistanceMaterial:C_,MeshBasicMaterial:la,MeshMatcapMaterial:_A,LineDashedMaterial:SA,LineBasicMaterial:Ci,Material:Jn};return new t[e]}}class b3{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class DA extends St{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class NA extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new eo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,g){if(t[g]!==void 0)return t[g];const w=m.interleavedBuffers[g],v=s(m,w.buffer),x=Cu(w.type,v),_=new r1(x,w.stride);return _.uuid=w.uuid,t[g]=_,_}function s(m,g){if(i[g]!==void 0)return i[g];const w=m.arrayBuffers[g],v=new Uint32Array(w).buffer;return i[g]=v,v}const o=e.isInstancedBufferGeometry?new DA:new St,a=e.data.index;if(a!==void 0){const m=Cu(a.type,a.array);o.setIndex(new Gt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let S;if(g.isInterleavedBufferAttribute){const w=r(e.data,g.data);S=new al(w,g.itemSize,g.offset,g.normalized)}else{const w=Cu(g.type,g.array),v=g.isInstancedBufferAttribute?ec:Gt;S=new v(w,g.itemSize,g.normalized)}g.name!==void 0&&(S.name=g.name),g.usage!==void 0&&S.setUsage(g.usage),g.updateRange!==void 0&&(S.updateRange.offset=g.updateRange.offset,S.updateRange.count=g.updateRange.count),o.setAttribute(m,S)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],S=[];for(let w=0,v=g.length;w<v;w++){const x=g[w];let _;if(x.isInterleavedBufferAttribute){const C=r(e.data,x.data);_=new al(C,x.itemSize,x.offset,x.normalized)}else{const C=Cu(x.type,x.array);_=new Gt(C,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),S.push(_)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const S=d[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new k;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new jr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class $B extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?b3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new eo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?b3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new eo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new el().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new s1().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new NA;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in IM?a=IM[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new E1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=xh.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(h)}else return l.data?{data:Cu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new V_(t);s=new _h(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,S=p.length;g<S;g++){const w=p[g],v=a(w);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Vu(v.data,v.width,v.height)))}r[d.uuid]=new Xa(m)}else{const m=a(d.url);r[d.uuid]=new Xa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Cu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new _h(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new Vu(g.data,g.width,g.height)))}i[l.uuid]=new Xa(h)}else{const h=await s(l.url);i[l.uuid]=new Xa(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let h;Array.isArray(u)?(h=new Fh,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Vu:h=new gn,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,YB)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],UM),h.wrapT=i(a.wrap[1],UM)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,kM)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,kM)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,S=p.length;g<S;g++){const w=p[g];i[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),m.push(i[w])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new r0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new $e(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new i1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new n1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new En(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Wo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LA(e.color,e.intensity);break;case"DirectionalLight":o=new RA(e.color,e.intensity);break;case"PointLight":o=new PA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new IA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new AA(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new w1().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new QT(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new qn(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new eA(h,d,p),o.instanceMatrix=new ec(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new ec(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new JT;break;case"Line":o=new Qo(a(e.geometry),l(e.material));break;case"LineLoop":o=new tA(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ss(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new nA(a(e.geometry),l(e.material));break;case"Sprite":o=new KT(l(e.material));break;case"Group":o=new Au;break;case"Bone":o=new b_;break;default:o=new Dt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],S=o.getObjectByProperty("uuid",g.object);S!==void 0&&o.addLevel(S,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const YB={UVMapping:Z0,CubeReflectionMapping:Qs,CubeRefractionMapping:Ko,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:rh,CubeUVReflectionMapping:uc},UM={RepeatWrapping:sh,ClampToEdgeWrapping:fi,MirroredRepeatWrapping:oh},kM={NearestFilter:_n,NearestMipmapNearestFilter:t0,NearestMipmapLinearFilter:Pf,LinearFilter:wn,LinearMipmapNearestFilter:l_,LinearMipmapLinearFilter:Jo};class qB extends zi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ul.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ul.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Wp;class G_{static getContext(){return Wp===void 0&&(Wp=new(window.AudioContext||window.webkitAudioContext)),Wp}static setContext(e){Wp=e}}class ZB extends zi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new eo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);G_.getContext().decodeAudioData(u,function(d){t(d)},a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class KB extends w1{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new $e().set(e),s=new $e().set(t),o=new k(r.r,r.g,r.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class JB extends w1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new $e().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const FM=new vt,BM=new vt,Ca=new vt;class QB{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new En,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new En,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ca.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ja*t.fov*.5)/t.zoom;let a,l;BM.elements[12]=-r,FM.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ca.elements[0]=2*t.near/(l-a),Ca.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ca),a=-o*t.aspect-s,l=o*t.aspect-s,Ca.elements[0]=2*t.near/(l-a),Ca.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ca)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(FM)}}class W_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=zM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function zM(){return(typeof performance>"u"?Date:performance).now()}const Ta=new k,VM=new hi,ez=new k,Aa=new k;class tz extends Dt{constructor(){super(),this.type="AudioListener",this.context=G_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new W_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ta,VM,ez),Aa.set(0,0,-1).applyQuaternion(VM),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ta.x,r),t.positionY.linearRampToValueAtTime(Ta.y,r),t.positionZ.linearRampToValueAtTime(Ta.z,r),t.forwardX.linearRampToValueAtTime(Aa.x,r),t.forwardY.linearRampToValueAtTime(Aa.y,r),t.forwardZ.linearRampToValueAtTime(Aa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ta.x,Ta.y,Ta.z),t.setOrientation(Aa.x,Aa.y,Aa.z,i.x,i.y,i.z)}}class UA extends Dt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ba=new k,HM=new hi,nz=new k,Pa=new k;class iz extends UA{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ba,HM,nz),Pa.set(0,0,1).applyQuaternion(HM);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ba.x,i),t.positionY.linearRampToValueAtTime(ba.y,i),t.positionZ.linearRampToValueAtTime(ba.z,i),t.orientationX.linearRampToValueAtTime(Pa.x,i),t.orientationY.linearRampToValueAtTime(Pa.y,i),t.orientationZ.linearRampToValueAtTime(Pa.z,i)}else t.setPosition(ba.x,ba.y,ba.z),t.setOrientation(Pa.x,Pa.y,Pa.z)}}class rz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class kA{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){hi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;hi.multiplyQuaternionsFlat(e,o,e,t,e,i),hi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const j_="\\[\\]\\.:\\/",sz=new RegExp("["+j_+"]","g"),X_="[^"+j_+"]",oz="[^"+j_.replace("\\.","")+"]",az=/((?:WC+[\/:])*)/.source.replace("WC",X_),lz=/(WCOD+)?/.source.replace("WCOD",oz),uz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",X_),cz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",X_),fz=new RegExp("^"+az+lz+uz+cz+"$"),hz=["material","materials","bones","map"];class dz{constructor(e,t,i){const r=i||Pt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Pt{constructor(e,t,i){this.path=t,this.parsedPath=i||Pt.parseTrackName(t),this.node=Pt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Pt.Composite(e,t,i):new Pt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sz,"")}static parseTrackName(e){const t=fz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);hz.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Pt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pt.Composite=dz;Pt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pt.prototype.GetterByBindingType=[Pt.prototype._getValue_direct,Pt.prototype._getValue_array,Pt.prototype._getValue_arrayElement,Pt.prototype._getValue_toArray];Pt.prototype.SetterByBindingTypeAndVersioning=[[Pt.prototype._setValue_direct,Pt.prototype._setValue_direct_setNeedsUpdate,Pt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_array,Pt.prototype._setValue_array_setNeedsUpdate,Pt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_arrayElement,Pt.prototype._setValue_arrayElement_setNeedsUpdate,Pt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_fromArray,Pt.prototype._setValue_fromArray_setNeedsUpdate,Pt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let S=0,w=o;S!==w;++S)s[S].push(new Pt(p,i[S],r[S]))}else if(g<u){a=e[g];const S=--u,w=e[S];t[w.uuid]=g,e[g]=w,t[m]=S,e[S]=p;for(let v=0,x=o;v!==x;++v){const _=s[v],C=_[S];let A=_[g];_[g]=C,A===void 0&&(A=new Pt(p,i[v],r[v])),_[S]=A}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[u]=d,e[d]=l;for(let m=0,g=r;m!==g;++m){const S=i[m],w=S[d],v=S[h];S[h]=w,S[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],g=--o,S=e[g];t[m.uuid]=d,e[d]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let w=0,v=r;w!==v;++w){const x=i[w],_=x[p],C=x[g];x[d]=_,x[p]=C,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,S=r;g!==S;++g){const w=i[g];w[d]=w[p],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const g=l[p];d[p]=new Pt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class FA{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Wa,endingEnd:Wa};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case m_:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case J0:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===_T;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===yT){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ja,r.endingEnd=ja):(e?r.endingStart=this.zeroSlopeAtStart?ja:Wa:r.endingStart=uh,t?r.endingEnd=this.zeroSlopeAtEnd?ja:Wa:r.endingEnd=uh)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const mz=new Float32Array(1);class gz extends xs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let g=h[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const S=t&&t._propertyBindings[d].binding.parsedPath;g=new kA(Pt.create(i,m,S),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new B_(new Float32Array(2),new Float32Array(2),1,mz),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?xh.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=J0),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new FA(this,o,t,i);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?xh.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class $_{constructor(e){this.value=e}clone(){return new $_(this.value.clone===void 0?this.value:this.value.clone())}}let vz=0;class yz extends xs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:vz++}),this.name="",this.usage=ch,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class xz extends r1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class _z{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class BA{constructor(e,t,i=0,r=1/0){this.ray=new cc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Qa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return P3(e,this,i,t),i.sort(GM),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)P3(e[r],this,i,t);return i.sort(GM),i}}function GM(n,e){return n.distance-e.distance}function P3(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)P3(r[s],e,t,!0)}}class R3{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Sz{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const WM=new _e;class wz{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=WM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,WM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jM=new k,jp=new k;class Ez{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){jM.subVectors(e,this.start),jp.subVectors(this.end,this.start);const i=jp.dot(jp);let s=jp.dot(jM)/i;return t&&(s=pn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const XM=new k;class Mz extends Dt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new St,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Je(r,3));const s=new Ci({fog:!1,toneMapped:!1});this.cone=new Ss(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),XM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(XM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _o=new k,Xp=new vt,fv=new vt;class Cz extends Ss{constructor(e){const t=zA(e),i=new St,r=[],s=[],o=new $e(0,0,1),a=new $e(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Je(r,3)),i.setAttribute("color",new Je(s,3));const l=new Ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");fv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Xp.multiplyMatrices(fv,a.matrixWorld),_o.setFromMatrixPosition(Xp),r.setXYZ(o,_o.x,_o.y,_o.z),Xp.multiplyMatrices(fv,a.parent.matrixWorld),_o.setFromMatrixPosition(Xp),r.setXYZ(o+1,_o.x,_o.y,_o.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zA(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,zA(n.children[t]));return e}class Tz extends qn{constructor(e,t,i){const r=new Hh(t,4,2),s=new la({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Az=new k,$M=new $e,YM=new $e;class bz extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Vh(t);r.rotateY(Math.PI*.5),this.material=new la({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Gt(o,3)),this.add(new qn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");$M.copy(this.light.color),YM.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?$M:YM;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Az.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Pz extends Ss{constructor(e=10,t=10,i=4473924,r=8947848){i=new $e(i),r=new $e(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const S=p===s?i:r;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const h=new St;h.setAttribute("position",new Je(l,3)),h.setAttribute("color",new Je(u,3));const d=new Ci({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rz extends Ss{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new $e(s),o=new $e(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const S=d&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let g=0;g<r;g++){let S=g/r*(Math.PI*2),w=Math.sin(S)*m,v=Math.cos(S)*m;a.push(w,0,v),l.push(p.r,p.g,p.b),S=(g+1)/r*(Math.PI*2),w=Math.sin(S)*m,v=Math.cos(S)*m,a.push(w,0,v),l.push(p.r,p.g,p.b)}}const u=new St;u.setAttribute("position",new Je(a,3)),u.setAttribute("color",new Je(l,3));const h=new Ci({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const qM=new k,$p=new k,ZM=new k;class Lz extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new St;r.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ci({fog:!1,toneMapped:!1});this.lightPlane=new Qo(r,s),this.add(this.lightPlane),r=new St,r.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new Qo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),qM.setFromMatrixPosition(this.light.matrixWorld),$p.setFromMatrixPosition(this.light.target.matrixWorld),ZM.subVectors($p,qM),this.lightPlane.lookAt($p),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($p),this.targetLine.scale.z=ZM.length()}}const Yp=new k,hn=new kh;class Iz extends Ss{constructor(e){const t=new St,i=new Ci({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,S){l(g),l(S)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new Je(r,3)),t.setAttribute("color",new Je(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new $e(16755200),h=new $e(16711680),d=new $e(43775),p=new $e(16777215),m=new $e(3355443);this.setColors(u,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yn("c",t,e,hn,0,0,-1),yn("t",t,e,hn,0,0,1),yn("n1",t,e,hn,-i,-r,-1),yn("n2",t,e,hn,i,-r,-1),yn("n3",t,e,hn,-i,r,-1),yn("n4",t,e,hn,i,r,-1),yn("f1",t,e,hn,-i,-r,1),yn("f2",t,e,hn,i,-r,1),yn("f3",t,e,hn,-i,r,1),yn("f4",t,e,hn,i,r,1),yn("u1",t,e,hn,i*.7,r*1.1,-1),yn("u2",t,e,hn,-i*.7,r*1.1,-1),yn("u3",t,e,hn,0,r*2,-1),yn("cf1",t,e,hn,-i,0,1),yn("cf2",t,e,hn,i,0,1),yn("cf3",t,e,hn,0,-r,1),yn("cf4",t,e,hn,0,r,1),yn("cn1",t,e,hn,-i,0,-1),yn("cn2",t,e,hn,i,0,-1),yn("cn3",t,e,hn,0,-r,-1),yn("cn4",t,e,hn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yn(n,e,t,i,r,s,o){Yp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Yp.x,Yp.y,Yp.z)}}const qp=new _s;class Oz extends Ss{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new St;s.setIndex(new Gt(i,1)),s.setAttribute("position",new Gt(r,3)),super(s,new Ci({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&qp.setFromObject(this.object),qp.isEmpty())return;const t=qp.min,i=qp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dz extends Ss{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new St;s.setIndex(new Gt(i,1)),s.setAttribute("position",new Je(r,3)),super(s,new Ci({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nz extends Qo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new St;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new Ci({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new St;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new qn(l,new la({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KM=new k;let Zp,hv;class Uz extends Dt{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Zp===void 0&&(Zp=new St,Zp.setAttribute("position",new Je([0,0,0,0,1,0],3)),hv=new dc(0,.5,1,5,1),hv.translate(0,-.5,0)),this.position.copy(t),this.line=new Qo(Zp,new Ci({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qn(hv,new la({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(KM,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kz extends Ss{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new St;r.setAttribute("position",new Je(t,3)),r.setAttribute("color",new Je(i,3));const s=new Ci({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new $e,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fz{constructor(){this.type="ShapePath",this.color=new $e,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const x=[];for(let _=0,C=v.length;_<C;_++){const A=v[_],P=new el;P.curves=A.curves,x.push(P)}return x}function i(v,x){const _=x.length;let C=!1;for(let A=_-1,P=0;P<_;A=P++){let L=x[A],O=x[P],b=O.x-L.x,I=O.y-L.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(L=x[P],b=-b,O=x[A],I=-I),v.y<L.y||v.y>O.y)continue;if(v.y===L.y){if(v.x===L.x)return!0}else{const F=I*(v.x-L.x)-b*(v.y-L.y);if(F===0)return!0;if(F<0)continue;C=!C}}else{if(v.y!==L.y)continue;if(O.x<=v.x&&v.x<=L.x||L.x<=v.x&&v.x<=O.x)return!0}}return C}const r=ms.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new el,l.curves=a.curves,u.push(l),u;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],g=0,S;p[g]=void 0,m[g]=[];for(let v=0,x=s.length;v<x;v++)a=s[v],S=a.getPoints(),o=r(S),o=e?!o:o,o?(!h&&p[g]&&g++,p[g]={s:new el,p:S},p[g].s.curves=a.curves,h&&g++,m[g]=[]):m[g].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,x=0;for(let _=0,C=p.length;_<C;_++)d[_]=[];for(let _=0,C=p.length;_<C;_++){const A=m[_];for(let P=0;P<A.length;P++){const L=A[P];let O=!0;for(let b=0;b<p.length;b++)i(L.p,p[b].p)&&(_!==b&&x++,O?(O=!1,d[b].push(L)):v=!0);O&&d[_].push(L)}}x>0&&v===!1&&(m=d)}let w;for(let v=0,x=p.length;v<x;v++){l=p[v].s,u.push(l),w=m[v];for(let _=0,C=w.length;_<C;_++)l.holes.push(w[_].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Y0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Y0);const Bz=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:a_,AddEquation:Ba,AddOperation:sT,AdditiveAnimationBlendMode:m_,AdditiveBlending:Qm,AlphaFormat:fT,AlwaysCompare:IT,AlwaysDepth:J7,AlwaysStencilFunc:MT,AmbientLight:LA,AmbientLightProbe:JB,AnimationAction:FA,AnimationClip:xh,AnimationLoader:BB,AnimationMixer:gz,AnimationObjectGroup:pz,AnimationUtils:NB,ArcCurve:iA,ArrayCamera:$T,ArrowHelper:Uz,Audio:UA,AudioAnalyser:rz,AudioContext:G_,AudioListener:tz,AudioLoader:ZB,AxesHelper:kz,BackSide:wi,BasicDepthPacking:ST,BasicShadowMap:F7,Bone:b_,BooleanKeyframeTrack:pl,Box2:wz,Box3:_s,Box3Helper:Dz,BoxGeometry:dl,BoxHelper:Oz,BufferAttribute:Gt,BufferGeometry:St,BufferGeometryLoader:NA,ByteType:uT,Cache:ul,Camera:kh,CameraHelper:Iz,CanvasTexture:sB,CapsuleGeometry:u1,CatmullRomCurve3:rA,CineonToneMapping:aT,CircleGeometry:c1,ClampToEdgeWrapping:fi,Clock:W_,Color:$e,ColorKeyframeTrack:z_,ColorManagement:qi,CompressedArrayTexture:iB,CompressedCubeTexture:rB,CompressedTexture:o1,CompressedTextureLoader:zB,ConeGeometry:f1,CubeCamera:BT,CubeReflectionMapping:Qs,CubeRefractionMapping:Ko,CubeTexture:Fh,CubeTextureLoader:VB,CubeUVReflectionMapping:uc,CubicBezierCurve:L_,CubicBezierCurve3:sA,CubicInterpolant:EA,CullFaceBack:Xy,CullFaceFront:k7,CullFaceFrontBack:KI,CullFaceNone:U7,Curve:Xr,CurvePath:aA,CustomBlending:B7,CustomToneMapping:lT,CylinderGeometry:dc,Cylindrical:Sz,Data3DTexture:__,DataArrayTexture:Q0,DataTexture:Vu,DataTextureLoader:HB,DataUtils:cD,DecrementStencilOp:uO,DecrementWrapStencilOp:fO,DefaultLoadingManager:TA,DepthFormat:Vo,DepthStencilFormat:ol,DepthTexture:YT,DirectionalLight:RA,DirectionalLightHelper:Lz,DiscreteInterpolant:MA,DisplayP3ColorSpace:v_,DodecahedronGeometry:h1,DoubleSide:as,DstAlphaFactor:X7,DstColorFactor:Y7,DynamicCopyUsage:TO,DynamicDrawUsage:_O,DynamicReadUsage:EO,EdgesGeometry:lA,EllipseCurve:a1,EqualCompare:AT,EqualDepth:eT,EqualStencilFunc:mO,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:rh,Euler:fc,EventDispatcher:xs,ExtrudeGeometry:p1,FileLoader:eo,Float16BufferAttribute:gD,Float32BufferAttribute:Je,Float64BufferAttribute:vD,FloatType:ls,Fog:i1,FogExp2:n1,FramebufferTexture:nB,FrontSide:Js,Frustum:e1,GLBufferAttribute:_z,GLSL1:bO,GLSL3:_3,GreaterCompare:PT,GreaterDepth:nT,GreaterEqualCompare:LT,GreaterEqualDepth:tT,GreaterEqualStencilFunc:xO,GreaterStencilFunc:vO,GridHelper:Pz,Group:Au,HalfFloatType:Ku,HemisphereLight:AA,HemisphereLightHelper:bz,HemisphereLightProbe:KB,IcosahedronGeometry:m1,ImageBitmapLoader:qB,ImageLoader:_h,ImageUtils:x_,IncrementStencilOp:lO,IncrementWrapStencilOp:cO,InstancedBufferAttribute:ec,InstancedBufferGeometry:DA,InstancedInterleavedBuffer:xz,InstancedMesh:eA,Int16BufferAttribute:pD,Int32BufferAttribute:mD,Int8BufferAttribute:fD,IntType:u_,InterleavedBuffer:r1,InterleavedBufferAttribute:al,Interpolant:Gh,InterpolateDiscrete:ah,InterpolateLinear:lh,InterpolateSmooth:Cm,InvertStencilOp:hO,KeepStencilOp:Tm,KeyframeTrack:$r,LOD:JT,LatheGeometry:zh,Layers:Qa,LessCompare:TT,LessDepth:Q7,LessEqualCompare:bT,LessEqualDepth:e0,LessEqualStencilFunc:gO,LessStencilFunc:pO,Light:ca,LightProbe:w1,Line:Qo,Line3:Ez,LineBasicMaterial:Ci,LineCurve:l1,LineCurve3:oA,LineDashedMaterial:SA,LineLoop:tA,LineSegments:Ss,LinearEncoding:g_,LinearFilter:wn,LinearInterpolant:B_,LinearMipMapLinearFilter:nO,LinearMipMapNearestFilter:tO,LinearMipmapLinearFilter:Jo,LinearMipmapNearestFilter:l_,LinearSRGBColorSpace:Er,LinearToneMapping:o_,Loader:zi,LoaderUtils:b3,LoadingManager:V_,LoopOnce:yT,LoopPingPong:_T,LoopRepeat:xT,LuminanceAlphaFormat:dT,LuminanceFormat:hT,MOUSE:Oa,Material:Jn,MaterialLoader:E1,MathUtils:HO,Matrix3:Et,Matrix4:vt,MaxEquation:Zy,Mesh:qn,MeshBasicMaterial:la,MeshDepthMaterial:M_,MeshDistanceMaterial:C_,MeshLambertMaterial:xA,MeshMatcapMaterial:_A,MeshNormalMaterial:yA,MeshPhongMaterial:gA,MeshPhysicalMaterial:mA,MeshStandardMaterial:U_,MeshToonMaterial:vA,MinEquation:qy,MirroredRepeatWrapping:oh,MixOperation:rT,MultiplyBlending:Yy,MultiplyOperation:Uh,NearestFilter:_n,NearestMipMapLinearFilter:eO,NearestMipMapNearestFilter:QI,NearestMipmapLinearFilter:Pf,NearestMipmapNearestFilter:t0,NeverCompare:CT,NeverDepth:K7,NeverStencilFunc:dO,NoBlending:Ws,NoColorSpace:Go,NoToneMapping:ds,NormalAnimationBlendMode:J0,NormalBlending:Ka,NotEqualCompare:RT,NotEqualDepth:iT,NotEqualStencilFunc:yO,NumberKeyframeTrack:vh,Object3D:Dt,ObjectLoader:$B,ObjectSpaceNormalMap:ET,OctahedronGeometry:Vh,OneFactor:G7,OneMinusDstAlphaFactor:$7,OneMinusDstColorFactor:q7,OneMinusSrcAlphaFactor:s_,OneMinusSrcColorFactor:j7,OrthographicCamera:Wo,PCFShadowMap:q0,PCFSoftShadowMap:bf,PMREMGenerator:w3,Path:dh,PerspectiveCamera:En,Plane:Mo,PlaneGeometry:Bh,PlaneHelper:Nz,PointLight:PA,PointLightHelper:Tz,Points:nA,PointsMaterial:P_,PolarGridHelper:Rz,PolyhedronGeometry:ua,PositionalAudio:iz,PropertyBinding:Pt,PropertyMixer:kA,QuadraticBezierCurve:I_,QuadraticBezierCurve3:O_,Quaternion:hi,QuaternionKeyframeTrack:pc,QuaternionLinearInterpolant:CA,RED_GREEN_RGTC2_Format:y3,RED_RGTC1_Format:vT,REVISION:Y0,RGBADepthPacking:wT,RGBAFormat:Di,RGBAIntegerFormat:p_,RGBA_ASTC_10x10_Format:p3,RGBA_ASTC_10x5_Format:f3,RGBA_ASTC_10x6_Format:h3,RGBA_ASTC_10x8_Format:d3,RGBA_ASTC_12x10_Format:m3,RGBA_ASTC_12x12_Format:g3,RGBA_ASTC_4x4_Format:i3,RGBA_ASTC_5x4_Format:r3,RGBA_ASTC_5x5_Format:s3,RGBA_ASTC_6x5_Format:o3,RGBA_ASTC_6x6_Format:a3,RGBA_ASTC_8x5_Format:l3,RGBA_ASTC_8x6_Format:u3,RGBA_ASTC_8x8_Format:c3,RGBA_BPTC_Format:Mm,RGBA_ETC2_EAC_Format:n3,RGBA_PVRTC_2BPPV1_Format:e3,RGBA_PVRTC_4BPPV1_Format:Qy,RGBA_S3TC_DXT1_Format:Sm,RGBA_S3TC_DXT3_Format:wm,RGBA_S3TC_DXT5_Format:Em,RGB_ETC1_Format:gT,RGB_ETC2_Format:t3,RGB_PVRTC_2BPPV1_Format:Jy,RGB_PVRTC_4BPPV1_Format:Ky,RGB_S3TC_DXT1_Format:_m,RGFormat:mT,RGIntegerFormat:d_,RawShaderMaterial:pA,Ray:cc,Raycaster:BA,RectAreaLight:IA,RedFormat:pT,RedIntegerFormat:h_,ReinhardToneMapping:oT,RenderTarget:NT,RepeatWrapping:sh,ReplaceStencilOp:aO,ReverseSubtractEquation:V7,RingGeometry:g1,SIGNED_RED_GREEN_RGTC2_Format:x3,SIGNED_RED_RGTC1_Format:v3,SRGBColorSpace:yt,Scene:r0,ShaderChunk:xt,ShaderLib:Fr,ShaderMaterial:ys,ShadowMaterial:dA,Shape:el,ShapeGeometry:v1,ShapePath:Fz,ShapeUtils:ms,ShortType:cT,Skeleton:s1,SkeletonHelper:Cz,SkinnedMesh:QT,Source:Xa,Sphere:jr,SphereGeometry:Hh,Spherical:R3,SphericalHarmonics3:OA,SplineCurve:D_,SpotLight:bA,SpotLightHelper:Mz,Sprite:KT,SpriteMaterial:A_,SrcAlphaFactor:r_,SrcAlphaSaturateFactor:Z7,SrcColorFactor:W7,StaticCopyUsage:CO,StaticDrawUsage:ch,StaticReadUsage:wO,StereoCamera:QB,StreamCopyUsage:AO,StreamDrawUsage:SO,StreamReadUsage:MO,StringKeyframeTrack:ml,SubtractEquation:z7,SubtractiveBlending:$y,TOUCH:Da,TangentSpaceNormalMap:aa,TetrahedronGeometry:y1,Texture:gn,TextureLoader:GB,TorusGeometry:x1,TorusKnotGeometry:_1,Triangle:Oi,TriangleFanDrawMode:sO,TriangleStripDrawMode:rO,TrianglesDrawMode:iO,TubeGeometry:S1,TwoPassDoubleSide:JI,UVMapping:Z0,Uint16BufferAttribute:S_,Uint32BufferAttribute:w_,Uint8BufferAttribute:hD,Uint8ClampedBufferAttribute:dD,Uniform:$_,UniformsGroup:yz,UniformsLib:Ge,UniformsUtils:FT,UnsignedByteType:ps,UnsignedInt248Type:zo,UnsignedIntType:Vs,UnsignedShort4444Type:c_,UnsignedShort5551Type:f_,UnsignedShortType:K0,VSMShadowMap:Nr,Vector2:_e,Vector3:k,Vector4:Ut,VectorKeyframeTrack:yh,VideoTexture:tB,WebGL1Renderer:qT,WebGL3DRenderTarget:QO,WebGLArrayRenderTarget:JO,WebGLCoordinateSystem:us,WebGLCubeRenderTarget:zT,WebGLMultipleRenderTargets:eD,WebGLRenderTarget:Wr,WebGLRenderer:T_,WebGLUtils:XT,WebGPUCoordinateSystem:fh,WireframeGeometry:hA,WrapAroundEnding:uh,ZeroCurvatureEnding:Wa,ZeroFactor:H7,ZeroSlopeEnding:ja,ZeroStencilOp:oO,_SRGBAFormat:n0,sRGBEncoding:Ho},Symbol.toStringTag,{value:"Module"}));var VA={exports:{}},gl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gl.ConcurrentRoot=1;gl.ContinuousEventPriority=4;gl.DefaultEventPriority=16;gl.DiscreteEventPriority=1;gl.IdleEventPriority=536870912;gl.LegacyRoot=0;VA.exports=gl;var Pu=VA.exports;function zz(n){let e;const t=new Set,i=(u,h)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const g=h(e);if(!d(p,g)){const S=p;u(p=g,S)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,h,d)=>h||d?s(u,h,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const Vz=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),JM=Vz?$.useEffect:$.useLayoutEffect;function Hz(n){const e=typeof n=="function"?zz(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=$.useReducer(w=>w+1,0),o=e.getState(),a=$.useRef(o),l=$.useRef(i),u=$.useRef(r),h=$.useRef(!1),d=$.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),JM(()=>{m&&(d.current=p),a.current=o,l.current=i,u.current=r,h.current=!1});const g=$.useRef(o);JM(()=>{const w=()=>{try{const x=e.getState(),_=l.current(x);u.current(d.current,_)||(a.current=x,d.current=_,s())}catch{h.current=!0,s()}},v=e.subscribe(w);return e.getState()!==g.current&&w(),v},[]);const S=m?p:d.current;return $.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var HA={exports:{}},GA={exports:{}},WA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,X){var q=U.length;U.push(X);e:for(;0<q;){var W=q-1>>>1,J=U[W];if(0<r(J,X))U[W]=X,U[q]=J,q=W;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var X=U[0],q=U.pop();if(q!==X){U[0]=q;e:for(var W=0,J=U.length,Se=J>>>1;W<Se;){var we=2*(W+1)-1,Ee=U[we],Oe=we+1,ze=U[Oe];if(0>r(Ee,q))Oe<J&&0>r(ze,Ee)?(U[W]=ze,U[Oe]=q,W=Oe):(U[W]=Ee,U[we]=q,W=we);else if(Oe<J&&0>r(ze,q))U[W]=ze,U[Oe]=q,W=Oe;else break e}}return X}function r(U,X){var q=U.sortIndex-X.sortIndex;return q!==0?q:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,g=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=U)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(U){if(S=!1,_(U),!g)if(t(l)!==null)g=!0,Q(A);else{var X=t(u);X!==null&&te(C,X.startTime-U)}}function A(U,X){g=!1,S&&(S=!1,v(O),O=-1),m=!0;var q=p;try{for(_(X),d=t(l);d!==null&&(!(d.expirationTime>X)||U&&!F());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var J=W(d.expirationTime<=X);X=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),_(X)}else i(l);d=t(l)}if(d!==null)var Se=!0;else{var we=t(u);we!==null&&te(C,we.startTime-X),Se=!1}return Se}finally{d=null,p=q,m=!1}}var P=!1,L=null,O=-1,b=5,I=-1;function F(){return!(n.unstable_now()-I<b)}function Z(){if(L!==null){var U=n.unstable_now();I=U;var X=!0;try{X=L(!0,U)}finally{X?j():(P=!1,L=null)}}else P=!1}var j;if(typeof x=="function")j=function(){x(Z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=Z,j=function(){z.postMessage(null)}}else j=function(){w(Z,0)};function Q(U){L=U,P||(P=!0,j())}function te(U,X){O=w(function(){U(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,Q(A))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var q=p;p=X;try{return U()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=p;p=U;try{return X()}finally{p=q}},n.unstable_scheduleCallback=function(U,X,q){var W=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,U={id:h++,callback:X,priorityLevel:U,startTime:q,expirationTime:J,sortIndex:-1},q>W?(U.sortIndex=q,e(u,U),t(l)===null&&U===t(u)&&(S?(v(O),O=-1):S=!0,te(C,q-W))):(U.sortIndex=J,e(l,U),g||m||(g=!0,Q(A))),U},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(U){var X=p;return function(){var q=p;p=X;try{return U.apply(this,arguments)}finally{p=q}}}})(WA);GA.exports=WA;var L3=GA.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gz=function(e){var t={},i=$,r=L3,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=A&&c[A]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case v:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case S:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return f=c.displayName||null,f!==null?f:L(c.type)||"Memo";case _:f=c._payload,c=c._init;try{return L(c(f))}catch{}}return null}function O(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function b(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function I(c){if(b(c)!==c)throw Error(o(188))}function F(c){var f=c.alternate;if(!f){if(f=b(c),f===null)throw Error(o(188));return f!==c?null:c}for(var y=c,E=f;;){var T=y.return;if(T===null)break;var R=T.alternate;if(R===null){if(E=T.return,E!==null){y=E;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===y)return I(T),c;if(R===E)return I(T),f;R=R.sibling}throw Error(o(188))}if(y.return!==E.return)y=T,E=R;else{for(var G=!1,ee=T.child;ee;){if(ee===y){G=!0,y=T,E=R;break}if(ee===E){G=!0,E=T,y=R;break}ee=ee.sibling}if(!G){for(ee=R.child;ee;){if(ee===y){G=!0,y=R,E=T;break}if(ee===E){G=!0,E=R,y=T;break}ee=ee.sibling}if(!G)throw Error(o(189))}}if(y.alternate!==E)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:f}function Z(c){return c=F(c),c!==null?j(c):null}function j(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=j(c);if(f!==null)return f;c=c.sibling}return null}function D(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=D(c);if(f!==null)return f}c=c.sibling}return null}var z=Array.isArray,Q=e.getPublicInstance,te=e.getRootHostContext,U=e.getChildHostContext,X=e.prepareForCommit,q=e.resetAfterCommit,W=e.createInstance,J=e.appendInitialChild,Se=e.finalizeInitialChildren,we=e.prepareUpdate,Ee=e.shouldSetTextContent,Oe=e.createTextInstance,ze=e.scheduleTimeout,Ke=e.cancelTimeout,at=e.noTimeout,ye=e.isPrimaryRenderer,de=e.supportsMutation,H=e.supportsPersistence,fe=e.supportsHydration,re=e.getInstanceFromNode,xe=e.preparePortalMount,ue=e.getCurrentEventPriority,Re=e.detachDeletedInstance,Ce=e.supportsMicrotasks,Pe=e.scheduleMicrotask,Be=e.supportsTestSelectors,Me=e.findFiberRoot,dt=e.getBoundingRect,V=e.getTextContent,N=e.isHiddenSubtree,ae=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,Ae=e.setupIntersectionObserver,Ue=e.appendChild,Qe=e.appendChildToContainer,ke=e.commitTextUpdate,ce=e.commitMount,Y=e.commitUpdate,pe=e.insertBefore,be=e.insertInContainerBefore,De=e.removeChild,Ve=e.removeChildFromContainer,ot=e.resetTextContent,Tt=e.hideInstance,K=e.hideTextInstance,He=e.unhideInstance,le=e.unhideTextInstance,Le=e.clearContainer,je=e.cloneInstance,bt=e.createContainerChildSet,Wt=e.appendChildToContainerChildSet,ln=e.finalizeContainerChildren,Cr=e.replaceContainerChildren,Bt=e.cloneHiddenInstance,Vi=e.cloneHiddenTextInstance,Xn=e.canHydrateInstance,Zh=e.canHydrateTextInstance,Kh=e.canHydrateSuspenseInstance,Jh=e.isSuspenseInstancePending,ro=e.isSuspenseInstanceFallback,Qh=e.registerSuspenseInstanceRetry,qr=e.getNextHydratableSibling,ed=e.getFirstHydratableChild,tg=e.getFirstHydratableChildWithinContainer,ng=e.getFirstHydratableChildWithinSuspenseInstance,ig=e.hydrateInstance,B=e.hydrateTextInstance,se=e.hydrateSuspenseInstance,ve=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,ge=e.commitHydratedSuspenseInstance,qe=e.clearSuspenseBoundary,nt=e.clearSuspenseBoundaryFromContainer,lt=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,Mt=e.didNotMatchHydratedTextInstance,rt;function ft(c){if(rt===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);rt=f&&f[1]||""}return`
`+rt+c}var jt=!1;function $t(c,f){if(!c||jt)return"";jt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Fe){var E=Fe}Reflect.construct(c,[],f)}else{try{f.call()}catch(Fe){E=Fe}c.call(f.prototype)}else{try{throw Error()}catch(Fe){E=Fe}c()}}catch(Fe){if(Fe&&E&&typeof Fe.stack=="string"){for(var T=Fe.stack.split(`
`),R=E.stack.split(`
`),G=T.length-1,ee=R.length-1;1<=G&&0<=ee&&T[G]!==R[ee];)ee--;for(;1<=G&&0<=ee;G--,ee--)if(T[G]!==R[ee]){if(G!==1||ee!==1)do if(G--,ee--,0>ee||T[G]!==R[ee]){var me=`
`+T[G].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=G&&0<=ee);break}}}finally{jt=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?ft(c):""}var Ti=Object.prototype.hasOwnProperty,Hi=[],Vt=-1;function pt(c){return{current:c}}function Nt(c){0>Vt||(c.current=Hi[Vt],Hi[Vt]=null,Vt--)}function ct(c,f){Vt++,Hi[Vt]=c.current,c.current=f}var Qn={},In=pt(Qn),Cn=pt(!1),Tr=Qn;function un(c,f){var y=c.type.contextTypes;if(!y)return Qn;var E=c.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in y)T[R]=f[R];return E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=T),T}function cn(c){return c=c.childContextTypes,c!=null}function so(){Nt(Cn),Nt(In)}function ei(c,f,y){if(In.current!==Qn)throw Error(o(168));ct(In,f),ct(Cn,y)}function El(c,f,y){var E=c.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return y;E=E.getChildContext();for(var T in E)if(!(T in f))throw Error(o(108,O(c)||"Unknown",T));return s({},y,E)}function Ml(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Qn,Tr=In.current,ct(In,c),ct(Cn,Cn.current),!0}function gc(c,f,y){var E=c.stateNode;if(!E)throw Error(o(169));y?(c=El(c,f,Tr),E.__reactInternalMemoizedMergedChildContext=c,Nt(Cn),Nt(In),ct(In,c)):Nt(Cn),ct(Cn,y)}var Ar=Math.clz32?Math.clz32:kP,NP=Math.log,UP=Math.LN2;function kP(c){return c>>>=0,c===0?32:31-(NP(c)/UP|0)|0}var td=64,nd=4194304;function vc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function id(c,f){var y=c.pendingLanes;if(y===0)return 0;var E=0,T=c.suspendedLanes,R=c.pingedLanes,G=y&268435455;if(G!==0){var ee=G&~T;ee!==0?E=vc(ee):(R&=G,R!==0&&(E=vc(R)))}else G=y&~T,G!==0?E=vc(G):R!==0&&(E=vc(R));if(E===0)return 0;if(f!==0&&f!==E&&!(f&T)&&(T=E&-E,R=f&-f,T>=R||T===16&&(R&4194240)!==0))return f;if(E&4&&(E|=y&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=E;0<f;)y=31-Ar(f),T=1<<y,E|=c[y],f&=~T;return E}function FP(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BP(c,f){for(var y=c.suspendedLanes,E=c.pingedLanes,T=c.expirationTimes,R=c.pendingLanes;0<R;){var G=31-Ar(R),ee=1<<G,me=T[G];me===-1?(!(ee&y)||ee&E)&&(T[G]=FP(ee,f)):me<=f&&(c.expiredLanes|=ee),R&=~ee}}function rg(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function sg(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function yc(c,f,y){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Ar(f),c[f]=y}function zP(c,f){var y=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var E=c.eventTimes;for(c=c.expirationTimes;0<y;){var T=31-Ar(y),R=1<<T;f[T]=0,E[T]=-1,c[T]=-1,y&=~R}}function og(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var E=31-Ar(y),T=1<<E;T&f|c[E]&f&&(c[E]|=f),y&=~T}}var Lt=0;function zS(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var ag=r.unstable_scheduleCallback,VS=r.unstable_cancelCallback,VP=r.unstable_shouldYield,HP=r.unstable_requestPaint,Fn=r.unstable_now,lg=r.unstable_ImmediatePriority,GP=r.unstable_UserBlockingPriority,ug=r.unstable_NormalPriority,WP=r.unstable_IdlePriority,rd=null,Zr=null;function jP(c){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(rd,c,void 0,(c.current.flags&128)===128)}catch{}}function XP(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Kr=typeof Object.is=="function"?Object.is:XP,ws=null,sd=!1,cg=!1;function HS(c){ws===null?ws=[c]:ws.push(c)}function $P(c){sd=!0,HS(c)}function Jr(){if(!cg&&ws!==null){cg=!0;var c=0,f=Lt;try{var y=ws;for(Lt=1;c<y.length;c++){var E=y[c];do E=E(!0);while(E!==null)}ws=null,sd=!1}catch(T){throw ws!==null&&(ws=ws.slice(c+1)),ag(lg,Jr),T}finally{Lt=f,cg=!1}}return null}var YP=a.ReactCurrentBatchConfig;function od(c,f){if(Kr(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),E=Object.keys(f);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var T=y[E];if(!Ti.call(f,T)||!Kr(c[T],f[T]))return!1}return!0}function qP(c){switch(c.tag){case 5:return ft(c.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return c=$t(c.type,!1),c;case 11:return c=$t(c.type.render,!1),c;case 1:return c=$t(c.type,!0),c;default:return""}}function br(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var y in c)f[y]===void 0&&(f[y]=c[y]);return f}return f}var ad=pt(null),ld=null,Cl=null,fg=null;function hg(){fg=Cl=ld=null}function GS(c,f,y){ye?(ct(ad,f._currentValue),f._currentValue=y):(ct(ad,f._currentValue2),f._currentValue2=y)}function dg(c){var f=ad.current;Nt(ad),ye?c._currentValue=f:c._currentValue2=f}function pg(c,f,y){for(;c!==null;){var E=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),c===y)break;c=c.return}}function Tl(c,f){ld=c,fg=Cl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(ji=!0),c.firstContext=null)}function or(c){var f=ye?c._currentValue:c._currentValue2;if(fg!==c)if(c={context:c,memoizedValue:f,next:null},Cl===null){if(ld===null)throw Error(o(308));Cl=c,ld.dependencies={lanes:0,firstContext:c}}else Cl=Cl.next=c;return f}var Qr=null,oo=!1;function mg(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Es(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function ao(c,f){var y=c.updateQueue;y!==null&&(y=y.shared,Tn!==null&&c.mode&1&&!(Ct&2)?(c=y.interleaved,c===null?(f.next=f,Qr===null?Qr=[y]:Qr.push(y)):(f.next=c.next,c.next=f),y.interleaved=f):(c=y.pending,c===null?f.next=f:(f.next=c.next,c.next=f),y.pending=f))}function ud(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var E=f.lanes;E&=c.pendingLanes,y|=E,f.lanes=y,og(c,y)}}function jS(c,f){var y=c.updateQueue,E=c.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var T=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var G={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?T=R=G:R=R.next=G,y=y.next}while(y!==null);R===null?T=R=f:R=R.next=f}else T=R=f;y={baseState:E.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:E.shared,effects:E.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function cd(c,f,y,E){var T=c.updateQueue;oo=!1;var R=T.firstBaseUpdate,G=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var me=ee,Fe=me.next;me.next=null,G===null?R=Fe:G.next=Fe,G=me;var Ze=c.alternate;Ze!==null&&(Ze=Ze.updateQueue,ee=Ze.lastBaseUpdate,ee!==G&&(ee===null?Ze.firstBaseUpdate=Fe:ee.next=Fe,Ze.lastBaseUpdate=me))}if(R!==null){var mt=T.baseState;G=0,Ze=Fe=me=null,ee=R;do{var it=ee.lane,Ht=ee.eventTime;if((E&it)===it){Ze!==null&&(Ze=Ze.next={eventTime:Ht,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var tt=c,ri=ee;switch(it=f,Ht=y,ri.tag){case 1:if(tt=ri.payload,typeof tt=="function"){mt=tt.call(Ht,mt,it);break e}mt=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=ri.payload,it=typeof tt=="function"?tt.call(Ht,mt,it):tt,it==null)break e;mt=s({},mt,it);break e;case 2:oo=!0}}ee.callback!==null&&ee.lane!==0&&(c.flags|=64,it=T.effects,it===null?T.effects=[ee]:it.push(ee))}else Ht={eventTime:Ht,lane:it,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ze===null?(Fe=Ze=Ht,me=mt):Ze=Ze.next=Ht,G|=it;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;it=ee,ee=it.next,it.next=null,T.lastBaseUpdate=it,T.shared.pending=null}}while(1);if(Ze===null&&(me=mt),T.baseState=me,T.firstBaseUpdate=Fe,T.lastBaseUpdate=Ze,f=T.shared.interleaved,f!==null){T=f;do G|=T.lane,T=T.next;while(T!==f)}else R===null&&(T.shared.lanes=0);Nl|=G,c.lanes=G,c.memoizedState=mt}}function XS(c,f,y){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var E=c[f],T=E.callback;if(T!==null){if(E.callback=null,E=y,typeof T!="function")throw Error(o(191,T));T.call(E)}}}var $S=new i.Component().refs;function gg(c,f,y,E){f=c.memoizedState,y=y(E,f),y=y==null?f:s({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var fd={isMounted:function(c){return(c=c._reactInternals)?b(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var E=gi(),T=co(c),R=Es(E,T);R.payload=f,y!=null&&(R.callback=y),ao(c,R),f=fr(c,T,E),f!==null&&ud(f,c,T)},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var E=gi(),T=co(c),R=Es(E,T);R.tag=1,R.payload=f,y!=null&&(R.callback=y),ao(c,R),f=fr(c,T,E),f!==null&&ud(f,c,T)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=gi(),E=co(c),T=Es(y,E);T.tag=2,f!=null&&(T.callback=f),ao(c,T),f=fr(c,E,y),f!==null&&ud(f,c,E)}};function YS(c,f,y,E,T,R,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(E,R,G):f.prototype&&f.prototype.isPureReactComponent?!od(y,E)||!od(T,R):!0}function qS(c,f,y){var E=!1,T=Qn,R=f.contextType;return typeof R=="object"&&R!==null?R=or(R):(T=cn(f)?Tr:In.current,E=f.contextTypes,R=(E=E!=null)?un(c,T):Qn),f=new f(y,R),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=fd,c.stateNode=f,f._reactInternals=c,E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=R),f}function ZS(c,f,y,E){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,E),f.state!==c&&fd.enqueueReplaceState(f,f.state,null)}function vg(c,f,y,E){var T=c.stateNode;T.props=y,T.state=c.memoizedState,T.refs=$S,mg(c);var R=f.contextType;typeof R=="object"&&R!==null?T.context=or(R):(R=cn(f)?Tr:In.current,T.context=un(c,R)),T.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(gg(c,f,R,y),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&fd.enqueueReplaceState(T,T.state,null),cd(c,y,T,E),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}var Al=[],bl=0,hd=null,dd=0,ar=[],lr=0,ha=null,Ms=1,Cs="";function da(c,f){Al[bl++]=dd,Al[bl++]=hd,hd=c,dd=f}function KS(c,f,y){ar[lr++]=Ms,ar[lr++]=Cs,ar[lr++]=ha,ha=c;var E=Ms;c=Cs;var T=32-Ar(E)-1;E&=~(1<<T),y+=1;var R=32-Ar(f)+T;if(30<R){var G=T-T%5;R=(E&(1<<G)-1).toString(32),E>>=G,T-=G,Ms=1<<32-Ar(f)+T|y<<T|E,Cs=R+c}else Ms=1<<R|y<<T|E,Cs=c}function yg(c){c.return!==null&&(da(c,1),KS(c,1,0))}function xg(c){for(;c===hd;)hd=Al[--bl],Al[bl]=null,dd=Al[--bl],Al[bl]=null;for(;c===ha;)ha=ar[--lr],ar[lr]=null,Cs=ar[--lr],ar[lr]=null,Ms=ar[--lr],ar[lr]=null}var Gi=null,Wi=null,Kt=!1,xc=!1,Pr=null;function JS(c,f){var y=hr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=c,f=c.deletions,f===null?(c.deletions=[y],c.flags|=16):f.push(y)}function QS(c,f){switch(c.tag){case 5:return f=Xn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,Gi=c,Wi=ed(f),!0):!1;case 6:return f=Zh(f,c.pendingProps),f!==null?(c.stateNode=f,Gi=c,Wi=null,!0):!1;case 13:if(f=Kh(f),f!==null){var y=ha!==null?{id:Ms,overflow:Cs}:null;return c.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=hr(18,null,null,0),y.stateNode=f,y.return=c,c.child=y,Gi=c,Wi=null,!0}return!1;default:return!1}}function _g(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Sg(c){if(Kt){var f=Wi;if(f){var y=f;if(!QS(c,f)){if(_g(c))throw Error(o(418));f=qr(y);var E=Gi;f&&QS(c,f)?JS(E,y):(c.flags=c.flags&-4097|2,Kt=!1,Gi=c)}}else{if(_g(c))throw Error(o(418));c.flags=c.flags&-4097|2,Kt=!1,Gi=c}}}function ew(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Gi=c}function _c(c){if(!fe||c!==Gi)return!1;if(!Kt)return ew(c),Kt=!0,!1;if(c.tag!==3&&(c.tag!==5||lt(c.type)&&!Ee(c.type,c.memoizedProps))){var f=Wi;if(f){if(_g(c)){for(c=Wi;c;)c=qr(c);throw Error(o(418))}for(;f;)JS(c,f),f=qr(f)}}if(ew(c),c.tag===13){if(!fe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Wi=ve(c)}else Wi=Gi?qr(c.stateNode):null;return!0}function Pl(){fe&&(Wi=Gi=null,xc=Kt=!1)}function wg(c){Pr===null?Pr=[c]:Pr.push(c)}function Sc(c,f,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var E=y.stateNode}if(!E)throw Error(o(147,c));var T=E,R=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(G){var ee=T.refs;ee===$S&&(ee=T.refs={}),G===null?delete ee[R]:ee[R]=G},f._stringRef=R,f)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function pd(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function tw(c){var f=c._init;return f(c._payload)}function nw(c){function f(oe,ne){if(c){var he=oe.deletions;he===null?(oe.deletions=[ne],oe.flags|=16):he.push(ne)}}function y(oe,ne){if(!c)return null;for(;ne!==null;)f(oe,ne),ne=ne.sibling;return null}function E(oe,ne){for(oe=new Map;ne!==null;)ne.key!==null?oe.set(ne.key,ne):oe.set(ne.index,ne),ne=ne.sibling;return oe}function T(oe,ne){return oe=ho(oe,ne),oe.index=0,oe.sibling=null,oe}function R(oe,ne,he){return oe.index=he,c?(he=oe.alternate,he!==null?(he=he.index,he<ne?(oe.flags|=2,ne):he):(oe.flags|=2,ne)):(oe.flags|=1048576,ne)}function G(oe){return c&&oe.alternate===null&&(oe.flags|=2),oe}function ee(oe,ne,he,Xe){return ne===null||ne.tag!==6?(ne=s2(he,oe.mode,Xe),ne.return=oe,ne):(ne=T(ne,he),ne.return=oe,ne)}function me(oe,ne,he,Xe){var et=he.type;return et===h?Ze(oe,ne,he.props.children,Xe,he.key):ne!==null&&(ne.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===_&&tw(et)===ne.type)?(Xe=T(ne,he.props),Xe.ref=Sc(oe,ne,he),Xe.return=oe,Xe):(Xe=jd(he.type,he.key,he.props,null,oe.mode,Xe),Xe.ref=Sc(oe,ne,he),Xe.return=oe,Xe)}function Fe(oe,ne,he,Xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=o2(he,oe.mode,Xe),ne.return=oe,ne):(ne=T(ne,he.children||[]),ne.return=oe,ne)}function Ze(oe,ne,he,Xe,et){return ne===null||ne.tag!==7?(ne=_a(he,oe.mode,Xe,et),ne.return=oe,ne):(ne=T(ne,he),ne.return=oe,ne)}function mt(oe,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=s2(""+ne,oe.mode,he),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return he=jd(ne.type,ne.key,ne.props,null,oe.mode,he),he.ref=Sc(oe,null,ne),he.return=oe,he;case u:return ne=o2(ne,oe.mode,he),ne.return=oe,ne;case _:var Xe=ne._init;return mt(oe,Xe(ne._payload),he)}if(z(ne)||P(ne))return ne=_a(ne,oe.mode,he,null),ne.return=oe,ne;pd(oe,ne)}return null}function it(oe,ne,he,Xe){var et=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return et!==null?null:ee(oe,ne,""+he,Xe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===et?me(oe,ne,he,Xe):null;case u:return he.key===et?Fe(oe,ne,he,Xe):null;case _:return et=he._init,it(oe,ne,et(he._payload),Xe)}if(z(he)||P(he))return et!==null?null:Ze(oe,ne,he,Xe,null);pd(oe,he)}return null}function Ht(oe,ne,he,Xe,et){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return oe=oe.get(he)||null,ee(ne,oe,""+Xe,et);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case l:return oe=oe.get(Xe.key===null?he:Xe.key)||null,me(ne,oe,Xe,et);case u:return oe=oe.get(Xe.key===null?he:Xe.key)||null,Fe(ne,oe,Xe,et);case _:var wt=Xe._init;return Ht(oe,ne,he,wt(Xe._payload),et)}if(z(Xe)||P(Xe))return oe=oe.get(he)||null,Ze(ne,oe,Xe,et,null);pd(ne,Xe)}return null}function tt(oe,ne,he,Xe){for(var et=null,wt=null,gt=ne,It=ne=0,zn=null;gt!==null&&It<he.length;It++){gt.index>It?(zn=gt,gt=null):zn=gt.sibling;var Ot=it(oe,gt,he[It],Xe);if(Ot===null){gt===null&&(gt=zn);break}c&&gt&&Ot.alternate===null&&f(oe,gt),ne=R(Ot,ne,It),wt===null?et=Ot:wt.sibling=Ot,wt=Ot,gt=zn}if(It===he.length)return y(oe,gt),Kt&&da(oe,It),et;if(gt===null){for(;It<he.length;It++)gt=mt(oe,he[It],Xe),gt!==null&&(ne=R(gt,ne,It),wt===null?et=gt:wt.sibling=gt,wt=gt);return Kt&&da(oe,It),et}for(gt=E(oe,gt);It<he.length;It++)zn=Ht(gt,oe,It,he[It],Xe),zn!==null&&(c&&zn.alternate!==null&&gt.delete(zn.key===null?It:zn.key),ne=R(zn,ne,It),wt===null?et=zn:wt.sibling=zn,wt=zn);return c&&gt.forEach(function(po){return f(oe,po)}),Kt&&da(oe,It),et}function ri(oe,ne,he,Xe){var et=P(he);if(typeof et!="function")throw Error(o(150));if(he=et.call(he),he==null)throw Error(o(151));for(var wt=et=null,gt=ne,It=ne=0,zn=null,Ot=he.next();gt!==null&&!Ot.done;It++,Ot=he.next()){gt.index>It?(zn=gt,gt=null):zn=gt.sibling;var po=it(oe,gt,Ot.value,Xe);if(po===null){gt===null&&(gt=zn);break}c&&gt&&po.alternate===null&&f(oe,gt),ne=R(po,ne,It),wt===null?et=po:wt.sibling=po,wt=po,gt=zn}if(Ot.done)return y(oe,gt),Kt&&da(oe,It),et;if(gt===null){for(;!Ot.done;It++,Ot=he.next())Ot=mt(oe,Ot.value,Xe),Ot!==null&&(ne=R(Ot,ne,It),wt===null?et=Ot:wt.sibling=Ot,wt=Ot);return Kt&&da(oe,It),et}for(gt=E(oe,gt);!Ot.done;It++,Ot=he.next())Ot=Ht(gt,oe,It,Ot.value,Xe),Ot!==null&&(c&&Ot.alternate!==null&&gt.delete(Ot.key===null?It:Ot.key),ne=R(Ot,ne,It),wt===null?et=Ot:wt.sibling=Ot,wt=Ot);return c&&gt.forEach(function(CR){return f(oe,CR)}),Kt&&da(oe,It),et}function dr(oe,ne,he,Xe){if(typeof he=="object"&&he!==null&&he.type===h&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var et=he.key,wt=ne;wt!==null;){if(wt.key===et){if(et=he.type,et===h){if(wt.tag===7){y(oe,wt.sibling),ne=T(wt,he.props.children),ne.return=oe,oe=ne;break e}}else if(wt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===_&&tw(et)===wt.type){y(oe,wt.sibling),ne=T(wt,he.props),ne.ref=Sc(oe,wt,he),ne.return=oe,oe=ne;break e}y(oe,wt);break}else f(oe,wt);wt=wt.sibling}he.type===h?(ne=_a(he.props.children,oe.mode,Xe,he.key),ne.return=oe,oe=ne):(Xe=jd(he.type,he.key,he.props,null,oe.mode,Xe),Xe.ref=Sc(oe,ne,he),Xe.return=oe,oe=Xe)}return G(oe);case u:e:{for(wt=he.key;ne!==null;){if(ne.key===wt)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){y(oe,ne.sibling),ne=T(ne,he.children||[]),ne.return=oe,oe=ne;break e}else{y(oe,ne);break}else f(oe,ne);ne=ne.sibling}ne=o2(he,oe.mode,Xe),ne.return=oe,oe=ne}return G(oe);case _:return wt=he._init,dr(oe,ne,wt(he._payload),Xe)}if(z(he))return tt(oe,ne,he,Xe);if(P(he))return ri(oe,ne,he,Xe);pd(oe,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ne!==null&&ne.tag===6?(y(oe,ne.sibling),ne=T(ne,he),ne.return=oe,oe=ne):(y(oe,ne),ne=s2(he,oe.mode,Xe),ne.return=oe,oe=ne),G(oe)):y(oe,ne)}return dr}var Rl=nw(!0),iw=nw(!1),wc={},ur=pt(wc),Ec=pt(wc),Ll=pt(wc);function es(c){if(c===wc)throw Error(o(174));return c}function Eg(c,f){ct(Ll,f),ct(Ec,c),ct(ur,wc),c=te(f),Nt(ur),ct(ur,c)}function Il(){Nt(ur),Nt(Ec),Nt(Ll)}function rw(c){var f=es(Ll.current),y=es(ur.current);f=U(y,c.type,f),y!==f&&(ct(Ec,c),ct(ur,f))}function Mg(c){Ec.current===c&&(Nt(ur),Nt(Ec))}var tn=pt(0);function md(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Jh(y)||ro(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Cg=[];function Tg(){for(var c=0;c<Cg.length;c++){var f=Cg[c];ye?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Cg.length=0}var gd=a.ReactCurrentDispatcher,cr=a.ReactCurrentBatchConfig,Ol=0,fn=null,ti=null,Bn=null,vd=!1,Mc=!1,Cc=0,ZP=0;function ni(){throw Error(o(321))}function Ag(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!Kr(c[y],f[y]))return!1;return!0}function bg(c,f,y,E,T,R){if(Ol=R,fn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,gd.current=c===null||c.memoizedState===null?eR:tR,c=y(E,T),Mc){R=0;do{if(Mc=!1,Cc=0,25<=R)throw Error(o(301));R+=1,Bn=ti=null,f.updateQueue=null,gd.current=nR,c=y(E,T)}while(Mc)}if(gd.current=wd,f=ti!==null&&ti.next!==null,Ol=0,Bn=ti=fn=null,vd=!1,f)throw Error(o(300));return c}function Pg(){var c=Cc!==0;return Cc=0,c}function Ts(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?fn.memoizedState=Bn=c:Bn=Bn.next=c,Bn}function ts(){if(ti===null){var c=fn.alternate;c=c!==null?c.memoizedState:null}else c=ti.next;var f=Bn===null?fn.memoizedState:Bn.next;if(f!==null)Bn=f,ti=c;else{if(c===null)throw Error(o(310));ti=c,c={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},Bn===null?fn.memoizedState=Bn=c:Bn=Bn.next=c}return Bn}function pa(c,f){return typeof f=="function"?f(c):f}function yd(c){var f=ts(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var E=ti,T=E.baseQueue,R=y.pending;if(R!==null){if(T!==null){var G=T.next;T.next=R.next,R.next=G}E.baseQueue=T=R,y.pending=null}if(T!==null){R=T.next,E=E.baseState;var ee=G=null,me=null,Fe=R;do{var Ze=Fe.lane;if((Ol&Ze)===Ze)me!==null&&(me=me.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),E=Fe.hasEagerState?Fe.eagerState:c(E,Fe.action);else{var mt={lane:Ze,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};me===null?(ee=me=mt,G=E):me=me.next=mt,fn.lanes|=Ze,Nl|=Ze}Fe=Fe.next}while(Fe!==null&&Fe!==R);me===null?G=E:me.next=ee,Kr(E,f.memoizedState)||(ji=!0),f.memoizedState=E,f.baseState=G,f.baseQueue=me,y.lastRenderedState=E}if(c=y.interleaved,c!==null){T=c;do R=T.lane,fn.lanes|=R,Nl|=R,T=T.next;while(T!==c)}else T===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function xd(c){var f=ts(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var E=y.dispatch,T=y.pending,R=f.memoizedState;if(T!==null){y.pending=null;var G=T=T.next;do R=c(R,G.action),G=G.next;while(G!==T);Kr(R,f.memoizedState)||(ji=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),y.lastRenderedState=R}return[R,E]}function sw(){}function ow(c,f){var y=fn,E=ts(),T=f(),R=!Kr(E.memoizedState,T);if(R&&(E.memoizedState=T,ji=!0),E=E.queue,Ac(uw.bind(null,y,E,c),[c]),E.getSnapshot!==f||R||Bn!==null&&Bn.memoizedState.tag&1){if(y.flags|=2048,Tc(9,lw.bind(null,y,E,T,f),void 0,null),Tn===null)throw Error(o(349));Ol&30||aw(y,f,T)}return T}function aw(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=fn.updateQueue,f===null?(f={lastEffect:null,stores:null},fn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function lw(c,f,y,E){f.value=y,f.getSnapshot=E,cw(f)&&fr(c,1,-1)}function uw(c,f,y){return y(function(){cw(f)&&fr(c,1,-1)})}function cw(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!Kr(c,y)}catch{return!0}}function Rg(c){var f=Ts();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:c},f.queue=c,c=c.dispatch=QP.bind(null,fn,c),[f.memoizedState,c]}function Tc(c,f,y,E){return c={tag:c,create:f,destroy:y,deps:E,next:null},f=fn.updateQueue,f===null?(f={lastEffect:null,stores:null},fn.updateQueue=f,f.lastEffect=c.next=c):(y=f.lastEffect,y===null?f.lastEffect=c.next=c:(E=y.next,y.next=c,c.next=E,f.lastEffect=c)),c}function fw(){return ts().memoizedState}function _d(c,f,y,E){var T=Ts();fn.flags|=c,T.memoizedState=Tc(1|f,y,void 0,E===void 0?null:E)}function Sd(c,f,y,E){var T=ts();E=E===void 0?null:E;var R=void 0;if(ti!==null){var G=ti.memoizedState;if(R=G.destroy,E!==null&&Ag(E,G.deps)){T.memoizedState=Tc(f,y,R,E);return}}fn.flags|=c,T.memoizedState=Tc(1|f,y,R,E)}function Lg(c,f){return _d(8390656,8,c,f)}function Ac(c,f){return Sd(2048,8,c,f)}function hw(c,f){return Sd(4,2,c,f)}function dw(c,f){return Sd(4,4,c,f)}function pw(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function mw(c,f,y){return y=y!=null?y.concat([c]):null,Sd(4,4,pw.bind(null,f,c),y)}function Ig(){}function gw(c,f){var y=ts();f=f===void 0?null:f;var E=y.memoizedState;return E!==null&&f!==null&&Ag(f,E[1])?E[0]:(y.memoizedState=[c,f],c)}function vw(c,f){var y=ts();f=f===void 0?null:f;var E=y.memoizedState;return E!==null&&f!==null&&Ag(f,E[1])?E[0]:(c=c(),y.memoizedState=[c,f],c)}function KP(c,f){var y=Lt;Lt=y!==0&&4>y?y:4,c(!0);var E=cr.transition;cr.transition={};try{c(!1),f()}finally{Lt=y,cr.transition=E}}function yw(){return ts().memoizedState}function JP(c,f,y){var E=co(c);y={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null},xw(c)?_w(f,y):(Sw(c,f,y),y=gi(),c=fr(c,E,y),c!==null&&ww(c,f,E))}function QP(c,f,y){var E=co(c),T={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null};if(xw(c))_w(f,T);else{Sw(c,f,T);var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var G=f.lastRenderedState,ee=R(G,y);if(T.hasEagerState=!0,T.eagerState=ee,Kr(ee,G))return}catch{}finally{}y=gi(),c=fr(c,E,y),c!==null&&ww(c,f,E)}}function xw(c){var f=c.alternate;return c===fn||f!==null&&f===fn}function _w(c,f){Mc=vd=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Sw(c,f,y){Tn!==null&&c.mode&1&&!(Ct&2)?(c=f.interleaved,c===null?(y.next=y,Qr===null?Qr=[f]:Qr.push(f)):(y.next=c.next,c.next=y),f.interleaved=y):(c=f.pending,c===null?y.next=y:(y.next=c.next,c.next=y),f.pending=y)}function ww(c,f,y){if(y&4194240){var E=f.lanes;E&=c.pendingLanes,y|=E,f.lanes=y,og(c,y)}}var wd={readContext:or,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},eR={readContext:or,useCallback:function(c,f){return Ts().memoizedState=[c,f===void 0?null:f],c},useContext:or,useEffect:Lg,useImperativeHandle:function(c,f,y){return y=y!=null?y.concat([c]):null,_d(4194308,4,pw.bind(null,f,c),y)},useLayoutEffect:function(c,f){return _d(4194308,4,c,f)},useInsertionEffect:function(c,f){return _d(4,2,c,f)},useMemo:function(c,f){var y=Ts();return f=f===void 0?null:f,c=c(),y.memoizedState=[c,f],c},useReducer:function(c,f,y){var E=Ts();return f=y!==void 0?y(f):f,E.memoizedState=E.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},E.queue=c,c=c.dispatch=JP.bind(null,fn,c),[E.memoizedState,c]},useRef:function(c){var f=Ts();return c={current:c},f.memoizedState=c},useState:Rg,useDebugValue:Ig,useDeferredValue:function(c){var f=Rg(c),y=f[0],E=f[1];return Lg(function(){var T=cr.transition;cr.transition={};try{E(c)}finally{cr.transition=T}},[c]),y},useTransition:function(){var c=Rg(!1),f=c[0];return c=KP.bind(null,c[1]),Ts().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,y){var E=fn,T=Ts();if(Kt){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Tn===null)throw Error(o(349));Ol&30||aw(E,f,y)}T.memoizedState=y;var R={value:y,getSnapshot:f};return T.queue=R,Lg(uw.bind(null,E,R,c),[c]),E.flags|=2048,Tc(9,lw.bind(null,E,R,y,f),void 0,null),y},useId:function(){var c=Ts(),f=Tn.identifierPrefix;if(Kt){var y=Cs,E=Ms;y=(E&~(1<<32-Ar(E)-1)).toString(32)+y,f=":"+f+"R"+y,y=Cc++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=ZP++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},tR={readContext:or,useCallback:gw,useContext:or,useEffect:Ac,useImperativeHandle:mw,useInsertionEffect:hw,useLayoutEffect:dw,useMemo:vw,useReducer:yd,useRef:fw,useState:function(){return yd(pa)},useDebugValue:Ig,useDeferredValue:function(c){var f=yd(pa),y=f[0],E=f[1];return Ac(function(){var T=cr.transition;cr.transition={};try{E(c)}finally{cr.transition=T}},[c]),y},useTransition:function(){var c=yd(pa)[0],f=ts().memoizedState;return[c,f]},useMutableSource:sw,useSyncExternalStore:ow,useId:yw,unstable_isNewReconciler:!1},nR={readContext:or,useCallback:gw,useContext:or,useEffect:Ac,useImperativeHandle:mw,useInsertionEffect:hw,useLayoutEffect:dw,useMemo:vw,useReducer:xd,useRef:fw,useState:function(){return xd(pa)},useDebugValue:Ig,useDeferredValue:function(c){var f=xd(pa),y=f[0],E=f[1];return Ac(function(){var T=cr.transition;cr.transition={};try{E(c)}finally{cr.transition=T}},[c]),y},useTransition:function(){var c=xd(pa)[0],f=ts().memoizedState;return[c,f]},useMutableSource:sw,useSyncExternalStore:ow,useId:yw,unstable_isNewReconciler:!1};function Og(c,f){try{var y="",E=f;do y+=qP(E),E=E.return;while(E);var T=y}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:f,stack:T}}function Dg(c,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var iR=typeof WeakMap=="function"?WeakMap:Map;function Ew(c,f,y){y=Es(-1,y),y.tag=3,y.payload={element:null};var E=f.value;return y.callback=function(){Fd||(Fd=!0,Jg=E),Dg(c,f)},y}function Mw(c,f,y){y=Es(-1,y),y.tag=3;var E=c.type.getDerivedStateFromError;if(typeof E=="function"){var T=f.value;y.payload=function(){return E(T)},y.callback=function(){Dg(c,f)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){Dg(c,f),typeof E!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),y}function Cw(c,f,y){var E=c.pingCache;if(E===null){E=c.pingCache=new iR;var T=new Set;E.set(f,T)}else T=E.get(f),T===void 0&&(T=new Set,E.set(f,T));T.has(y)||(T.add(y),c=vR.bind(null,c,f,y),f.then(c,c))}function Tw(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function Aw(c,f,y,E,T){return c.mode&1?(c.flags|=65536,c.lanes=T,c):(c===f?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Es(-1,1),f.tag=2,ao(y,f))),y.lanes|=1),c)}function ns(c){c.flags|=4}function bw(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var bc,Pc,Ed,Md;if(de)bc=function(c,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)J(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Pc=function(){},Ed=function(c,f,y,E,T){if(c=c.memoizedProps,c!==E){var R=f.stateNode,G=es(ur.current);y=we(R,y,c,E,T,G),(f.updateQueue=y)&&ns(f)}},Md=function(c,f,y,E){y!==E&&ns(f)};else if(H){bc=function(c,f,y,E){for(var T=f.child;T!==null;){if(T.tag===5){var R=T.stateNode;y&&E&&(R=Bt(R,T.type,T.memoizedProps,T)),J(c,R)}else if(T.tag===6)R=T.stateNode,y&&E&&(R=Vi(R,T.memoizedProps,T)),J(c,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),bc(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Pw=function(c,f,y,E){for(var T=f.child;T!==null;){if(T.tag===5){var R=T.stateNode;y&&E&&(R=Bt(R,T.type,T.memoizedProps,T)),Wt(c,R)}else if(T.tag===6)R=T.stateNode,y&&E&&(R=Vi(R,T.memoizedProps,T)),Wt(c,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),Pw(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Pc=function(c,f){var y=f.stateNode;if(!bw(c,f)){c=y.containerInfo;var E=bt(c);Pw(E,f,!1,!1),y.pendingChildren=E,ns(f),ln(c,E)}},Ed=function(c,f,y,E,T){var R=c.stateNode,G=c.memoizedProps;if((c=bw(c,f))&&G===E)f.stateNode=R;else{var ee=f.stateNode,me=es(ur.current),Fe=null;G!==E&&(Fe=we(ee,y,G,E,T,me)),c&&Fe===null?f.stateNode=R:(R=je(R,Fe,y,G,E,f,c,ee),Se(R,y,E,T,me)&&ns(f),f.stateNode=R,c?ns(f):bc(R,f,!1,!1))}},Md=function(c,f,y,E){y!==E?(c=es(Ll.current),y=es(ur.current),f.stateNode=Oe(E,c,y,f),ns(f)):f.stateNode=c.stateNode}}else Pc=function(){},Ed=function(){},Md=function(){};function Rc(c,f){if(!Kt)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:E.sibling=null}}function ii(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,E=0;if(f)for(var T=c.child;T!==null;)y|=T.lanes|T.childLanes,E|=T.subtreeFlags&14680064,E|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)y|=T.lanes|T.childLanes,E|=T.subtreeFlags,E|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=E,c.childLanes=y,f}function rR(c,f,y){var E=f.pendingProps;switch(xg(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(f),null;case 1:return cn(f.type)&&so(),ii(f),null;case 3:return E=f.stateNode,Il(),Nt(Cn),Nt(In),Tg(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(c===null||c.child===null)&&(_c(f)?ns(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Pr!==null&&(t2(Pr),Pr=null))),Pc(c,f),ii(f),null;case 5:Mg(f),y=es(Ll.current);var T=f.type;if(c!==null&&f.stateNode!=null)Ed(c,f,T,E,y),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(o(166));return ii(f),null}if(c=es(ur.current),_c(f)){if(!fe)throw Error(o(175));c=ig(f.stateNode,f.type,f.memoizedProps,y,c,f,!xc),f.updateQueue=c,c!==null&&ns(f)}else{var R=W(T,E,y,c,f);bc(R,f,!1,!1),f.stateNode=R,Se(R,T,E,y,c)&&ns(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ii(f),null;case 6:if(c&&f.stateNode!=null)Md(c,f,c.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(o(166));if(c=es(Ll.current),y=es(ur.current),_c(f)){if(!fe)throw Error(o(176));if(c=f.stateNode,E=f.memoizedProps,(y=B(c,E,f,!xc))&&(T=Gi,T!==null))switch(R=(T.mode&1)!==0,T.tag){case 3:ut(T.stateNode.containerInfo,c,E,R);break;case 5:Mt(T.type,T.memoizedProps,T.stateNode,c,E,R)}y&&ns(f)}else f.stateNode=Oe(E,c,y,f)}return ii(f),null;case 13:if(Nt(tn),E=f.memoizedState,Kt&&Wi!==null&&f.mode&1&&!(f.flags&128)){for(c=Wi;c;)c=qr(c);return Pl(),f.flags|=98560,f}if(E!==null&&E.dehydrated!==null){if(E=_c(f),c===null){if(!E)throw Error(o(318));if(!fe)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));se(c,f)}else Pl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ii(f),null}return Pr!==null&&(t2(Pr),Pr=null),f.flags&128?(f.lanes=y,f):(E=E!==null,y=!1,c===null?_c(f):y=c.memoizedState!==null,E&&!y&&(f.child.flags|=8192,f.mode&1&&(c===null||tn.current&1?On===0&&(On=3):i2())),f.updateQueue!==null&&(f.flags|=4),ii(f),null);case 4:return Il(),Pc(c,f),c===null&&xe(f.stateNode.containerInfo),ii(f),null;case 10:return dg(f.type._context),ii(f),null;case 17:return cn(f.type)&&so(),ii(f),null;case 19:if(Nt(tn),T=f.memoizedState,T===null)return ii(f),null;if(E=(f.flags&128)!==0,R=T.rendering,R===null)if(E)Rc(T,!1);else{if(On!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(R=md(c),R!==null){for(f.flags|=128,Rc(T,!1),c=R.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=y,E=f.child;E!==null;)y=E,T=c,y.flags&=14680066,R=y.alternate,R===null?(y.childLanes=0,y.lanes=T,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=R.childLanes,y.lanes=R.lanes,y.child=R.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=R.memoizedProps,y.memoizedState=R.memoizedState,y.updateQueue=R.updateQueue,y.type=R.type,T=R.dependencies,y.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),E=E.sibling;return ct(tn,tn.current&1|2),f.child}c=c.sibling}T.tail!==null&&Fn()>Kg&&(f.flags|=128,E=!0,Rc(T,!1),f.lanes=4194304)}else{if(!E)if(c=md(R),c!==null){if(f.flags|=128,E=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Rc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!Kt)return ii(f),null}else 2*Fn()-T.renderingStartTime>Kg&&y!==1073741824&&(f.flags|=128,E=!0,Rc(T,!1),f.lanes=4194304);T.isBackwards?(R.sibling=f.child,f.child=R):(c=T.last,c!==null?c.sibling=R:f.child=R,T.last=R)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Fn(),f.sibling=null,c=tn.current,ct(tn,E?c&1|2:c&1),f):(ii(f),null);case 22:case 23:return n2(),E=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==E&&(f.flags|=8192),E&&f.mode&1?Xi&1073741824&&(ii(f),de&&f.subtreeFlags&6&&(f.flags|=8192)):ii(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var sR=a.ReactCurrentOwner,ji=!1;function mi(c,f,y,E){f.child=c===null?iw(f,null,y,E):Rl(f,c.child,y,E)}function Rw(c,f,y,E,T){y=y.render;var R=f.ref;return Tl(f,T),E=bg(c,f,y,E,R,T),y=Pg(),c!==null&&!ji?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,As(c,f,T)):(Kt&&y&&yg(f),f.flags|=1,mi(c,f,E,T),f.child)}function Lw(c,f,y,E,T){if(c===null){var R=y.type;return typeof R=="function"&&!r2(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=R,Iw(c,f,R,E,T)):(c=jd(y.type,null,E,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(R=c.child,!(c.lanes&T)){var G=R.memoizedProps;if(y=y.compare,y=y!==null?y:od,y(G,E)&&c.ref===f.ref)return As(c,f,T)}return f.flags|=1,c=ho(R,E),c.ref=f.ref,c.return=f,f.child=c}function Iw(c,f,y,E,T){if(c!==null&&od(c.memoizedProps,E)&&c.ref===f.ref)if(ji=!1,(c.lanes&T)!==0)c.flags&131072&&(ji=!0);else return f.lanes=c.lanes,As(c,f,T);return Ng(c,f,y,E,T)}function Ow(c,f,y){var E=f.pendingProps,T=E.children,R=c!==null?c.memoizedState:null;if(E.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},ct(Dl,Xi),Xi|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},E=R!==null?R.baseLanes:y,ct(Dl,Xi),Xi|=E;else return c=R!==null?R.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,ct(Dl,Xi),Xi|=c,null;else R!==null?(E=R.baseLanes|y,f.memoizedState=null):E=y,ct(Dl,Xi),Xi|=E;return mi(c,f,T,y),f.child}function Dw(c,f){var y=f.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Ng(c,f,y,E,T){var R=cn(y)?Tr:In.current;return R=un(f,R),Tl(f,T),y=bg(c,f,y,E,R,T),E=Pg(),c!==null&&!ji?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,As(c,f,T)):(Kt&&E&&yg(f),f.flags|=1,mi(c,f,y,T),f.child)}function Nw(c,f,y,E,T){if(cn(y)){var R=!0;Ml(f)}else R=!1;if(Tl(f,T),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),qS(f,y,E),vg(f,y,E,T),E=!0;else if(c===null){var G=f.stateNode,ee=f.memoizedProps;G.props=ee;var me=G.context,Fe=y.contextType;typeof Fe=="object"&&Fe!==null?Fe=or(Fe):(Fe=cn(y)?Tr:In.current,Fe=un(f,Fe));var Ze=y.getDerivedStateFromProps,mt=typeof Ze=="function"||typeof G.getSnapshotBeforeUpdate=="function";mt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==E||me!==Fe)&&ZS(f,G,E,Fe),oo=!1;var it=f.memoizedState;G.state=it,cd(f,E,G,T),me=f.memoizedState,ee!==E||it!==me||Cn.current||oo?(typeof Ze=="function"&&(gg(f,y,Ze,E),me=f.memoizedState),(ee=oo||YS(f,y,ee,E,it,me,Fe))?(mt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=me),G.props=E,G.state=me,G.context=Fe,E=ee):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{G=f.stateNode,WS(c,f),ee=f.memoizedProps,Fe=f.type===f.elementType?ee:br(f.type,ee),G.props=Fe,mt=f.pendingProps,it=G.context,me=y.contextType,typeof me=="object"&&me!==null?me=or(me):(me=cn(y)?Tr:In.current,me=un(f,me));var Ht=y.getDerivedStateFromProps;(Ze=typeof Ht=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ee!==mt||it!==me)&&ZS(f,G,E,me),oo=!1,it=f.memoizedState,G.state=it,cd(f,E,G,T);var tt=f.memoizedState;ee!==mt||it!==tt||Cn.current||oo?(typeof Ht=="function"&&(gg(f,y,Ht,E),tt=f.memoizedState),(Fe=oo||YS(f,y,Fe,E,it,tt,me)||!1)?(Ze||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(E,tt,me),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(E,tt,me)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||ee===c.memoizedProps&&it===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===c.memoizedProps&&it===c.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=tt),G.props=E,G.state=tt,G.context=me,E=Fe):(typeof G.componentDidUpdate!="function"||ee===c.memoizedProps&&it===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ee===c.memoizedProps&&it===c.memoizedState||(f.flags|=1024),E=!1)}return Ug(c,f,y,E,R,T)}function Ug(c,f,y,E,T,R){Dw(c,f);var G=(f.flags&128)!==0;if(!E&&!G)return T&&gc(f,y,!1),As(c,f,R);E=f.stateNode,sR.current=f;var ee=G&&typeof y.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,c!==null&&G?(f.child=Rl(f,c.child,null,R),f.child=Rl(f,null,ee,R)):mi(c,f,ee,R),f.memoizedState=E.state,T&&gc(f,y,!0),f.child}function Uw(c){var f=c.stateNode;f.pendingContext?ei(c,f.pendingContext,f.pendingContext!==f.context):f.context&&ei(c,f.context,!1),Eg(c,f.containerInfo)}function kw(c,f,y,E,T){return Pl(),wg(T),f.flags|=256,mi(c,f,y,E),f.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Td(c){return{baseLanes:c,cachePool:null}}function Fw(c,f,y){var E=f.pendingProps,T=tn.current,R=!1,G=(f.flags&128)!==0,ee;if((ee=G)||(ee=c!==null&&c.memoizedState===null?!1:(T&2)!==0),ee?(R=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),ct(tn,T&1),c===null)return Sg(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?ro(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(T=E.children,c=E.fallback,R?(E=f.mode,R=f.child,T={mode:"hidden",children:T},!(E&1)&&R!==null?(R.childLanes=0,R.pendingProps=T):R=Xd(T,E,0,null),c=_a(c,E,y,null),R.return=f,c.return=f,R.sibling=c,f.child=R,f.child.memoizedState=Td(y),f.memoizedState=Cd,c):kg(f,T));if(T=c.memoizedState,T!==null){if(ee=T.dehydrated,ee!==null){if(G)return f.flags&256?(f.flags&=-257,Ad(c,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(R=E.fallback,T=f.mode,E=Xd({mode:"visible",children:E.children},T,0,null),R=_a(R,T,y,null),R.flags|=2,E.return=f,R.return=f,E.sibling=R,f.child=E,f.mode&1&&Rl(f,c.child,null,y),f.child.memoizedState=Td(y),f.memoizedState=Cd,R);if(!(f.mode&1))f=Ad(c,f,y,null);else if(ro(ee))f=Ad(c,f,y,Error(o(419)));else if(E=(y&c.childLanes)!==0,ji||E){if(E=Tn,E!==null){switch(y&-y){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}E=R&(E.suspendedLanes|y)?0:R,E!==0&&E!==T.retryLane&&(T.retryLane=E,fr(c,E,-1))}i2(),f=Ad(c,f,y,Error(o(421)))}else Jh(ee)?(f.flags|=128,f.child=c.child,f=yR.bind(null,c),Qh(ee,f),f=null):(y=T.treeContext,fe&&(Wi=ng(ee),Gi=f,Kt=!0,Pr=null,xc=!1,y!==null&&(ar[lr++]=Ms,ar[lr++]=Cs,ar[lr++]=ha,Ms=y.id,Cs=y.overflow,ha=f)),f=kg(f,f.pendingProps.children),f.flags|=4096);return f}return R?(E=zw(c,f,E.children,E.fallback,y),R=f.child,T=c.child.memoizedState,R.memoizedState=T===null?Td(y):{baseLanes:T.baseLanes|y,cachePool:null},R.childLanes=c.childLanes&~y,f.memoizedState=Cd,E):(y=Bw(c,f,E.children,y),f.memoizedState=null,y)}return R?(E=zw(c,f,E.children,E.fallback,y),R=f.child,T=c.child.memoizedState,R.memoizedState=T===null?Td(y):{baseLanes:T.baseLanes|y,cachePool:null},R.childLanes=c.childLanes&~y,f.memoizedState=Cd,E):(y=Bw(c,f,E.children,y),f.memoizedState=null,y)}function kg(c,f){return f=Xd({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Bw(c,f,y,E){var T=c.child;return c=T.sibling,y=ho(T,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=E),y.return=f,y.sibling=null,c!==null&&(E=f.deletions,E===null?(f.deletions=[c],f.flags|=16):E.push(c)),f.child=y}function zw(c,f,y,E,T){var R=f.mode;c=c.child;var G=c.sibling,ee={mode:"hidden",children:y};return!(R&1)&&f.child!==c?(y=f.child,y.childLanes=0,y.pendingProps=ee,f.deletions=null):(y=ho(c,ee),y.subtreeFlags=c.subtreeFlags&14680064),G!==null?E=ho(G,E):(E=_a(E,R,T,null),E.flags|=2),E.return=f,y.return=f,y.sibling=E,f.child=y,E}function Ad(c,f,y,E){return E!==null&&wg(E),Rl(f,c.child,null,y),c=kg(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Vw(c,f,y){c.lanes|=f;var E=c.alternate;E!==null&&(E.lanes|=f),pg(c.return,f,y)}function Fg(c,f,y,E,T){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:T}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=E,R.tail=y,R.tailMode=T)}function Hw(c,f,y){var E=f.pendingProps,T=E.revealOrder,R=E.tail;if(mi(c,f,E.children,y),E=tn.current,E&2)E=E&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Vw(c,y,f);else if(c.tag===19)Vw(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}E&=1}if(ct(tn,E),!(f.mode&1))f.memoizedState=null;else switch(T){case"forwards":for(y=f.child,T=null;y!==null;)c=y.alternate,c!==null&&md(c)===null&&(T=y),y=y.sibling;y=T,y===null?(T=f.child,f.child=null):(T=y.sibling,y.sibling=null),Fg(f,!1,T,y,R);break;case"backwards":for(y=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&md(c)===null){f.child=T;break}c=T.sibling,T.sibling=y,y=T,T=c}Fg(f,!0,y,null,R);break;case"together":Fg(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function As(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),Nl|=f.lanes,!(y&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,y=ho(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=ho(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function oR(c,f,y){switch(f.tag){case 3:Uw(f),Pl();break;case 5:rw(f);break;case 1:cn(f.type)&&Ml(f);break;case 4:Eg(f,f.stateNode.containerInfo);break;case 10:GS(f,f.type._context,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(ct(tn,tn.current&1),f.flags|=128,null):y&f.child.childLanes?Fw(c,f,y):(ct(tn,tn.current&1),c=As(c,f,y),c!==null?c.sibling:null);ct(tn,tn.current&1);break;case 19:if(E=(y&f.childLanes)!==0,c.flags&128){if(E)return Hw(c,f,y);f.flags|=128}var T=f.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ct(tn,tn.current),E)break;return null;case 22:case 23:return f.lanes=0,Ow(c,f,y)}return As(c,f,y)}function aR(c,f){switch(xg(f),f.tag){case 1:return cn(f.type)&&so(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Il(),Nt(Cn),Nt(In),Tg(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return Mg(f),null;case 13:if(Nt(tn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Pl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Nt(tn),null;case 4:return Il(),null;case 10:return dg(f.type._context),null;case 22:case 23:return n2(),null;case 24:return null;default:return null}}var bd=!1,ma=!1,lR=typeof WeakSet=="function"?WeakSet:Set,We=null;function Pd(c,f){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(E){Pi(c,f,E)}else y.current=null}function Bg(c,f,y){try{y()}catch(E){Pi(c,f,E)}}var Gw=!1;function uR(c,f){for(X(c.containerInfo),We=f;We!==null;)if(c=We,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,We=f;else for(;We!==null;){c=We;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,T=y.memoizedState,R=c.stateNode,G=R.getSnapshotBeforeUpdate(c.elementType===c.type?E:br(c.type,E),T);R.__reactInternalSnapshotBeforeUpdate=G}break;case 3:de&&Le(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ee){Pi(c,c.return,ee)}if(f=c.sibling,f!==null){f.return=c.return,We=f;break}We=c.return}return y=Gw,Gw=!1,y}function ga(c,f,y){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&c)===c){var R=T.destroy;T.destroy=void 0,R!==void 0&&Bg(f,y,R)}T=T.next}while(T!==E)}}function Lc(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&c)===c){var E=y.create;y.destroy=E()}y=y.next}while(y!==f)}}function zg(c){var f=c.ref;if(f!==null){var y=c.stateNode;switch(c.tag){case 5:c=Q(y);break;default:c=y}typeof f=="function"?f(c):f.current=c}}function Ww(c,f,y){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(rd,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var E=c=c.next;do{var T=E,R=T.destroy;T=T.tag,R!==void 0&&(T&2||T&4)&&Bg(f,y,R),E=E.next}while(E!==c)}break;case 1:if(Pd(f,y),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(G){Pi(f,y,G)}break;case 5:Pd(f,y);break;case 4:de?Zw(c,f,y):H&&H&&(f=f.stateNode.containerInfo,y=bt(f),Cr(f,y))}}function jw(c,f,y){for(var E=f;;)if(Ww(c,E,y),E.child===null||de&&E.tag===4){if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function Xw(c){var f=c.alternate;f!==null&&(c.alternate=null,Xw(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Re(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function $w(c){return c.tag===5||c.tag===3||c.tag===4}function Yw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||$w(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function qw(c){if(de){e:{for(var f=c.return;f!==null;){if($w(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(ot(f),y.flags&=-33),y=Yw(c),Hg(c,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=Yw(c),Vg(c,y,f);break;default:throw Error(o(161))}}}function Vg(c,f,y){var E=c.tag;if(E===5||E===6)c=c.stateNode,f?be(y,c,f):Qe(y,c);else if(E!==4&&(c=c.child,c!==null))for(Vg(c,f,y),c=c.sibling;c!==null;)Vg(c,f,y),c=c.sibling}function Hg(c,f,y){var E=c.tag;if(E===5||E===6)c=c.stateNode,f?pe(y,c,f):Ue(y,c);else if(E!==4&&(c=c.child,c!==null))for(Hg(c,f,y),c=c.sibling;c!==null;)Hg(c,f,y),c=c.sibling}function Zw(c,f,y){for(var E=f,T=!1,R,G;;){if(!T){T=E.return;e:for(;;){if(T===null)throw Error(o(160));switch(R=T.stateNode,T.tag){case 5:G=!1;break e;case 3:R=R.containerInfo,G=!0;break e;case 4:R=R.containerInfo,G=!0;break e}T=T.return}T=!0}if(E.tag===5||E.tag===6)jw(c,E,y),G?Ve(R,E.stateNode):De(R,E.stateNode);else if(E.tag===18)G?nt(R,E.stateNode):qe(R,E.stateNode);else if(E.tag===4){if(E.child!==null){R=E.stateNode.containerInfo,G=!0,E.child.return=E,E=E.child;continue}}else if(Ww(c,E,y),E.child!==null){E.child.return=E,E=E.child;continue}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return,E.tag===4&&(T=!1)}E.sibling.return=E.return,E=E.sibling}}function Gg(c,f){if(de){switch(f.tag){case 0:case 11:case 14:case 15:ga(3,f,f.return),Lc(3,f),ga(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var E=f.memoizedProps;c=c!==null?c.memoizedProps:E;var T=f.type,R=f.updateQueue;f.updateQueue=null,R!==null&&Y(y,R,T,c,E,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,ke(f.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:fe&&c!==null&&c.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);return;case 12:return;case 13:Rd(f);return;case 19:Rd(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ga(3,f,f.return),Lc(3,f),ga(5,f,f.return);return;case 12:return;case 13:Rd(f);return;case 19:Rd(f);return;case 3:fe&&c!==null&&c.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Cr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Rd(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new lR),f.forEach(function(E){var T=xR.bind(null,c,E);y.has(E)||(y.add(E),E.then(T,T))})}}function cR(c,f){for(We=f;We!==null;){f=We;var y=f.deletions;if(y!==null)for(var E=0;E<y.length;E++){var T=y[E];try{var R=c;de?Zw(R,T,f):jw(R,T,f);var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(et){Pi(T,f,et)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,We=y;else for(;We!==null;){f=We;try{var ee=f.flags;if(ee&32&&de&&ot(f.stateNode),ee&512){var me=f.alternate;if(me!==null){var Fe=me.ref;Fe!==null&&(typeof Fe=="function"?Fe(null):Fe.current=null)}}if(ee&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ze=f.alternate;(Ze===null||Ze.memoizedState===null)&&(Zg=Fn())}break;case 22:var mt=f.memoizedState!==null,it=f.alternate,Ht=it!==null&&it.memoizedState!==null;if(y=f,de){e:if(E=y,T=mt,R=null,de)for(var tt=E;;){if(tt.tag===5){if(R===null){R=tt;var ri=tt.stateNode;T?Tt(ri):He(tt.stateNode,tt.memoizedProps)}}else if(tt.tag===6){if(R===null){var dr=tt.stateNode;T?K(dr):le(dr,tt.memoizedProps)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===E)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===E)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===E)break e;R===tt&&(R=null),tt=tt.return}R===tt&&(R=null),tt.sibling.return=tt.return,tt=tt.sibling}}if(mt&&!Ht&&y.mode&1){We=y;for(var oe=y.child;oe!==null;){for(y=We=oe;We!==null;){E=We;var ne=E.child;switch(E.tag){case 0:case 11:case 14:case 15:ga(4,E,E.return);break;case 1:Pd(E,E.return);var he=E.stateNode;if(typeof he.componentWillUnmount=="function"){var Xe=E.return;try{he.props=E.memoizedProps,he.state=E.memoizedState,he.componentWillUnmount()}catch(et){Pi(E,Xe,et)}}break;case 5:Pd(E,E.return);break;case 22:if(E.memoizedState!==null){Qw(y);continue}}ne!==null?(ne.return=E,We=ne):Qw(y)}oe=oe.sibling}}}switch(ee&4102){case 2:qw(f),f.flags&=-3;break;case 6:qw(f),f.flags&=-3,Gg(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Gg(f.alternate,f);break;case 4:Gg(f.alternate,f)}}catch(et){Pi(f,f.return,et)}if(y=f.sibling,y!==null){y.return=f.return,We=y;break}We=f.return}}}function fR(c,f,y){We=c,Kw(c)}function Kw(c,f,y){for(var E=(c.mode&1)!==0;We!==null;){var T=We,R=T.child;if(T.tag===22&&E){var G=T.memoizedState!==null||bd;if(!G){var ee=T.alternate,me=ee!==null&&ee.memoizedState!==null||ma;ee=bd;var Fe=ma;if(bd=G,(ma=me)&&!Fe)for(We=T;We!==null;)G=We,me=G.child,G.tag===22&&G.memoizedState!==null?e4(T):me!==null?(me.return=G,We=me):e4(T);for(;R!==null;)We=R,Kw(R),R=R.sibling;We=T,bd=ee,ma=Fe}Jw(c)}else T.subtreeFlags&8772&&R!==null?(R.return=T,We=R):Jw(c)}}function Jw(c){for(;We!==null;){var f=We;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ma||Lc(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!ma)if(y===null)E.componentDidMount();else{var T=f.elementType===f.type?y.memoizedProps:br(f.type,y.memoizedProps);E.componentDidUpdate(T,y.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&XS(f,R,E);break;case 3:var G=f.updateQueue;if(G!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=Q(f.child.stateNode);break;case 1:y=f.child.stateNode}XS(f,G,y)}break;case 5:var ee=f.stateNode;y===null&&f.flags&4&&ce(ee,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&f.memoizedState===null){var me=f.alternate;if(me!==null){var Fe=me.memoizedState;if(Fe!==null){var Ze=Fe.dehydrated;Ze!==null&&ge(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ma||f.flags&512&&zg(f)}catch(mt){Pi(f,f.return,mt)}}if(f===c){We=null;break}if(y=f.sibling,y!==null){y.return=f.return,We=y;break}We=f.return}}function Qw(c){for(;We!==null;){var f=We;if(f===c){We=null;break}var y=f.sibling;if(y!==null){y.return=f.return,We=y;break}We=f.return}}function e4(c){for(;We!==null;){var f=We;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{Lc(4,f)}catch(me){Pi(f,y,me)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var T=f.return;try{E.componentDidMount()}catch(me){Pi(f,T,me)}}var R=f.return;try{zg(f)}catch(me){Pi(f,R,me)}break;case 5:var G=f.return;try{zg(f)}catch(me){Pi(f,G,me)}}}catch(me){Pi(f,f.return,me)}if(f===c){We=null;break}var ee=f.sibling;if(ee!==null){ee.return=f.return,We=ee;break}We=f.return}}var Ld=0,Id=1,Od=2,Dd=3,Nd=4;if(typeof Symbol=="function"&&Symbol.for){var Ic=Symbol.for;Ld=Ic("selector.component"),Id=Ic("selector.has_pseudo_class"),Od=Ic("selector.role"),Dd=Ic("selector.test_id"),Nd=Ic("selector.text")}function Wg(c){var f=re(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=Me(c),c===null)throw Error(o(362));return c.stateNode.current}function jg(c,f){switch(f.$$typeof){case Ld:if(c.type===f.value)return!0;break;case Id:e:{f=f.value,c=[c,0];for(var y=0;y<c.length;){var E=c[y++],T=c[y++],R=f[T];if(E.tag!==5||!N(E)){for(;R!=null&&jg(E,R);)T++,R=f[T];if(T===f.length){f=!0;break e}else for(E=E.child;E!==null;)c.push(E,T),E=E.sibling}}f=!1}return f;case Od:if(c.tag===5&&ae(c.stateNode,f.value))return!0;break;case Nd:if((c.tag===5||c.tag===6)&&(c=V(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Dd:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Xg(c){switch(c.$$typeof){case Ld:return"<"+(L(c.value)||"Unknown")+">";case Id:return":has("+(Xg(c)||"")+")";case Od:return'[role="'+c.value+'"]';case Nd:return'"'+c.value+'"';case Dd:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function t4(c,f){var y=[];c=[c,0];for(var E=0;E<c.length;){var T=c[E++],R=c[E++],G=f[R];if(T.tag!==5||!N(T)){for(;G!=null&&jg(T,G);)R++,G=f[R];if(R===f.length)y.push(T);else for(T=T.child;T!==null;)c.push(T,R),T=T.sibling}}return y}function $g(c,f){if(!Be)throw Error(o(363));c=Wg(c),c=t4(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var E=c[y++];if(E.tag===5)N(E)||f.push(E.stateNode);else for(E=E.child;E!==null;)c.push(E),E=E.sibling}return f}var hR=Math.ceil,Ud=a.ReactCurrentDispatcher,Yg=a.ReactCurrentOwner,vn=a.ReactCurrentBatchConfig,Ct=0,Tn=null,An=null,$n=0,Xi=0,Dl=pt(0),On=0,Oc=null,Nl=0,kd=0,qg=0,Dc=null,Ai=null,Zg=0,Kg=1/0;function Ul(){Kg=Fn()+500}var Fd=!1,Jg=null,lo=null,Bd=!1,uo=null,zd=0,Nc=0,Qg=null,Vd=-1,Hd=0;function gi(){return Ct&6?Fn():Vd!==-1?Vd:Vd=Fn()}function co(c){return c.mode&1?Ct&2&&$n!==0?$n&-$n:YP.transition!==null?(Hd===0&&(c=td,td<<=1,!(td&4194240)&&(td=64),Hd=c),Hd):(c=Lt,c!==0?c:ue()):1}function fr(c,f,y){if(50<Nc)throw Nc=0,Qg=null,Error(o(185));var E=Gd(c,f);return E===null?null:(yc(E,f,y),(!(Ct&2)||E!==Tn)&&(E===Tn&&(!(Ct&2)&&(kd|=f),On===4&&fo(E,$n)),bi(E,y),f===1&&Ct===0&&!(c.mode&1)&&(Ul(),sd&&Jr())),E)}function Gd(c,f){c.lanes|=f;var y=c.alternate;for(y!==null&&(y.lanes|=f),y=c,c=c.return;c!==null;)c.childLanes|=f,y=c.alternate,y!==null&&(y.childLanes|=f),y=c,c=c.return;return y.tag===3?y.stateNode:null}function bi(c,f){var y=c.callbackNode;BP(c,f);var E=id(c,c===Tn?$n:0);if(E===0)y!==null&&VS(y),c.callbackNode=null,c.callbackPriority=0;else if(f=E&-E,c.callbackPriority!==f){if(y!=null&&VS(y),f===1)c.tag===0?$P(i4.bind(null,c)):HS(i4.bind(null,c)),Ce?Pe(function(){Ct===0&&Jr()}):ag(lg,Jr),y=null;else{switch(zS(E)){case 1:y=lg;break;case 4:y=GP;break;case 16:y=ug;break;case 536870912:y=WP;break;default:y=ug}y=h4(y,n4.bind(null,c))}c.callbackPriority=f,c.callbackNode=y}}function n4(c,f){if(Vd=-1,Hd=0,Ct&6)throw Error(o(327));var y=c.callbackNode;if(xa()&&c.callbackNode!==y)return null;var E=id(c,c===Tn?$n:0);if(E===0)return null;if(E&30||E&c.expiredLanes||f)f=Wd(c,E);else{f=E;var T=Ct;Ct|=2;var R=o4();(Tn!==c||$n!==f)&&(Ul(),va(c,f));do try{mR();break}catch(ee){s4(c,ee)}while(1);hg(),Ud.current=R,Ct=T,An!==null?f=0:(Tn=null,$n=0,f=On)}if(f!==0){if(f===2&&(T=rg(c),T!==0&&(E=T,f=e2(c,T))),f===1)throw y=Oc,va(c,0),fo(c,E),bi(c,Fn()),y;if(f===6)fo(c,E);else{if(T=c.current.alternate,!(E&30)&&!dR(T)&&(f=Wd(c,E),f===2&&(R=rg(c),R!==0&&(E=R,f=e2(c,R))),f===1))throw y=Oc,va(c,0),fo(c,E),bi(c,Fn()),y;switch(c.finishedWork=T,c.finishedLanes=E,f){case 0:case 1:throw Error(o(345));case 2:ya(c,Ai);break;case 3:if(fo(c,E),(E&130023424)===E&&(f=Zg+500-Fn(),10<f)){if(id(c,0)!==0)break;if(T=c.suspendedLanes,(T&E)!==E){gi(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=ze(ya.bind(null,c,Ai),f);break}ya(c,Ai);break;case 4:if(fo(c,E),(E&4194240)===E)break;for(f=c.eventTimes,T=-1;0<E;){var G=31-Ar(E);R=1<<G,G=f[G],G>T&&(T=G),E&=~R}if(E=T,E=Fn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*hR(E/1960))-E,10<E){c.timeoutHandle=ze(ya.bind(null,c,Ai),E);break}ya(c,Ai);break;case 5:ya(c,Ai);break;default:throw Error(o(329))}}}return bi(c,Fn()),c.callbackNode===y?n4.bind(null,c):null}function e2(c,f){var y=Dc;return c.current.memoizedState.isDehydrated&&(va(c,f).flags|=256),c=Wd(c,f),c!==2&&(f=Ai,Ai=y,f!==null&&t2(f)),c}function t2(c){Ai===null?Ai=c:Ai.push.apply(Ai,c)}function dR(c){for(var f=c;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var E=0;E<y.length;E++){var T=y[E],R=T.getSnapshot;T=T.value;try{if(!Kr(R(),T))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function fo(c,f){for(f&=~qg,f&=~kd,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var y=31-Ar(f),E=1<<y;c[y]=-1,f&=~E}}function i4(c){if(Ct&6)throw Error(o(327));xa();var f=id(c,0);if(!(f&1))return bi(c,Fn()),null;var y=Wd(c,f);if(c.tag!==0&&y===2){var E=rg(c);E!==0&&(f=E,y=e2(c,E))}if(y===1)throw y=Oc,va(c,0),fo(c,f),bi(c,Fn()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,ya(c,Ai),bi(c,Fn()),null}function r4(c){uo!==null&&uo.tag===0&&!(Ct&6)&&xa();var f=Ct;Ct|=1;var y=vn.transition,E=Lt;try{if(vn.transition=null,Lt=1,c)return c()}finally{Lt=E,vn.transition=y,Ct=f,!(Ct&6)&&Jr()}}function n2(){Xi=Dl.current,Nt(Dl)}function va(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==at&&(c.timeoutHandle=at,Ke(y)),An!==null)for(y=An.return;y!==null;){var E=y;switch(xg(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&so();break;case 3:Il(),Nt(Cn),Nt(In),Tg();break;case 5:Mg(E);break;case 4:Il();break;case 13:Nt(tn);break;case 19:Nt(tn);break;case 10:dg(E.type._context);break;case 22:case 23:n2()}y=y.return}if(Tn=c,An=c=ho(c.current,null),$n=Xi=f,On=0,Oc=null,qg=kd=Nl=0,Ai=Dc=null,Qr!==null){for(f=0;f<Qr.length;f++)if(y=Qr[f],E=y.interleaved,E!==null){y.interleaved=null;var T=E.next,R=y.pending;if(R!==null){var G=R.next;R.next=T,E.next=G}y.pending=E}Qr=null}return c}function s4(c,f){do{var y=An;try{if(hg(),gd.current=wd,vd){for(var E=fn.memoizedState;E!==null;){var T=E.queue;T!==null&&(T.pending=null),E=E.next}vd=!1}if(Ol=0,Bn=ti=fn=null,Mc=!1,Cc=0,Yg.current=null,y===null||y.return===null){On=1,Oc=f,An=null;break}e:{var R=c,G=y.return,ee=y,me=f;if(f=$n,ee.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Fe=me,Ze=ee,mt=Ze.tag;if(!(Ze.mode&1)&&(mt===0||mt===11||mt===15)){var it=Ze.alternate;it?(Ze.updateQueue=it.updateQueue,Ze.memoizedState=it.memoizedState,Ze.lanes=it.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var Ht=Tw(G);if(Ht!==null){Ht.flags&=-257,Aw(Ht,G,ee,R,f),Ht.mode&1&&Cw(R,Fe,f),f=Ht,me=Fe;var tt=f.updateQueue;if(tt===null){var ri=new Set;ri.add(me),f.updateQueue=ri}else tt.add(me);break e}else{if(!(f&1)){Cw(R,Fe,f),i2();break e}me=Error(o(426))}}else if(Kt&&ee.mode&1){var dr=Tw(G);if(dr!==null){!(dr.flags&65536)&&(dr.flags|=256),Aw(dr,G,ee,R,f),wg(me);break e}}R=me,On!==4&&(On=2),Dc===null?Dc=[R]:Dc.push(R),me=Og(me,ee),ee=G;do{switch(ee.tag){case 3:ee.flags|=65536,f&=-f,ee.lanes|=f;var oe=Ew(ee,me,f);jS(ee,oe);break e;case 1:R=me;var ne=ee.type,he=ee.stateNode;if(!(ee.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(lo===null||!lo.has(he)))){ee.flags|=65536,f&=-f,ee.lanes|=f;var Xe=Mw(ee,R,f);jS(ee,Xe);break e}}ee=ee.return}while(ee!==null)}l4(y)}catch(et){f=et,An===y&&y!==null&&(An=y=y.return);continue}break}while(1)}function o4(){var c=Ud.current;return Ud.current=wd,c===null?wd:c}function i2(){(On===0||On===3||On===2)&&(On=4),Tn===null||!(Nl&268435455)&&!(kd&268435455)||fo(Tn,$n)}function Wd(c,f){var y=Ct;Ct|=2;var E=o4();Tn===c&&$n===f||va(c,f);do try{pR();break}catch(T){s4(c,T)}while(1);if(hg(),Ct=y,Ud.current=E,An!==null)throw Error(o(261));return Tn=null,$n=0,On}function pR(){for(;An!==null;)a4(An)}function mR(){for(;An!==null&&!VP();)a4(An)}function a4(c){var f=f4(c.alternate,c,Xi);c.memoizedProps=c.pendingProps,f===null?l4(c):An=f,Yg.current=null}function l4(c){var f=c;do{var y=f.alternate;if(c=f.return,f.flags&32768){if(y=aR(y,f),y!==null){y.flags&=32767,An=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{On=6,An=null;return}}else if(y=rR(y,f,Xi),y!==null){An=y;return}if(f=f.sibling,f!==null){An=f;return}An=f=c}while(f!==null);On===0&&(On=5)}function ya(c,f){var y=Lt,E=vn.transition;try{vn.transition=null,Lt=1,gR(c,f,y)}finally{vn.transition=E,Lt=y}return null}function gR(c,f,y){do xa();while(uo!==null);if(Ct&6)throw Error(o(327));var E=c.finishedWork,T=c.finishedLanes;if(E===null)return null;if(c.finishedWork=null,c.finishedLanes=0,E===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var R=E.lanes|E.childLanes;if(zP(c,R),c===Tn&&(An=Tn=null,$n=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Bd||(Bd=!0,h4(ug,function(){return xa(),null})),R=(E.flags&15990)!==0,E.subtreeFlags&15990||R){R=vn.transition,vn.transition=null;var G=Lt;Lt=1;var ee=Ct;Ct|=4,Yg.current=null,uR(c,E),cR(c,E),q(c.containerInfo),c.current=E,fR(E),HP(),Ct=ee,Lt=G,vn.transition=R}else c.current=E;if(Bd&&(Bd=!1,uo=c,zd=T),R=c.pendingLanes,R===0&&(lo=null),jP(E.stateNode),bi(c,Fn()),f!==null)for(y=c.onRecoverableError,E=0;E<f.length;E++)y(f[E]);if(Fd)throw Fd=!1,c=Jg,Jg=null,c;return zd&1&&c.tag!==0&&xa(),R=c.pendingLanes,R&1?c===Qg?Nc++:(Nc=0,Qg=c):Nc=0,Jr(),null}function xa(){if(uo!==null){var c=zS(zd),f=vn.transition,y=Lt;try{if(vn.transition=null,Lt=16>c?16:c,uo===null)var E=!1;else{if(c=uo,uo=null,zd=0,Ct&6)throw Error(o(331));var T=Ct;for(Ct|=4,We=c.current;We!==null;){var R=We,G=R.child;if(We.flags&16){var ee=R.deletions;if(ee!==null){for(var me=0;me<ee.length;me++){var Fe=ee[me];for(We=Fe;We!==null;){var Ze=We;switch(Ze.tag){case 0:case 11:case 15:ga(8,Ze,R)}var mt=Ze.child;if(mt!==null)mt.return=Ze,We=mt;else for(;We!==null;){Ze=We;var it=Ze.sibling,Ht=Ze.return;if(Xw(Ze),Ze===Fe){We=null;break}if(it!==null){it.return=Ht,We=it;break}We=Ht}}}var tt=R.alternate;if(tt!==null){var ri=tt.child;if(ri!==null){tt.child=null;do{var dr=ri.sibling;ri.sibling=null,ri=dr}while(ri!==null)}}We=R}}if(R.subtreeFlags&2064&&G!==null)G.return=R,We=G;else e:for(;We!==null;){if(R=We,R.flags&2048)switch(R.tag){case 0:case 11:case 15:ga(9,R,R.return)}var oe=R.sibling;if(oe!==null){oe.return=R.return,We=oe;break e}We=R.return}}var ne=c.current;for(We=ne;We!==null;){G=We;var he=G.child;if(G.subtreeFlags&2064&&he!==null)he.return=G,We=he;else e:for(G=ne;We!==null;){if(ee=We,ee.flags&2048)try{switch(ee.tag){case 0:case 11:case 15:Lc(9,ee)}}catch(et){Pi(ee,ee.return,et)}if(ee===G){We=null;break e}var Xe=ee.sibling;if(Xe!==null){Xe.return=ee.return,We=Xe;break e}We=ee.return}}if(Ct=T,Jr(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(rd,c)}catch{}E=!0}return E}finally{Lt=y,vn.transition=f}}return!1}function u4(c,f,y){f=Og(y,f),f=Ew(c,f,1),ao(c,f),f=gi(),c=Gd(c,1),c!==null&&(yc(c,1,f),bi(c,f))}function Pi(c,f,y){if(c.tag===3)u4(c,c,y);else for(;f!==null;){if(f.tag===3){u4(f,c,y);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(lo===null||!lo.has(E))){c=Og(y,c),c=Mw(f,c,1),ao(f,c),c=gi(),f=Gd(f,1),f!==null&&(yc(f,1,c),bi(f,c));break}}f=f.return}}function vR(c,f,y){var E=c.pingCache;E!==null&&E.delete(f),f=gi(),c.pingedLanes|=c.suspendedLanes&y,Tn===c&&($n&y)===y&&(On===4||On===3&&($n&130023424)===$n&&500>Fn()-Zg?va(c,0):qg|=y),bi(c,f)}function c4(c,f){f===0&&(c.mode&1?(f=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):f=1);var y=gi();c=Gd(c,f),c!==null&&(yc(c,f,y),bi(c,y))}function yR(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),c4(c,y)}function xR(c,f){var y=0;switch(c.tag){case 13:var E=c.stateNode,T=c.memoizedState;T!==null&&(y=T.retryLane);break;case 19:E=c.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(f),c4(c,y)}var f4;f4=function(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps||Cn.current)ji=!0;else{if(!(c.lanes&y)&&!(f.flags&128))return ji=!1,oR(c,f,y);ji=!!(c.flags&131072)}else ji=!1,Kt&&f.flags&1048576&&KS(f,dd,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var T=un(f,In.current);Tl(f,y),T=bg(null,f,E,c,T,y);var R=Pg();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,cn(E)?(R=!0,Ml(f)):R=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,mg(f),T.updater=fd,f.stateNode=T,T._reactInternals=f,vg(f,E,c,y),f=Ug(null,f,E,!0,R,y)):(f.tag=0,Kt&&R&&yg(f),mi(null,f,T,y),f=f.child),f;case 16:E=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,T=E._init,E=T(E._payload),f.type=E,T=f.tag=SR(E),c=br(E,c),T){case 0:f=Ng(null,f,E,c,y);break e;case 1:f=Nw(null,f,E,c,y);break e;case 11:f=Rw(null,f,E,c,y);break e;case 14:f=Lw(null,f,E,br(E.type,c),y);break e}throw Error(o(306,E,""))}return f;case 0:return E=f.type,T=f.pendingProps,T=f.elementType===E?T:br(E,T),Ng(c,f,E,T,y);case 1:return E=f.type,T=f.pendingProps,T=f.elementType===E?T:br(E,T),Nw(c,f,E,T,y);case 3:e:{if(Uw(f),c===null)throw Error(o(387));E=f.pendingProps,R=f.memoizedState,T=R.element,WS(c,f),cd(f,E,null,y);var G=f.memoizedState;if(E=G.element,fe&&R.isDehydrated)if(R={element:E,isDehydrated:!1,cache:G.cache,transitions:G.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){T=Error(o(423)),f=kw(c,f,E,y,T);break e}else if(E!==T){T=Error(o(424)),f=kw(c,f,E,y,T);break e}else for(fe&&(Wi=tg(f.stateNode.containerInfo),Gi=f,Kt=!0,Pr=null,xc=!1),y=iw(f,null,E,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Pl(),E===T){f=As(c,f,y);break e}mi(c,f,E,y)}f=f.child}return f;case 5:return rw(f),c===null&&Sg(f),E=f.type,T=f.pendingProps,R=c!==null?c.memoizedProps:null,G=T.children,Ee(E,T)?G=null:R!==null&&Ee(E,R)&&(f.flags|=32),Dw(c,f),mi(c,f,G,y),f.child;case 6:return c===null&&Sg(f),null;case 13:return Fw(c,f,y);case 4:return Eg(f,f.stateNode.containerInfo),E=f.pendingProps,c===null?f.child=Rl(f,null,E,y):mi(c,f,E,y),f.child;case 11:return E=f.type,T=f.pendingProps,T=f.elementType===E?T:br(E,T),Rw(c,f,E,T,y);case 7:return mi(c,f,f.pendingProps,y),f.child;case 8:return mi(c,f,f.pendingProps.children,y),f.child;case 12:return mi(c,f,f.pendingProps.children,y),f.child;case 10:e:{if(E=f.type._context,T=f.pendingProps,R=f.memoizedProps,G=T.value,GS(f,E,G),R!==null)if(Kr(R.value,G)){if(R.children===T.children&&!Cn.current){f=As(c,f,y);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var ee=R.dependencies;if(ee!==null){G=R.child;for(var me=ee.firstContext;me!==null;){if(me.context===E){if(R.tag===1){me=Es(-1,y&-y),me.tag=2;var Fe=R.updateQueue;if(Fe!==null){Fe=Fe.shared;var Ze=Fe.pending;Ze===null?me.next=me:(me.next=Ze.next,Ze.next=me),Fe.pending=me}}R.lanes|=y,me=R.alternate,me!==null&&(me.lanes|=y),pg(R.return,y,f),ee.lanes|=y;break}me=me.next}}else if(R.tag===10)G=R.type===f.type?null:R.child;else if(R.tag===18){if(G=R.return,G===null)throw Error(o(341));G.lanes|=y,ee=G.alternate,ee!==null&&(ee.lanes|=y),pg(G,y,f),G=R.sibling}else G=R.child;if(G!==null)G.return=R;else for(G=R;G!==null;){if(G===f){G=null;break}if(R=G.sibling,R!==null){R.return=G.return,G=R;break}G=G.return}R=G}mi(c,f,T.children,y),f=f.child}return f;case 9:return T=f.type,E=f.pendingProps.children,Tl(f,y),T=or(T),E=E(T),f.flags|=1,mi(c,f,E,y),f.child;case 14:return E=f.type,T=br(E,f.pendingProps),T=br(E.type,T),Lw(c,f,E,T,y);case 15:return Iw(c,f,f.type,f.pendingProps,y);case 17:return E=f.type,T=f.pendingProps,T=f.elementType===E?T:br(E,T),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,cn(E)?(c=!0,Ml(f)):c=!1,Tl(f,y),qS(f,E,T),vg(f,E,T,y),Ug(null,f,E,!0,c,y);case 19:return Hw(c,f,y);case 22:return Ow(c,f,y)}throw Error(o(156,f.tag))};function h4(c,f){return ag(c,f)}function _R(c,f,y,E){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(c,f,y,E){return new _R(c,f,y,E)}function r2(c){return c=c.prototype,!(!c||!c.isReactComponent)}function SR(c){if(typeof c=="function")return r2(c)?1:0;if(c!=null){if(c=c.$$typeof,c===S)return 11;if(c===x)return 14}return 2}function ho(c,f){var y=c.alternate;return y===null?(y=hr(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function jd(c,f,y,E,T,R){var G=2;if(E=c,typeof c=="function")r2(c)&&(G=1);else if(typeof c=="string")G=5;else e:switch(c){case h:return _a(y.children,T,R,f);case d:G=8,T|=8;break;case p:return c=hr(12,y,f,T|2),c.elementType=p,c.lanes=R,c;case w:return c=hr(13,y,f,T),c.elementType=w,c.lanes=R,c;case v:return c=hr(19,y,f,T),c.elementType=v,c.lanes=R,c;case C:return Xd(y,T,R,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:G=10;break e;case g:G=9;break e;case S:G=11;break e;case x:G=14;break e;case _:G=16,E=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=hr(G,y,f,T),f.elementType=c,f.type=E,f.lanes=R,f}function _a(c,f,y,E){return c=hr(7,c,E,f),c.lanes=y,c}function Xd(c,f,y,E){return c=hr(22,c,E,f),c.elementType=C,c.lanes=y,c.stateNode={},c}function s2(c,f,y){return c=hr(6,c,null,f),c.lanes=y,c}function o2(c,f,y){return f=hr(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function wR(c,f,y,E,T){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=at,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sg(0),this.expirationTimes=sg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sg(0),this.identifierPrefix=E,this.onRecoverableError=T,fe&&(this.mutableSourceEagerHydrationData=null)}function d4(c,f,y,E,T,R,G,ee,me){return c=new wR(c,f,y,ee,me),f===1?(f=1,R===!0&&(f|=8)):f=0,R=hr(3,null,null,f),c.current=R,R.stateNode=c,R.memoizedState={element:E,isDehydrated:y,cache:null,transitions:null},mg(R),c}function p4(c){if(!c)return Qn;c=c._reactInternals;e:{if(b(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(cn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(cn(y))return El(c,y,f)}return f}function m4(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=Z(f),c===null?null:c.stateNode}function g4(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function a2(c,f){g4(c,f),(c=c.alternate)&&g4(c,f)}function ER(c){return c=Z(c),c===null?null:c.stateNode}function MR(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=gi();fr(c,134217728,f),a2(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=gi(),y=co(c);fr(c,y,f),a2(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var y=vc(f.pendingLanes);y!==0&&(og(f,y|1),bi(f,Fn()),!(Ct&6)&&(Ul(),Jr()))}break;case 13:var E=gi();r4(function(){return fr(c,1,E)}),a2(c,1)}},t.batchedUpdates=function(c,f){var y=Ct;Ct|=1;try{return c(f)}finally{Ct=y,Ct===0&&(Ul(),sd&&Jr())}},t.createComponentSelector=function(c){return{$$typeof:Ld,value:c}},t.createContainer=function(c,f,y,E,T,R,G){return d4(c,f,!1,null,y,E,T,R,G)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Id,value:c}},t.createHydrationContainer=function(c,f,y,E,T,R,G,ee,me){return c=d4(y,E,!0,c,T,R,G,ee,me),c.context=p4(null),y=c.current,E=gi(),T=co(y),R=Es(E,T),R.callback=f??null,ao(y,R),c.current.lanes=T,yc(c,T,E),bi(c,E),c},t.createPortal=function(c,f,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:c,containerInfo:f,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:Od,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Dd,value:c}},t.createTextSelector=function(c){return{$$typeof:Nd,value:c}},t.deferredUpdates=function(c){var f=Lt,y=vn.transition;try{return vn.transition=null,Lt=16,c()}finally{Lt=f,vn.transition=y}},t.discreteUpdates=function(c,f,y,E,T){var R=Lt,G=vn.transition;try{return vn.transition=null,Lt=1,c(f,y,E,T)}finally{Lt=R,vn.transition=G,Ct===0&&Ul()}},t.findAllNodes=$g,t.findBoundingRects=function(c,f){if(!Be)throw Error(o(363));f=$g(c,f),c=[];for(var y=0;y<f.length;y++)c.push(dt(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var E=y.x,T=E+y.width,R=y.y,G=R+y.height,ee=f-1;0<=ee;ee--)if(f!==ee){var me=c[ee],Fe=me.x,Ze=Fe+me.width,mt=me.y,it=mt+me.height;if(E>=Fe&&R>=mt&&T<=Ze&&G<=it){c.splice(f,1);break}else if(E!==Fe||y.width!==me.width||it<R||mt>G){if(!(R!==mt||y.height!==me.height||Ze<E||Fe>T)){Fe>E&&(me.width+=Fe-E,me.x=E),Ze<T&&(me.width=T-Fe),c.splice(f,1);break}}else{mt>R&&(me.height+=mt-R,me.y=R),it<G&&(me.height=G-mt),c.splice(f,1);break}}}return c},t.findHostInstance=m4,t.findHostInstanceWithNoPortals=function(c){return c=F(c),c=c!==null?D(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return m4(c)},t.flushControlled=function(c){var f=Ct;Ct|=1;var y=vn.transition,E=Lt;try{vn.transition=null,Lt=1,c()}finally{Lt=E,vn.transition=y,Ct=f,Ct===0&&(Ul(),Jr())}},t.flushPassiveEffects=xa,t.flushSync=r4,t.focusWithin=function(c,f){if(!Be)throw Error(o(363));for(c=Wg(c),f=t4(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++];if(!N(y)){if(y.tag===5&&Ne(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(c,f){if(!Be)throw Error(o(363));var y=0,E=[];c=[Wg(c),0];for(var T=0;T<c.length;){var R=c[T++],G=c[T++],ee=f[G];if((R.tag!==5||!N(R))&&(jg(R,ee)&&(E.push(Xg(ee)),G++,G>y&&(y=G)),G<f.length))for(R=R.child;R!==null;)c.push(R,G),R=R.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Xg(f[y]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return Q(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:ER,findFiberByHostInstance:c.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{rd=f.inject(c),Zr=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,y,E){if(!Be)throw Error(o(363));c=$g(c,f);var T=Ae(c,y,E).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(c,f){var y=f._getVersion;y=y(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,y]:c.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(c,f){var y=Lt;try{return Lt=c,f()}finally{Lt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,y,E){var T=f.current,R=gi(),G=co(T);return y=p4(y),f.context===null?f.context=y:f.pendingContext=y,f=Es(R,G),f.payload={element:c},E=E===void 0?null:E,E!==null&&(f.callback=E),ao(T,f),c=fr(T,G,R),c!==null&&ud(c,T,G),G},t};HA.exports=Gz;var Wz=HA.exports;const jz=L0(Wz),Y_={},Xz=n=>void Object.assign(Y_,n);function $z(n,e){function t(h,{args:d=[],attach:p,...m},g){let S=`${h[0].toUpperCase()}${h.slice(1)}`,w;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;w=fu(v,{type:h,root:g,attach:p,primitive:!0})}else{const v=Y_[S];if(!v)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");w=fu(new v(...d),{type:h,root:g,attach:p,memoizedProps:{args:d}})}return w.__r3f.attach===void 0&&(w instanceof St?w.__r3f.attach="geometry":w instanceof Jn&&(w.__r3f.attach="material")),S!=="inject"&&mv(w,m),w}function i(h,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?pv(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(g=h.__r3f)==null||g.objects.push(d),d.__r3f||fu(d,{}),d.__r3f.parent=h,O3(d),hu(d)}}function r(h,d,p){let m=!1;if(d){var g,S;if((g=d.__r3f)!=null&&g.attach)pv(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const w=h.children.filter(x=>x!==d),v=w.indexOf(p);h.children=[...w.slice(0,v),d,...w.slice(v)],m=!0}m||(S=h.__r3f)==null||S.objects.push(d),d.__r3f||fu(d,{}),d.__r3f.parent=h,O3(d),hu(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,g,S;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(C=>C!==d)),(g=d.__r3f)!=null&&g.attach)i5(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var w;h.remove(d),(w=d.__r3f)!=null&&w.root&&eV(d.__r3f.root,d)}const x=(S=d.__r3f)==null?void 0:S.primitive,_=p===void 0?d.dispose!==null&&!x:p;if(!x){var v;s((v=d.__r3f)==null?void 0:v.objects,d,_),s(d.children,d,_)}delete d.__r3f,_&&d.dispose&&d.type!=="Scene"&&L3.unstable_scheduleCallback(L3.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),hu(h)}}function a(h,d,p,m){var g;const S=(g=h.__r3f)==null?void 0:g.parent;if(!S)return;const w=t(d,p,h.__r3f.root);if(h.children){for(const v of h.children)v.__r3f&&i(w,v);h.children=h.children.filter(v=>!v.__r3f)}h.__r3f.objects.forEach(v=>i(w,v)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),i(S,w),w.raycast&&w.__r3f.eventCount&&w.__r3f.root.getState().internal.interaction.push(w),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=w,v.ref&&(typeof v.ref=="function"?v.ref(w):v.ref.current=w))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:jz({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var g;if(((g=h==null?void 0:h.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:w=[],children:v,...x}=m,{args:_=[],children:C,...A}=p;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((L,O)=>L!==_[O]))return[!0];const P=KA(h,x,A,!0);return P.changes.length?[!1,P]:null}},commitUpdate(h,[d,p],m,g,S,w){d?a(h,m,S,w):mv(h,p)},commitMount(h,d,p,m){var g;const S=(g=h.__r3f)!=null?g:{};h.raycast&&S.handlers&&S.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>fu(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&i5(m,h,p),h.isObject3D&&(h.visible=!1),hu(h)},unhideInstance(h,d){var p;const{attach:m,parent:g}=(p=h.__r3f)!=null?p:{};m&&g&&pv(g,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),hu(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Pu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:mv}}var QM,e5;const dv=n=>"colorSpace"in n||"outputColorSpace"in n,jA=()=>{var n;return(n=Y_.ColorManagement)!=null?n:null},XA=n=>n&&n.isOrthographicCamera,Yz=n=>n&&n.hasOwnProperty("current"),Wh=typeof window<"u"&&((QM=window.document)!=null&&QM.createElement||((e5=window.navigator)==null?void 0:e5.product)==="ReactNative")?$.useLayoutEffect:$.useEffect;function $A(n){const e=$.useRef(n);return Wh(()=>void(e.current=n),[n]),e}function qz({set:n}){return Wh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class YA extends $.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}YA.getDerivedStateFromError=()=>({error:!0});const qA="__default",t5=new Map,Zz=n=>n&&!!n.memoized&&!!n.changes;function ZA(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const ef=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Kz(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function fu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function I3(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const n5=/-\d+$/;function pv(n,e,t){if(Qt.str(t)){if(n5.test(t)){const s=t.replace(n5,""),{target:o,key:a}=I3(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=I3(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function i5(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=I3(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function KA(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(r),m=[];if(u){const S=Object.keys(l);for(let w=0;w<S.length;w++)r.hasOwnProperty(S[w])||p.unshift([S[w],qA+"remove"])}p.forEach(([S,w])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&S==="object"||Qt.equ(w,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,w,!0,[]]);let x=[];S.includes("-")&&(x=S.split("-")),m.push([S,w,!1,x]);for(const _ in r){const C=r[_];_.startsWith(`${S}-`)&&m.push([_,C,!1,_.split("-")])}});const g={...r};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function mv(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=Zz(e)?e:KA(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,g,S,w]=u[p];if(dv(n)){const C="srgb",A="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?C:A):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?C:A)}let v=n,x=v[m];if(w.length&&(x=w.reduce((_,C)=>_[C],n),!(x&&x.set))){const[_,...C]=w.reverse();v=C.reverse().reduce((A,P)=>A[P],n),m=_}if(g===qA+"remove")if(v.constructor){let _=t5.get(v.constructor);_||(_=new v.constructor,t5.set(v.constructor,_)),g=_[m]}else g=0;if(S)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Qa)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){const _=x instanceof $e;!_&&x.setScalar?x.setScalar(g):x instanceof Qa&&g instanceof Qa?x.mask=g.mask:x.set(g),!jA()&&!a.linear&&_&&x.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof gn&&v[m].format===Di&&v[m].type===ps){const _=v[m];dv(_)&&dv(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}hu(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&O3(n),n}function hu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function O3(n){n.onUpdate==null||n.onUpdate(n)}function Jz(n,e){n.manual||(XA(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Kp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Qz(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Pu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Pu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Pu.ContinuousEventPriority;default:return Pu.DefaultEventPriority}}function JA(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function eV(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{JA(t.capturedMap,e,i,r)})}function tV(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,u){const h=n.getState(),d=new Set,p=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let v=0;v<m.length;v++){const x=ef(m[v]);x&&(x.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function g(v){const x=ef(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var _;x.events.compute==null||x.events.compute(l,x,(_=x.previousRoot)==null?void 0:_.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let S=m.flatMap(g).sort((v,x)=>{const _=ef(v.object),C=ef(x.object);return!_||!C?v.distance-x.distance:C.events.priority-_.events.priority||v.distance-x.distance}).filter(v=>{const x=Kp(v);return d.has(x)?!1:(d.add(x),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const v of S){let x=v.object;for(;x;){var w;(w=x.__r3f)!=null&&w.eventCount&&p.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let v of h.internal.capturedMap.get(l.pointerId).values())d.has(Kp(v.intersection))||p.push(v.intersection);return p}function r(l,u,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const S=ef(g.object)||p,{raycaster:w,pointer:v,camera:x,internal:_}=S,C=new k(v.x,v.y,0).unproject(x),A=I=>{var F,Z;return(F=(Z=_.capturedMap.get(I))==null?void 0:Z.has(g.eventObject))!=null?F:!1},P=I=>{const F={intersection:g,target:u.target};_.capturedMap.has(I)?_.capturedMap.get(I).set(g.eventObject,F):_.capturedMap.set(I,new Map([[g.eventObject,F]])),u.target.setPointerCapture(I)},L=I=>{const F=_.capturedMap.get(I);F&&JA(_.capturedMap,g.eventObject,F,I)};let O={};for(let I in u){let F=u[I];typeof F!="function"&&(O[I]=F)}let b={...g,...O,pointer:v,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:C,ray:w.ray,camera:x,stopPropagation(){const I="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!I||I.has(g.eventObject))&&(b.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(F=>F.eventObject===g.eventObject))){const F=l.slice(0,l.indexOf(g));s([...F,g])}},target:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:L},nativeEvent:u};if(d(b),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Kp(h)),p!=null&&p.eventCount){const g={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let h=0;h<u.length;h++){const d=u[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=i(h,m?t:void 0),v=g?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=w.map(_=>_.eventObject)),g&&!w.length&&v<=2&&(o(h,p.interaction),d&&d(h)),m&&s(w);function x(_){const C=_.eventObject,A=C.__r3f,P=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=Kp(_),O=p.hovered.get(L);O?O.stopped&&_.stopPropagation():(p.hovered.set(L,_),P.onPointerOver==null||P.onPointerOver(_),P.onPointerEnter==null||P.onPointerEnter(_))}P.onPointerMove==null||P.onPointerMove(_)}else{const L=P[l];L?(!g||p.initialHits.includes(C))&&(o(h,p.interaction.filter(O=>!p.initialHits.includes(O))),L(_)):g&&p.initialHits.includes(C)&&o(h,p.interaction.filter(O=>!p.initialHits.includes(O)))}}r(w,h,v,x)}}return{handlePointer:a}}const QA=n=>!!(n!=null&&n.render),eb=$.createContext(null),nV=(n,e)=>{const t=Hz((a,l)=>{const u=new k,h=new k,d=new k;function p(v=l().camera,x=h,_=l().size){const{width:C,height:A,top:P,left:L}=_,O=C/A;x instanceof k?d.copy(x):d.set(...x);const b=v.getWorldPosition(u).distanceTo(d);if(XA(v))return{width:C/v.zoom,height:A/v.zoom,top:P,left:L,factor:1,distance:b,aspect:O};{const I=v.fov*Math.PI/180,F=2*Math.tan(I/2)*b,Z=F*(C/A);return{width:Z,height:F,top:P,left:L,factor:C/Z,distance:b,aspect:O}}}let m;const g=v=>a(x=>({performance:{...x.performance,current:v}})),S=new _e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new W_,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,_,C,A)=>{const P=l().camera,L={width:v,height:x,top:C||0,left:A||0,updateStyle:_};a(O=>({size:L,viewport:{...O.viewport,...p(P,h,L)}}))},setDpr:v=>a(x=>{const _=ZA(v);return{viewport:{...x.viewport,dpr:_,initialDpr:x.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:$.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,_)=>{const C=l().internal;return C.priority=C.priority+(x>0?1:0),C.subscribers.push({ref:v,priority:x,store:_}),C.subscribers=C.subscribers.sort((A,P)=>A.priority-P.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(x>0?1:0),A.subscribers=A.subscribers.filter(P=>P.ref!==v))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:d}=t.getState();if(l!==r||u.dpr!==s){var p;r=l,s=u.dpr,Jz(a,l),h.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Jp,iV=new Set,rV=new Set,sV=new Set;function gv(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function tf(n,e){switch(n){case"before":return gv(iV,e);case"after":return gv(rV,e);case"tail":return gv(sV,e)}}let vv,yv;function xv(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),vv=e.internal.subscribers,Jp=0;Jp<vv.length;Jp++)yv=vv[Jp],yv.ref.current(yv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function oV(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,tf("before",l);for(const h of n.values()){var u;r=h.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=xv(l,r))}if(tf("after",l),t===0)return tf("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var h;if(!l)return n.forEach(d=>o(d.store.getState()),u);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,h,d){if(u&&tf("before",l),h)xv(l,h,d);else for(const p of n.values())xv(l,p.store.getState());u&&tf("after",l)}return{loop:s,invalidate:o,advance:a}}function tb(){const n=$.useContext(eb);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Li(n=t=>t,e){return tb()(n,e)}function q_(n,e=0){const t=tb(),i=t.getState().internal.subscribe,r=$A(n);return Wh(()=>i(r,e,t),[e,i,t]),null}const tc=new Map,{invalidate:r5,advance:s5}=oV(tc),{reconciler:s0,applyProps:ou}=$z(tc,Qz),au={objects:"shallow",strict:!1},aV=(n,e)=>{const t=typeof n=="function"?n(e):n;return QA(t)?t:new T_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function lV(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function uV(n){const e=tc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||nV(r5,s5),o=t||s0.createContainer(s,Pu.ConcurrentRoot,null,!1,null,"",r,null);e||tc.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:d,size:p,scene:m,events:g,onCreated:S,shadows:w=!1,linear:v=!1,flat:x=!1,legacy:_=!1,orthographic:C=!1,frameloop:A="always",dpr:P=[1,2],performance:L,raycaster:O,camera:b,onPointerMissed:I}=h,F=s.getState(),Z=F.gl;F.gl||F.set({gl:Z=aV(d,n)});let j=F.raycaster;j||F.set({raycaster:j=new BA});const{params:D,...z}=O||{};if(Qt.equ(z,j,au)||ou(j,{...z}),Qt.equ(D,j.params,au)||ou(j,{params:{...j.params,...D}}),!F.camera||F.camera===u&&!Qt.equ(u,b,au)){u=b;const J=b instanceof kh,Se=J?b:C?new Wo(0,0,0,0,.1,1e3):new En(75,0,.1,1e3);J||(Se.position.z=5,b&&ou(Se,b),!F.camera&&!(b!=null&&b.rotation)&&Se.lookAt(0,0,0)),F.set({camera:Se})}if(!F.scene){let J;m instanceof r0?J=m:(J=new r0,m&&ou(J,m)),F.set({scene:fu(J)})}if(!F.xr){var Q;const J=(Ee,Oe)=>{const ze=s.getState();ze.frameloop!=="never"&&s5(Ee,!0,ze,Oe)},Se=()=>{const Ee=s.getState();Ee.gl.xr.enabled=Ee.gl.xr.isPresenting,Ee.gl.xr.setAnimationLoop(Ee.gl.xr.isPresenting?J:null),Ee.gl.xr.isPresenting||r5(Ee)},we={connect(){const Ee=s.getState().gl;Ee.xr.addEventListener("sessionstart",Se),Ee.xr.addEventListener("sessionend",Se)},disconnect(){const Ee=s.getState().gl;Ee.xr.removeEventListener("sessionstart",Se),Ee.xr.removeEventListener("sessionend",Se)}};typeof((Q=Z.xr)==null?void 0:Q.addEventListener)=="function"&&we.connect(),F.set({xr:we})}if(Z.shadowMap){const J=Z.shadowMap.enabled,Se=Z.shadowMap.type;if(Z.shadowMap.enabled=!!w,Qt.boo(w))Z.shadowMap.type=bf;else if(Qt.str(w)){var te;const we={basic:F7,percentage:q0,soft:bf,variance:Nr};Z.shadowMap.type=(te=we[w])!=null?te:bf}else Qt.obj(w)&&Object.assign(Z.shadowMap,w);(J!==Z.shadowMap.enabled||Se!==Z.shadowMap.type)&&(Z.shadowMap.needsUpdate=!0)}const U=jA();U&&("enabled"in U?U.enabled=!_:"legacyMode"in U&&(U.legacyMode=_)),ou(Z,{outputEncoding:v?3e3:3001,toneMapping:x?ds:a_}),F.legacy!==_&&F.set(()=>({legacy:_})),F.linear!==v&&F.set(()=>({linear:v})),F.flat!==x&&F.set(()=>({flat:x})),d&&!Qt.fun(d)&&!QA(d)&&!Qt.equ(d,Z,au)&&ou(Z,d),g&&!F.events.handlers&&F.set({events:g(s)});const W=lV(n,p);return Qt.equ(W,F.size,au)||F.setSize(W.width,W.height,W.updateStyle,W.top,W.left),P&&F.viewport.dpr!==ZA(P)&&F.setDpr(P),F.frameloop!==A&&F.setFrameloop(A),F.onPointerMissed||F.set({onPointerMissed:I}),L&&!Qt.equ(L,F.performance,au)&&F.set(J=>({performance:{...J.performance,...L}})),a=S,l=!0,this},render(h){return l||this.configure(),s0.updateContainer($.createElement(cV,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){nb(n)}}}function cV({store:n,children:e,onCreated:t,rootElement:i}){return Wh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),$.createElement(eb.Provider,{value:n},e)}function nb(n,e){const t=tc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),s0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Kz(r),tc.delete(n),e&&e(n)}catch{}},500)})}}s0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:$.version});function o0(){return o0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o0.apply(this,arguments)}function D3(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}D3.debounce=D3;var fV=D3;const o5=L0(fV);function hV(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=$.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=$.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=$.useRef(!1);$.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=$.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:_,top:C,width:A,height:P,bottom:L,right:O,x:b,y:I}=l.current.element.getBoundingClientRect(),F={left:_,top:C,width:A,height:P,bottom:L,right:O,x:b,y:I};l.current.element instanceof HTMLElement&&r&&(F.height=l.current.element.offsetHeight,F.width=l.current.element.offsetWidth),Object.freeze(F),d.current&&!gV(l.current.lastBounds,F)&&a(l.current.lastBounds=F)};return[x,h?o5(x,h):x,u?o5(x,u):x]},[a,r,u,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function w(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=x=>{!x||x===l.current.element||(S(),l.current.element=x,l.current.scrollContainers=ib(x),w())};return pV(g,!!t),dV(m),$.useEffect(()=>{S(),w()},[t,g,m]),$.useEffect(()=>S,[]),[v,o,p]}function dV(n){$.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function pV(n,e){$.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function ib(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...ib(n.parentElement)]}const mV=["x","y","top","bottom","left","right","width","height"],gV=(n,e)=>mV.every(t=>n[t]===e[t]);var vV=Object.defineProperty,yV=Object.defineProperties,xV=Object.getOwnPropertyDescriptors,a5=Object.getOwnPropertySymbols,_V=Object.prototype.hasOwnProperty,SV=Object.prototype.propertyIsEnumerable,l5=(n,e,t)=>e in n?vV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,u5=(n,e)=>{for(var t in e||(e={}))_V.call(e,t)&&l5(n,t,e[t]);if(a5)for(var t of a5(e))SV.call(e,t)&&l5(n,t,e[t]);return n},wV=(n,e)=>yV(n,xV(e));function rb(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=rb(i,e,t);if(r)return r;i=e?null:i.sibling}}function sb(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Z_=sb($.createContext(null));class ob extends $.Component{render(){return $.createElement(Z_.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:c5,ReactCurrentDispatcher:f5}=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function EV(){const n=$.useContext(Z_);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=$.useId();return $.useMemo(()=>{for(const i of[c5==null?void 0:c5.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=rb(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function MV(){var n,e;const t=EV(),[i]=$.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==Z_&&!i.has(s)&&i.set(s,(e=f5==null?void 0:f5.current)==null?void 0:e.readContext(sb(s))),r=r.return}return i}function CV(){const n=MV();return $.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>$.createElement(e,null,$.createElement(t.Provider,wV(u5({},i),{value:n.get(t)}))),e=>$.createElement(ob,u5({},e))),[n])}const _v={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function TV(n){const{handlePointer:e}=tV(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(_v).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=_v[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=_v[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const AV=$.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=TV,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:S,performance:w,raycaster:v,camera:x,scene:_,onPointerMissed:C,onCreated:A,...P},L){$.useMemo(()=>Xz(Bz),[]);const O=CV(),[b,I]=hV({scroll:!0,debounce:{scroll:50,resize:0},...i}),F=$.useRef(null),Z=$.useRef(null);$.useImperativeHandle(L,()=>F.current);const j=$A(C),[D,z]=$.useState(!1),[Q,te]=$.useState(!1);if(D)throw D;if(Q)throw Q;const U=$.useRef(null);Wh(()=>{const q=F.current;I.width>0&&I.height>0&&q&&(U.current||(U.current=uV(q)),U.current.configure({gl:s,events:o,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:S,performance:w,raycaster:v,camera:x,scene:_,size:I,onPointerMissed:(...W)=>j.current==null?void 0:j.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?Yz(a)?a.current:a:Z.current),l&&W.setEvents({compute:(J,Se)=>{const we=J[l+"X"],Ee=J[l+"Y"];Se.pointer.set(we/Se.size.width*2-1,-(Ee/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),A==null||A(W)}}),U.current.render($.createElement(O,null,$.createElement(YA,{set:te},$.createElement($.Suspense,{fallback:$.createElement(qz,{set:z})},e)))))}),$.useEffect(()=>{const q=F.current;if(q)return()=>nb(q)},[]);const X=a?"none":"auto";return $.createElement("div",o0({ref:Z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r}},P),$.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},$.createElement("canvas",{ref:F,style:{display:"block"}},t)))}),bV=$.forwardRef(function(e,t){return $.createElement(ob,null,$.createElement(AV,o0({},e,{ref:t})))});function N3(){return N3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},N3.apply(this,arguments)}var PV=Object.defineProperty,RV=(n,e,t)=>e in n?PV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ht=(n,e,t)=>(RV(n,typeof e!="symbol"?e+"":e,t),t);const h5=(n,e)=>(n%e+e)%e;let LV=class extends xs{constructor(e,t){super(),ht(this,"object"),ht(this,"domElement"),ht(this,"enabled",!0),ht(this,"target",new k),ht(this,"minDistance",0),ht(this,"maxDistance",1/0),ht(this,"minZoom",0),ht(this,"maxZoom",1/0),ht(this,"minPolarAngle",0),ht(this,"maxPolarAngle",Math.PI),ht(this,"minAzimuthAngle",-1/0),ht(this,"maxAzimuthAngle",1/0),ht(this,"enableDamping",!1),ht(this,"dampingFactor",.05),ht(this,"enableZoom",!0),ht(this,"zoomSpeed",1),ht(this,"enableRotate",!0),ht(this,"rotateSpeed",1),ht(this,"enablePan",!0),ht(this,"panSpeed",1),ht(this,"screenSpacePanning",!0),ht(this,"keyPanSpeed",7),ht(this,"autoRotate",!1),ht(this,"autoRotateSpeed",2),ht(this,"reverseOrbit",!1),ht(this,"reverseHorizontalOrbit",!1),ht(this,"reverseVerticalOrbit",!1),ht(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ht(this,"mouseButtons",{LEFT:Oa.ROTATE,MIDDLE:Oa.DOLLY,RIGHT:Oa.PAN}),ht(this,"touches",{ONE:Da.ROTATE,TWO:Da.DOLLY_PAN}),ht(this,"target0"),ht(this,"position0"),ht(this,"zoom0"),ht(this,"_domElementKeyEvents",null),ht(this,"getPolarAngle"),ht(this,"getAzimuthalAngle"),ht(this,"setPolarAngle"),ht(this,"setAzimuthalAngle"),ht(this,"getDistance"),ht(this,"listenToKeyEvents"),ht(this,"stopListenToKeyEvents"),ht(this,"saveState"),ht(this,"reset"),ht(this,"update"),ht(this,"connect"),ht(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=Y=>{let pe=h5(Y,2*Math.PI),be=h.phi;be<0&&(be+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let De=Math.abs(pe-be);2*Math.PI-De<De&&(pe<be?pe+=2*Math.PI:be+=2*Math.PI),d.phi=pe-be,i.update()},this.setAzimuthalAngle=Y=>{let pe=h5(Y,2*Math.PI),be=h.theta;be<0&&(be+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let De=Math.abs(pe-be);2*Math.PI-De<De&&(pe<be?pe+=2*Math.PI:be+=2*Math.PI),d.theta=pe-be,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",N),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",N),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new k,pe=new k(0,1,0),be=new hi().setFromUnitVectors(e.up,pe),De=be.clone().invert(),Ve=new k,ot=new hi,Tt=2*Math.PI;return function(){const He=i.object.position;be.setFromUnitVectors(e.up,pe),De.copy(be).invert(),Y.copy(He).sub(i.target),Y.applyQuaternion(be),h.setFromVector3(Y),i.autoRotate&&l===a.NONE&&Z(I()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let le=i.minAzimuthAngle,Le=i.maxAzimuthAngle;return isFinite(le)&&isFinite(Le)&&(le<-Math.PI?le+=Tt:le>Math.PI&&(le-=Tt),Le<-Math.PI?Le+=Tt:Le>Math.PI&&(Le-=Tt),le<=Le?h.theta=Math.max(le,Math.min(Le,h.theta)):h.theta=h.theta>(le+Le)/2?Math.max(le,h.theta):Math.min(Le,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(i.minDistance,Math.min(i.maxDistance,h.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),Y.setFromSpherical(h),Y.applyQuaternion(De),He.copy(i.target).add(Y),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,g||Ve.distanceToSquared(i.object.position)>u||8*(1-ot.dot(i.object.quaternion))>u?(i.dispatchEvent(r),Ve.copy(i.object.position),ot.copy(i.object.quaternion),g=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ae),i.domElement.addEventListener("pointerdown",Re),i.domElement.addEventListener("pointercancel",Be),i.domElement.addEventListener("wheel",V)},this.dispose=()=>{var Y,pe,be,De,Ve,ot;(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Ae),(pe=i.domElement)==null||pe.removeEventListener("pointerdown",Re),(be=i.domElement)==null||be.removeEventListener("pointercancel",Be),(De=i.domElement)==null||De.removeEventListener("wheel",V),(Ve=i.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",Ce),(ot=i.domElement)==null||ot.ownerDocument.removeEventListener("pointerup",Pe),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",N)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new R3,d=new R3;let p=1;const m=new k;let g=!1;const S=new _e,w=new _e,v=new _e,x=new _e,_=new _e,C=new _e,A=new _e,P=new _e,L=new _e,O=[],b={};function I(){return 2*Math.PI/60/60*i.autoRotateSpeed}function F(){return Math.pow(.95,i.zoomSpeed)}function Z(Y){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Y:d.theta-=Y}function j(Y){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Y:d.phi-=Y}const D=(()=>{const Y=new k;return function(be,De){Y.setFromMatrixColumn(De,0),Y.multiplyScalar(-be),m.add(Y)}})(),z=(()=>{const Y=new k;return function(be,De){i.screenSpacePanning===!0?Y.setFromMatrixColumn(De,1):(Y.setFromMatrixColumn(De,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(be),m.add(Y)}})(),Q=(()=>{const Y=new k;return function(be,De){const Ve=i.domElement;if(Ve&&i.object instanceof En&&i.object.isPerspectiveCamera){const ot=i.object.position;Y.copy(ot).sub(i.target);let Tt=Y.length();Tt*=Math.tan(i.object.fov/2*Math.PI/180),D(2*be*Tt/Ve.clientHeight,i.object.matrix),z(2*De*Tt/Ve.clientHeight,i.object.matrix)}else Ve&&i.object instanceof Wo&&i.object.isOrthographicCamera?(D(be*(i.object.right-i.object.left)/i.object.zoom/Ve.clientWidth,i.object.matrix),z(De*(i.object.top-i.object.bottom)/i.object.zoom/Ve.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function te(Y){i.object instanceof En&&i.object.isPerspectiveCamera?p/=Y:i.object instanceof Wo&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Y)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function U(Y){i.object instanceof En&&i.object.isPerspectiveCamera?p*=Y:i.object instanceof Wo&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Y)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(Y){S.set(Y.clientX,Y.clientY)}function q(Y){A.set(Y.clientX,Y.clientY)}function W(Y){x.set(Y.clientX,Y.clientY)}function J(Y){w.set(Y.clientX,Y.clientY),v.subVectors(w,S).multiplyScalar(i.rotateSpeed);const pe=i.domElement;pe&&(Z(2*Math.PI*v.x/pe.clientHeight),j(2*Math.PI*v.y/pe.clientHeight)),S.copy(w),i.update()}function Se(Y){P.set(Y.clientX,Y.clientY),L.subVectors(P,A),L.y>0?te(F()):L.y<0&&U(F()),A.copy(P),i.update()}function we(Y){_.set(Y.clientX,Y.clientY),C.subVectors(_,x).multiplyScalar(i.panSpeed),Q(C.x,C.y),x.copy(_),i.update()}function Ee(Y){Y.deltaY<0?U(F()):Y.deltaY>0&&te(F()),i.update()}function Oe(Y){let pe=!1;switch(Y.code){case i.keys.UP:Q(0,i.keyPanSpeed),pe=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),pe=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),pe=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),pe=!0;break}pe&&(Y.preventDefault(),i.update())}function ze(){if(O.length==1)S.set(O[0].pageX,O[0].pageY);else{const Y=.5*(O[0].pageX+O[1].pageX),pe=.5*(O[0].pageY+O[1].pageY);S.set(Y,pe)}}function Ke(){if(O.length==1)x.set(O[0].pageX,O[0].pageY);else{const Y=.5*(O[0].pageX+O[1].pageX),pe=.5*(O[0].pageY+O[1].pageY);x.set(Y,pe)}}function at(){const Y=O[0].pageX-O[1].pageX,pe=O[0].pageY-O[1].pageY,be=Math.sqrt(Y*Y+pe*pe);A.set(0,be)}function ye(){i.enableZoom&&at(),i.enablePan&&Ke()}function de(){i.enableZoom&&at(),i.enableRotate&&ze()}function H(Y){if(O.length==1)w.set(Y.pageX,Y.pageY);else{const be=ce(Y),De=.5*(Y.pageX+be.x),Ve=.5*(Y.pageY+be.y);w.set(De,Ve)}v.subVectors(w,S).multiplyScalar(i.rotateSpeed);const pe=i.domElement;pe&&(Z(2*Math.PI*v.x/pe.clientHeight),j(2*Math.PI*v.y/pe.clientHeight)),S.copy(w)}function fe(Y){if(O.length==1)_.set(Y.pageX,Y.pageY);else{const pe=ce(Y),be=.5*(Y.pageX+pe.x),De=.5*(Y.pageY+pe.y);_.set(be,De)}C.subVectors(_,x).multiplyScalar(i.panSpeed),Q(C.x,C.y),x.copy(_)}function re(Y){const pe=ce(Y),be=Y.pageX-pe.x,De=Y.pageY-pe.y,Ve=Math.sqrt(be*be+De*De);P.set(0,Ve),L.set(0,Math.pow(P.y/A.y,i.zoomSpeed)),te(L.y),A.copy(P)}function xe(Y){i.enableZoom&&re(Y),i.enablePan&&fe(Y)}function ue(Y){i.enableZoom&&re(Y),i.enableRotate&&H(Y)}function Re(Y){var pe,be;i.enabled!==!1&&(O.length===0&&((pe=i.domElement)==null||pe.ownerDocument.addEventListener("pointermove",Ce),(be=i.domElement)==null||be.ownerDocument.addEventListener("pointerup",Pe)),Ue(Y),Y.pointerType==="touch"?ae(Y):Me(Y))}function Ce(Y){i.enabled!==!1&&(Y.pointerType==="touch"?Ne(Y):dt(Y))}function Pe(Y){var pe,be,De;Qe(Y),O.length===0&&((pe=i.domElement)==null||pe.releasePointerCapture(Y.pointerId),(be=i.domElement)==null||be.ownerDocument.removeEventListener("pointermove",Ce),(De=i.domElement)==null||De.ownerDocument.removeEventListener("pointerup",Pe)),i.dispatchEvent(o),l=a.NONE}function Be(Y){Qe(Y)}function Me(Y){let pe;switch(Y.button){case 0:pe=i.mouseButtons.LEFT;break;case 1:pe=i.mouseButtons.MIDDLE;break;case 2:pe=i.mouseButtons.RIGHT;break;default:pe=-1}switch(pe){case Oa.DOLLY:if(i.enableZoom===!1)return;q(Y),l=a.DOLLY;break;case Oa.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;W(Y),l=a.PAN}else{if(i.enableRotate===!1)return;X(Y),l=a.ROTATE}break;case Oa.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;X(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;W(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function dt(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;J(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;Se(Y);break;case a.PAN:if(i.enablePan===!1)return;we(Y);break}}function V(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),Ee(Y),i.dispatchEvent(o))}function N(Y){i.enabled===!1||i.enablePan===!1||Oe(Y)}function ae(Y){switch(ke(Y),O.length){case 1:switch(i.touches.ONE){case Da.ROTATE:if(i.enableRotate===!1)return;ze(),l=a.TOUCH_ROTATE;break;case Da.PAN:if(i.enablePan===!1)return;Ke(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Da.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ye(),l=a.TOUCH_DOLLY_PAN;break;case Da.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;de(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ne(Y){switch(ke(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;H(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;fe(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xe(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ue(Y),i.update();break;default:l=a.NONE}}function Ae(Y){i.enabled!==!1&&Y.preventDefault()}function Ue(Y){O.push(Y)}function Qe(Y){delete b[Y.pointerId];for(let pe=0;pe<O.length;pe++)if(O[pe].pointerId==Y.pointerId){O.splice(pe,1);return}}function ke(Y){let pe=b[Y.pointerId];pe===void 0&&(pe=new _e,b[Y.pointerId]=pe),pe.set(Y.pageX,Y.pageY)}function ce(Y){const pe=Y.pointerId===O[0].pointerId?O[1]:O[0];return b[pe.pointerId]}t!==void 0&&this.connect(t),this.update()}};const IV=$.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const d=Li(P=>P.invalidate),p=Li(P=>P.camera),m=Li(P=>P.gl),g=Li(P=>P.events),S=Li(P=>P.setEvents),w=Li(P=>P.set),v=Li(P=>P.get),x=Li(P=>P.performance),_=e||p,C=i||g.connected||m.domElement,A=$.useMemo(()=>new LV(_),[_]);return q_(()=>{A.enabled&&A.update()},-1),$.useEffect(()=>(s&&A.connect(s===!0?C:s),A.connect(C),()=>void A.dispose()),[s,C,t,A,d]),$.useEffect(()=>{const P=b=>{d(),t&&x.regress(),o&&o(b)},L=b=>{a&&a(b)},O=b=>{l&&l(b)};return A.addEventListener("change",P),A.addEventListener("start",L),A.addEventListener("end",O),()=>{A.removeEventListener("start",L),A.removeEventListener("end",O),A.removeEventListener("change",P)}},[o,a,l,A,d,S]),$.useEffect(()=>{if(n){const P=v().controls;return w({controls:A}),()=>w({controls:P})}},[n,A]),$.createElement("primitive",N3({ref:h,object:A,enableDamping:r},u))});function OV({pixelated:n}){const e=Li(o=>o.gl),t=Li(o=>o.internal.active),i=Li(o=>o.performance.current),r=Li(o=>o.viewport.initialDpr),s=Li(o=>o.setDpr);return $.useEffect(()=>{const o=e.domElement;return()=>{t&&s(r),n&&o&&(o.style.imageRendering="auto")}},[]),$.useEffect(()=>{s(i*r),n&&e.domElement&&(e.domElement.style.imageRendering=i===1?"auto":"pixelated")},[i]),null}const ab=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),M1=$.createContext({}),K_=$.createContext(null),C1=typeof document<"u",DV=C1?$.useLayoutEffect:$.useEffect,lb=$.createContext({strict:!1});function NV(n,e,t,i){const{visualElement:r}=$.useContext(M1),s=$.useContext(lb),o=$.useContext(K_),a=$.useContext(ab).reducedMotion,l=$.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;$.useInsertionEffect(()=>{u&&u.update(t,o)});const h=$.useRef(!!window.HandoffAppearAnimations);return DV(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),$.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)}),u}function Ru(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UV(n,e,t){return $.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ru(t)&&(t.current=i))},[e])}function Sh(n){return typeof n=="string"||Array.isArray(n)}function T1(n){return typeof n=="object"&&typeof n.start=="function"}const J_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q_=["initial",...J_];function A1(n){return T1(n.animate)||Q_.some(e=>Sh(n[e]))}function ub(n){return!!(A1(n)||n.variants)}function kV(n,e){if(A1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Sh(t)?t:void 0,animate:Sh(i)?i:void 0}}return n.inherit!==!1?e:{}}function FV(n){const{initial:e,animate:t}=kV(n,$.useContext(M1));return $.useMemo(()=>({initial:e,animate:t}),[d5(e),d5(t)])}function d5(n){return Array.isArray(n)?n.join(" "):n}const p5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wh={};for(const n in p5)wh[n]={isEnabled:e=>p5[n].some(t=>!!e[t])};function BV(n){for(const e in n)wh[e]={...wh[e],...n[e]}}const cb=$.createContext({}),fb=$.createContext({}),zV=Symbol.for("motionComponentSymbol");function hb({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&BV(n);function s(a,l){let u;const h={...$.useContext(ab),...a,layoutId:VV(a)},{isStatic:d}=h,p=FV(a),m=i(a,d);if(!d&&C1){p.visualElement=NV(r,m,h,e);const g=$.useContext(fb),S=$.useContext(lb).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,S,n,g))}return $.createElement(M1.Provider,{value:p},u&&p.visualElement?$.createElement(u,{visualElement:p.visualElement,...h}):null,t(r,a,UV(m,p.visualElement,l),m,d,p.visualElement))}const o=$.forwardRef(s);return o[zV]=r,o}function VV({layoutId:n}){const e=$.useContext(cb).id;return e&&n!==void 0?e+"-"+n:n}function HV(n){function e(i,r={}){return hb(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const GV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eS(n){return typeof n!="string"||n.includes("-")?!1:!!(GV.indexOf(n)>-1||/[A-Z]/.test(n))}const a0={};function WV(n){Object.assign(a0,n)}const jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vl=new Set(jh);function db(n,{layout:e,layoutId:t}){return vl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!a0[n]||n==="opacity")}const Rn=n=>!!(n&&n.getVelocity),jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XV=jh.length;function $V(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<XV;o++){const a=jh[o];if(n[a]!==void 0){const l=jV[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const pb=n=>e=>typeof e=="string"&&e.startsWith(n),mb=pb("--"),U3=pb("var(--"),YV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qV=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ea=(n,e,t)=>Math.min(Math.max(t,n),e),yl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Df={...yl,transform:n=>ea(0,1,n)},Qp={...yl,default:1},Nf=n=>Math.round(n*1e5)/1e5,b1=/(-)?([\d]*\.?[\d])+/g,gb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ZV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xh(n){return typeof n=="string"}const $h=n=>({test:e=>Xh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),So=$h("deg"),gs=$h("%"),st=$h("px"),KV=$h("vh"),JV=$h("vw"),m5={...gs,parse:n=>gs.parse(n)/100,transform:n=>gs.transform(n*100)},g5={...yl,transform:Math.round},vb={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:Qp,scaleX:Qp,scaleY:Qp,scaleZ:Qp,skew:So,skewX:So,skewY:So,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Df,originX:m5,originY:m5,originZ:st,zIndex:g5,fillOpacity:Df,strokeOpacity:Df,numOctaves:g5};function tS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,h=!0;for(const d in e){const p=e[d];if(mb(d)){s[d]=p;continue}const m=vb[d],g=qV(p,m);if(vl.has(d)){if(l=!0,o[d]=g,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,a[d]=g):r[d]=g}if(e.transform||(l||i?r.transform=$V(n.transform,t,h,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yb(n,e,t){for(const i in e)!Rn(e[i])&&!db(i,t)&&(n[i]=e[i])}function QV({transformTemplate:n},e,t){return $.useMemo(()=>{const i=nS();return tS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function eH(n,e,t){const i=n.style||{},r={};return yb(r,i,n),Object.assign(r,QV(n,e,t)),n.transformValues?n.transformValues(r):r}function tH(n,e,t){const i={},r=eH(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const nH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function l0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||nH.has(n)}let xb=n=>!l0(n);function iH(n){n&&(xb=e=>e.startsWith("on")?!l0(e):n(e))}try{iH(require("@emotion/is-prop-valid").default)}catch{}function _b(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(xb(r)||t===!0&&l0(r)||!e&&!l0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function v5(n,e,t){return typeof n=="string"?n:st.transform(e+t*n)}function rH(n,e,t){const i=v5(e,n.x,n.width),r=v5(t,n.y,n.height);return`${i} ${r}`}const sH={offset:"stroke-dashoffset",array:"stroke-dasharray"},oH={offset:"strokeDashoffset",array:"strokeDasharray"};function aH(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?sH:oH;n[s.offset]=st.transform(-i);const o=st.transform(e),a=st.transform(t);n[s.array]=`${o} ${a}`}function iS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,d,p){if(tS(n,u,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:g,dimensions:S}=n;m.transform&&(S&&(g.transform=m.transform),delete m.transform),S&&(r!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=rH(S,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&aH(m,o,a,l,!1)}const Sb=()=>({...nS(),attrs:{}}),rS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function lH(n,e,t,i){const r=$.useMemo(()=>{const s=Sb();return iS(s,e,{enableHardwareAcceleration:!1},rS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};yb(s,n.style,n),r.style={...s,...r.style}}return r}function uH(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(eS(t)?lH:tH)(i,s,o,t),h={..._b(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=$.useMemo(()=>Rn(d)?d.get():d,[d]);return $.createElement(t,{...h,children:p})}}const sS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function wb(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const Eb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mb(n,e,t,i){wb(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Eb.has(r)?r:sS(r),e.attrs[r])}function oS(n,e){const{style:t}=n,i={};for(const r in t)(Rn(t[r])||e.style&&Rn(e.style[r])||db(r,n))&&(i[r]=t[r]);return i}function Cb(n,e){const t=oS(n,e);for(const i in n)if(Rn(n[i])||Rn(e[i])){const r=jh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function aS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function cH(n){const e=$.useRef(null);return e.current===null&&(e.current=n()),e.current}const u0=n=>Array.isArray(n),fH=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),hH=n=>u0(n)?n[n.length-1]||0:n;function Uf(n){const e=Rn(n)?n.get():n;return fH(e)?e.toValue():e}function dH({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:pH(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const lS=n=>(e,t)=>{const i=$.useContext(M1),r=$.useContext(K_),s=()=>dH(n,e,i,r);return t?s():cH(s)};function pH(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Uf(s[p]);let{initial:o,animate:a}=n;const l=A1(n),u=ub(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!T1(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const g=aS(n,m);if(!g)return;const{transitionEnd:S,transition:w,...v}=g;for(const x in v){let _=v[x];if(Array.isArray(_)){const C=h?_.length-1:0;_=_[C]}_!==null&&(r[x]=_)}for(const x in S)r[x]=S[x]}),r}const mn=n=>n;class y5{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function mH(n){let e=new y5,t=new y5,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const d=h&&r,p=d?e:t;return u&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let u=0;u<i;u++){const h=e.order[u];h(l),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const em=["prepare","read","update","preRender","render","postRender"],gH=40;function vH(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=em.reduce((d,p)=>(d[p]=mH(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,gH),1),r.timestamp=d,r.isProcessing=!0,em.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:em.reduce((d,p)=>{const m=s[p];return d[p]=(g,S=!1,w=!1)=>(t||l(),m.schedule(g,S,w)),d},{}),cancel:d=>em.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:Zt,cancel:to,state:Hn,steps:Sv}=vH(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0),yH={useVisualState:lS({scrapeMotionValuesFromProps:Cb,createRenderState:Sb,onMount:(n,e,{renderState:t,latestValues:i})=>{Zt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Zt.render(()=>{iS(t,i,{enableHardwareAcceleration:!1},rS(e.tagName),n.transformTemplate),Mb(e,t)})}})},xH={useVisualState:lS({scrapeMotionValuesFromProps:oS,createRenderState:nS})};function _H(n,{forwardMotionProps:e=!1},t,i){return{...eS(n)?yH:xH,preloadedFeatures:t,useRender:uH(e),createVisualElement:i,Component:n}}function Hs(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const Tb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function P1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Ab=n=>e=>Tb(e)&&n(e,P1(e));function Hr(n,e,t,i){return Hs(n,e,Ab(t),i)}const SH=(n,e)=>t=>e(n(t)),js=(...n)=>n.reduce(SH);function bb(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const x5=bb("dragHorizontal"),_5=bb("dragVertical");function Pb(n){let e=!1;if(n==="y")e=_5();else if(n==="x")e=x5();else{const t=x5(),i=_5();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function uS(){const n=Pb(!0);return n?(n(),!1):!0}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function S5(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||uS())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&Zt.update(()=>a[i](s,o))};return Hr(n.current,t,r,{passive:!n.getProps()[i]})}class wH extends fa{mount(){this.unmount=js(S5(this.node,!0),S5(this.node,!1))}unmount(){}}class EH extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=js(Hs(this.node.current,"focus",()=>this.onFocus()),Hs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Rb=(n,e)=>e?n===e?!0:Rb(n,e.parentElement):!1;function wv(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,P1(t))}class MH extends fa{constructor(){super(...arguments),this.removeStartListeners=mn,this.removeEndListeners=mn,this.removeAccessibleListeners=mn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Hr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h}=this.node.getProps();Zt.update(()=>{Rb(this.node.current,a.target)?u&&u(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Hr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=js(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||wv("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Zt.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=Hs(this.node.current,"keyup",o),wv("down",(a,l)=>{this.startPress(a,l)})},t=Hs(this.node.current,"keydown",e),i=()=>{this.isPressing&&wv("cancel",(s,o)=>this.cancelPress(s,o))},r=Hs(this.node.current,"blur",i);this.removeAccessibleListeners=js(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Zt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Zt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Hr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Hs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=js(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const k3=new WeakMap,Ev=new WeakMap,CH=n=>{const e=k3.get(n.target);e&&e(n)},TH=n=>{n.forEach(CH)};function AH({root:n,...e}){const t=n||document;Ev.has(t)||Ev.set(t,{});const i=Ev.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(TH,{root:n,...e})),i[r]}function bH(n,e,t){const i=AH(e);return k3.set(n,t),i.observe(n),()=>{k3.delete(n),i.unobserve(n)}}const PH={some:0,all:1};class RH extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:PH[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=u?h:d;p&&p(l)};return bH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(LH(e,t))&&this.startObserver()}unmount(){}}function LH({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const IH={inView:{Feature:RH},tap:{Feature:MH},focus:{Feature:EH},hover:{Feature:wH}};function Lb(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function OH(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function DH(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function R1(n,e,t){const i=n.getProps();return aS(i,e,t!==void 0?t:i.custom,OH(n),DH(n))}const NH="framerAppearId",UH="data-"+sS(NH);let kH=mn,cS=mn;const jo=n=>n*1e3,Xs=n=>n/1e3,FH={current:!1},Ib=n=>Array.isArray(n)&&typeof n[0]=="number";function Ob(n){return!!(!n||typeof n=="string"&&Db[n]||Ib(n)||Array.isArray(n)&&n.every(Ob))}const mf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mf([0,.65,.55,1]),circOut:mf([.55,0,1,.45]),backIn:mf([.31,.01,.66,-.59]),backOut:mf([.33,1.53,.69,.99])};function Nb(n){if(n)return Ib(n)?mf(n):Array.isArray(n)?n.map(Nb):Db[n]}function BH(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const h=Nb(a);return Array.isArray(h)&&(u.easing=h),n.animate(u,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function zH(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const Ub=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,VH=1e-7,HH=12;function GH(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=Ub(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>VH&&++a<HH);return o}function Yh(n,e,t,i){if(n===e&&t===i)return mn;const r=s=>GH(s,0,1,n,t);return s=>s===0||s===1?s:Ub(r(s),e,i)}const WH=Yh(.42,0,1,1),jH=Yh(0,0,.58,1),kb=Yh(.42,0,.58,1),XH=n=>Array.isArray(n)&&typeof n[0]!="number",Fb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Bb=n=>e=>1-n(1-e),zb=n=>1-Math.sin(Math.acos(n)),fS=Bb(zb),$H=Fb(fS),Vb=Yh(.33,1.53,.69,.99),hS=Bb(Vb),YH=Fb(hS),qH=n=>(n*=2)<1?.5*hS(n):.5*(2-Math.pow(2,-10*(n-1))),ZH={linear:mn,easeIn:WH,easeInOut:kb,easeOut:jH,circIn:zb,circInOut:$H,circOut:fS,backIn:hS,backInOut:YH,backOut:Vb,anticipate:qH},w5=n=>{if(Array.isArray(n)){cS(n.length===4);const[e,t,i,r]=n;return Yh(e,t,i,r)}else if(typeof n=="string")return ZH[n];return n},dS=(n,e)=>t=>!!(Xh(t)&&ZV.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Hb=(n,e,t)=>i=>{if(!Xh(i))return i;const[r,s,o,a]=i.match(b1);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KH=n=>ea(0,255,n),Mv={...yl,transform:n=>Math.round(KH(n))},Ya={test:dS("rgb","red"),parse:Hb("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Mv.transform(n)+", "+Mv.transform(e)+", "+Mv.transform(t)+", "+Nf(Df.transform(i))+")"};function JH(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const F3={test:dS("#"),parse:JH,transform:Ya.transform},Lu={test:dS("hsl","hue"),parse:Hb("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+gs.transform(Nf(e))+", "+gs.transform(Nf(t))+", "+Nf(Df.transform(i))+")"},xi={test:n=>Ya.test(n)||F3.test(n)||Lu.test(n),parse:n=>Ya.test(n)?Ya.parse(n):Lu.test(n)?Lu.parse(n):F3.parse(n),transform:n=>Xh(n)?n:n.hasOwnProperty("red")?Ya.transform(n):Lu.transform(n)},sn=(n,e,t)=>-t*n+t*e+n;function Cv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function QH({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Cv(l,a,n+1/3),s=Cv(l,a,n),o=Cv(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Tv=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},eG=[F3,Ya,Lu],tG=n=>eG.find(e=>e.test(n));function E5(n){const e=tG(n);let t=e.parse(n);return e===Lu&&(t=QH(t)),t}const Gb=(n,e)=>{const t=E5(n),i=E5(e),r={...t};return s=>(r.red=Tv(t.red,i.red,s),r.green=Tv(t.green,i.green,s),r.blue=Tv(t.blue,i.blue,s),r.alpha=sn(t.alpha,i.alpha,s),Ya.transform(r))};function nG(n){var e,t;return isNaN(n)&&Xh(n)&&(((e=n.match(b1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(gb))===null||t===void 0?void 0:t.length)||0)>0}const Wb={regex:YV,countKey:"Vars",token:"${v}",parse:mn},jb={regex:gb,countKey:"Colors",token:"${c}",parse:xi.parse},Xb={regex:b1,countKey:"Numbers",token:"${n}",parse:yl.parse};function Av(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function c0(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Av(t,Wb),Av(t,jb),Av(t,Xb),t}function $b(n){return c0(n).values}function Yb(n){const{values:e,numColors:t,numVars:i,tokenised:r}=c0(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(Wb.token,o[l]):l<i+t?a=a.replace(jb.token,xi.transform(o[l])):a=a.replace(Xb.token,Nf(o[l]));return a}}const iG=n=>typeof n=="number"?0:n;function rG(n){const e=$b(n);return Yb(n)(e.map(iG))}const ta={test:nG,parse:$b,createTransformer:Yb,getAnimatableNone:rG},qb=(n,e)=>t=>`${t>0?e:n}`;function Zb(n,e){return typeof n=="number"?t=>sn(n,e,t):xi.test(n)?Gb(n,e):n.startsWith("var(")?qb(n,e):Jb(n,e)}const Kb=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>Zb(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},sG=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Zb(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},Jb=(n,e)=>{const t=ta.createTransformer(e),i=c0(n),r=c0(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?js(Kb(i.values,r.values),t):qb(n,e)},Eh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},M5=(n,e)=>t=>sn(n,e,t);function oG(n){return typeof n=="number"?M5:typeof n=="string"?xi.test(n)?Gb:Jb:Array.isArray(n)?Kb:typeof n=="object"?sG:M5}function aG(n,e,t){const i=[],r=t||oG(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||mn:e;a=js(l,a)}i.push(a)}return i}function Qb(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(cS(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=aG(e,i,r),a=o.length,l=u=>{let h=0;if(a>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const d=Eh(n[h],n[h+1],u);return o[h](d)};return t?u=>l(ea(n[0],n[s-1],u)):l}function lG(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Eh(0,e,i);n.push(sn(t,1,r))}}function uG(n){const e=[0];return lG(e,n.length-1),e}function cG(n,e){return n.map(t=>t*e)}function fG(n,e){return n.map(()=>e||kb).splice(0,n.length-1)}function f0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=XH(i)?i.map(w5):w5(i),s={done:!1,value:e[0]},o=cG(t&&t.length===e.length?t:uG(e),n),a=Qb(o,e,{ease:Array.isArray(r)?r:fG(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function e9(n,e){return e?n*(1e3/e):0}const hG=5;function t9(n,e,t){const i=Math.max(e-hG,0);return e9(t-n(i),e-i)}const bv=.001,dG=.01,C5=10,pG=.05,mG=1;function gG({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;kH(n<=jo(C5));let o=1-e;o=ea(pG,mG,o),n=ea(dG,C5,Xs(n)),o<1?(r=u=>{const h=u*o,d=h*n,p=h-t,m=B3(u,o),g=Math.exp(-d);return bv-p/m*g},s=u=>{const d=u*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,g=Math.exp(-d),S=B3(Math.pow(u,2),o);return(-r(u)+bv>0?-1:1)*((p-m)*g)/S}):(r=u=>{const h=Math.exp(-u*n),d=(u-t)*n+1;return-bv+h*d},s=u=>{const h=Math.exp(-u*n),d=(t-u)*(n*n);return h*d});const a=5/n,l=yG(r,s,a);if(n=jo(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const vG=12;function yG(n,e,t){let i=t;for(let r=1;r<vG;r++)i=i-n(i)/e(i);return i}function B3(n,e){return n*Math.sqrt(1-e*e)}const xG=["duration","bounce"],_G=["stiffness","damping","mass"];function T5(n,e){return e.some(t=>n[t]!==void 0)}function SG(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!T5(n,_G)&&T5(n,xG)){const t=gG(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function n9({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:h,duration:d,isResolvedFromDuration:p}=SG(i),m=h?-Xs(h):0,g=l/(2*Math.sqrt(a*u)),S=s-r,w=Xs(Math.sqrt(a/u)),v=Math.abs(S)<5;t||(t=v?.01:2),e||(e=v?.005:.5);let x;if(g<1){const _=B3(w,g);x=C=>{const A=Math.exp(-g*w*C);return s-A*((m+g*w*S)/_*Math.sin(_*C)+S*Math.cos(_*C))}}else if(g===1)x=_=>s-Math.exp(-w*_)*(S+(m+w*S)*_);else{const _=w*Math.sqrt(g*g-1);x=C=>{const A=Math.exp(-g*w*C),P=Math.min(_*C,300);return s-A*((m+g*w*S)*Math.sinh(P)+_*S*Math.cosh(P))/_}}return{calculatedDuration:p&&d||null,next:_=>{const C=x(_);if(p)o.done=_>=d;else{let A=m;_!==0&&(g<1?A=t9(x,_,C):A=0);const P=Math.abs(A)<=t,L=Math.abs(s-C)<=e;o.done=P&&L}return o.value=o.done?s:C,o}}}function A5({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=O=>a!==void 0&&O<a||l!==void 0&&O>l,g=O=>a===void 0?l:l===void 0||Math.abs(a-O)<Math.abs(l-O)?a:l;let S=t*e;const w=d+S,v=o===void 0?w:o(w);v!==w&&(S=v-d);const x=O=>-S*Math.exp(-O/i),_=O=>v+x(O),C=O=>{const b=x(O),I=_(O);p.done=Math.abs(b)<=u,p.value=p.done?v:I};let A,P;const L=O=>{m(p.value)&&(A=O,P=n9({keyframes:[p.value,g(p.value)],velocity:t9(_,O,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:h}))};return L(0),{calculatedDuration:null,next:O=>{let b=!1;return!P&&A===void 0&&(b=!0,C(O),L(O)),A!==void 0&&O>A?P.next(O-A):(!b&&C(O),p)}}}const wG=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Zt.update(e,!0),stop:()=>to(e),now:()=>Hn.isProcessing?Hn.timestamp:performance.now()}},b5=2e4;function P5(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<b5;)e+=t,i=n.next(e);return e>=b5?1/0:e}const EG={decay:A5,inertia:A5,tween:f0,keyframes:f0,spring:n9};function h0({autoplay:n=!0,delay:e=0,driver:t=wG,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:d,...p}){let m=1,g=!1,S,w;const v=()=>{w=new Promise(W=>{S=W})};v();let x;const _=EG[r]||f0;let C;_!==f0&&typeof i[0]!="number"&&(C=Qb([0,100],i,{clamp:!1}),i=[0,100]);const A=_({...p,keyframes:i});let P;a==="mirror"&&(P=_({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let L="idle",O=null,b=null,I=null;A.calculatedDuration===null&&s&&(A.calculatedDuration=P5(A));const{calculatedDuration:F}=A;let Z=1/0,j=1/0;F!==null&&(Z=F+o,j=Z*(s+1)-o);let D=0;const z=W=>{if(b===null)return;m>0&&(b=Math.min(b,W)),m<0&&(b=Math.min(W-j/m,b)),O!==null?D=O:D=Math.round(W-b)*m;const J=D-e*(m>=0?1:-1),Se=m>=0?J<0:J>j;D=Math.max(J,0),L==="finished"&&O===null&&(D=j);let we=D,Ee=A;if(s){const at=D/Z;let ye=Math.floor(at),de=at%1;!de&&at>=1&&(de=1),de===1&&ye--,ye=Math.min(ye,s+1);const H=!!(ye%2);H&&(a==="reverse"?(de=1-de,o&&(de-=o/Z)):a==="mirror"&&(Ee=P));let fe=ea(0,1,de);D>j&&(fe=a==="reverse"&&H?1:0),we=fe*Z}const Oe=Se?{done:!1,value:i[0]}:Ee.next(we);C&&(Oe.value=C(Oe.value));let{done:ze}=Oe;!Se&&F!==null&&(ze=m>=0?D>=j:D<=0);const Ke=O===null&&(L==="finished"||L==="running"&&ze);return d&&d(Oe.value),Ke&&U(),Oe},Q=()=>{x&&x.stop(),x=void 0},te=()=>{L="idle",Q(),S(),v(),b=I=null},U=()=>{L="finished",h&&h(),Q(),S()},X=()=>{if(g)return;x||(x=t(z));const W=x.now();l&&l(),O!==null?b=W-O:(!b||L==="finished")&&(b=W),L==="finished"&&v(),I=b,O=null,L="running",x.start()};n&&X();const q={then(W,J){return w.then(W,J)},get time(){return Xs(D)},set time(W){W=jo(W),D=W,O!==null||!x||m===0?O=W:b=x.now()-W/m},get duration(){const W=A.calculatedDuration===null?P5(A):A.calculatedDuration;return Xs(W)},get speed(){return m},set speed(W){W===m||!x||(m=W,q.time=Xs(D))},get state(){return L},play:X,pause:()=>{L="paused",O=D},stop:()=>{g=!0,L!=="idle"&&(L="idle",u&&u(),te())},cancel:()=>{I!==null&&z(I),te()},complete:()=>{L="finished"},sample:W=>(b=0,z(W))};return q}function MG(n){let e;return()=>(e===void 0&&(e=n()),e)}const CG=MG(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),TG=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),tm=10,AG=2e4,bG=(n,e)=>e.type==="spring"||n==="backgroundColor"||!Ob(e.ease);function PG(n,e,{onUpdate:t,onComplete:i,...r}){if(!(CG()&&TG.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:h,duration:d=300,ease:p,times:m}=r;if(bG(e,r)){const x=h0({...r,repeat:0,delay:0});let _={done:!1,value:h[0]};const C=[];let A=0;for(;!_.done&&A<AG;)_=x.sample(A),C.push(_.value),A+=tm;m=void 0,h=C,d=A-tm,p="linear"}const g=BH(n.owner.current,e,h,{...r,duration:d,ease:p,times:m});r.syncStart&&(g.startTime=Hn.isProcessing?Hn.timestamp:document.timeline?document.timeline.currentTime:performance.now());const S=()=>g.cancel(),w=()=>{Zt.update(S),a(),u()};return g.onfinish=()=>{n.set(zH(h,r)),i&&i(),w()},{then(x,_){return l.then(x,_)},attachTimeline(x){return g.timeline=x,g.onfinish=null,mn},get time(){return Xs(g.currentTime||0)},set time(x){g.currentTime=jo(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return Xs(d)},play:()=>{o||(g.play(),to(S))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const _=h0({...r,autoplay:!1});n.setWithVelocity(_.sample(x-tm).value,_.sample(x).value,tm)}w()},complete:()=>g.finish(),cancel:w}}function RG({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:mn,pause:mn,stop:mn,then:s=>(s(),Promise.resolve()),cancel:mn,complete:mn});return e?h0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const LG={type:"spring",stiffness:500,damping:25,restSpeed:10},IG=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),OG={type:"keyframes",duration:.8},DG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NG=(n,{keyframes:e})=>e.length>2?OG:vl.has(n)?n.startsWith("scale")?IG(e[1]):LG:DG,z3=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ta.test(e)||e==="0")&&!e.startsWith("url(")),UG=new Set(["brightness","contrast","saturate","opacity"]);function kG(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(b1)||[];if(!i)return n;const r=t.replace(i,"");let s=UG.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const FG=/([a-z-]*)\(.*?\)/g,V3={...ta,getAnimatableNone:n=>{const e=n.match(FG);return e?e.map(kG).join(" "):n}},BG={...vb,color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:V3,WebkitFilter:V3},pS=n=>BG[n];function i9(n,e){let t=pS(n);return t!==V3&&(t=ta),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const r9=n=>/^0[^.\s]+$/.test(n);function zG(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||r9(n)}function VG(n,e,t,i){const r=z3(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),zG(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(r&&l.length&&a)for(let u=0;u<l.length;u++){const h=l[u];s[h]=i9(e,a)}return s}function HG({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function s9(n,e){return n[e]||n.default||n}const mS=(n,e,t,i={})=>r=>{const s=s9(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-jo(o);const l=VG(e,n,t,s),u=l[0],h=l[l.length-1],d=z3(n,u),p=z3(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(HG(s)||(m={...m,...NG(n,m)}),m.duration&&(m.duration=jo(m.duration)),m.repeatDelay&&(m.repeatDelay=jo(m.repeatDelay)),!d||!p||FH.current||s.type===!1)return RG(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=PG(e,n,m);if(g)return g}return h0(m)};function d0(n){return!!(Rn(n)&&n.add)}const o9=n=>/^\-?\d*\.?\d+$/.test(n);function gS(n,e){n.indexOf(e)===-1&&n.push(e)}function vS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class yS{constructor(){this.subscriptions=[]}add(e){return gS(this.subscriptions,e),()=>vS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GG=n=>!isNaN(parseFloat(n));class WG{constructor(e,t={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Hn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Zt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Zt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=GG(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new yS);const i=this.events[e].add(t);return e==="change"?()=>{i(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?e9(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(n,e){return new WG(n,e)}const a9=n=>e=>e.test(n),jG={test:n=>n==="auto",parse:n=>n},l9=[yl,st,gs,So,JV,KV,jG],nf=n=>l9.find(a9(n)),XG=[...l9,xi,ta],$G=n=>XG.find(a9(n));function YG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nc(t))}function qG(n,e){const t=R1(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=hH(s[o]);YG(n,o,a)}}function u9(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(o9(h)||r9(h))?h=parseFloat(h):!$G(h)&&ta.test(u)&&(h=i9(l,u)),n.addValue(l,nc(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function ZG(n,e){return e?(e[n]||e.default||e).from:void 0}function KG(n,e,t){const i={};for(const r in n){const s=ZG(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function JG({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function c9(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||h&&JG(h,d))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const w=n.getProps()[UH];w&&(g.elapsed=window.HandoffAppearAnimations(w,d,p,Zt),g.syncStart=!0)}p.start(mS(d,p,m,n.shouldReduceMotion&&vl.has(d)?{type:!1}:g));const S=p.animation;d0(l)&&(l.add(d),S.then(()=>l.remove(d))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&qG(n,o)}),u}function H3(n,e,t={}){const i=R1(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(c9(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=r;return QG(n,e,u+l,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function QG(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(eW).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(H3(u,e,{...s,delay:t+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function eW(n,e){return n.sortNodePosition(e)}function tW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>H3(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=H3(n,e,t);else{const r=typeof e=="function"?R1(n,e,t.custom):e;i=Promise.all(c9(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const nW=[...J_].reverse(),iW=J_.length;function rW(n){return e=>Promise.all(e.map(({animation:t,options:i})=>tW(n,t,i)))}function sW(n){let e=rW(n);const t=aW();let i=!0;const r=(l,u)=>{const h=R1(n,u);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let g={},S=1/0;for(let v=0;v<iW;v++){const x=nW[v],_=t[x],C=h[x]!==void 0?h[x]:d[x],A=Sh(C),P=x===u?_.isActive:null;P===!1&&(S=v);let L=C===d[x]&&C!==h[x]&&A;if(L&&i&&n.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...g},!_.isActive&&P===null||!C&&!_.prevProp||T1(C)||typeof C=="boolean")continue;const O=oW(_.prevProp,C);let b=O||x===u&&_.isActive&&!L&&A||v>S&&A;const I=Array.isArray(C)?C:[C];let F=I.reduce(r,{});P===!1&&(F={});const{prevResolvedValues:Z={}}=_,j={...Z,...F},D=z=>{b=!0,m.delete(z),_.needsAnimating[z]=!0};for(const z in j){const Q=F[z],te=Z[z];g.hasOwnProperty(z)||(Q!==te?u0(Q)&&u0(te)?!Lb(Q,te)||O?D(z):_.protectedKeys[z]=!0:Q!==void 0?D(z):m.add(z):Q!==void 0&&m.has(z)?D(z):_.protectedKeys[z]=!0)}_.prevProp=C,_.prevResolvedValues=F,_.isActive&&(g={...g,...F}),i&&n.blockInitialAnimation&&(b=!1),b&&!L&&p.push(...I.map(z=>({animation:z,options:{type:x,...l}})))}if(m.size){const v={};m.forEach(x=>{const _=n.getBaseTarget(x);_!==void 0&&(v[x]=_)}),p.push({animation:v})}let w=!!p.length;return i&&h.initial===!1&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(p):Promise.resolve()}function a(l,u,h){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),t[l].isActive=u;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function oW(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Lb(e,n):!1}function Ra(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aW(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}class lW extends fa{constructor(e){super(e),e.animationState||(e.animationState=sW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),T1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let uW=0;class cW extends fa{constructor(){super(...arguments),this.id=uW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const f9={animation:{Feature:lW},exit:{Feature:cW}},R5=(n,e)=>Math.abs(n-e);function fW(n,e){const t=R5(n.x,e.x),i=R5(n.y,e.y);return Math.sqrt(t**2+i**2)}class h9{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Rv(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=fW(u.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=u,{timestamp:m}=Hn;this.history.push({...p,timestamp:m});const{onStart:g,onMove:S}=this.handlers;h||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Pv(h,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=Rv(u.type==="pointercancel"?this.lastMoveEventInfo:Pv(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!Tb(e))return;this.handlers=t,this.transformPagePoint=i;const r=P1(e),s=Pv(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Hn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Rv(s,this.history)),this.removeListeners=js(Hr(window,"pointermove",this.handlePointerMove),Hr(window,"pointerup",this.handlePointerUp),Hr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),to(this.updatePoint)}}function Pv(n,e){return e?{point:e(n.point)}:n}function L5(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Rv({point:n},e){return{point:n,delta:L5(n,d9(e)),offset:L5(n,hW(e)),velocity:dW(e,.1)}}function hW(n){return n[0]}function d9(n){return n[n.length-1]}function dW(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=d9(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>jo(e)));)t--;if(!i)return{x:0,y:0};const s=Xs(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tr(n){return n.max-n.min}function G3(n,e=0,t=.01){return Math.abs(n-e)<=t}function I5(n,e,t,i=.5){n.origin=i,n.originPoint=sn(e.min,e.max,n.origin),n.scale=tr(t)/tr(e),(G3(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=sn(t.min,t.max,n.origin)-n.originPoint,(G3(n.translate)||isNaN(n.translate))&&(n.translate=0)}function kf(n,e,t,i){I5(n.x,e.x,t.x,i?i.originX:void 0),I5(n.y,e.y,t.y,i?i.originY:void 0)}function O5(n,e,t){n.min=t.min+e.min,n.max=n.min+tr(e)}function pW(n,e,t){O5(n.x,e.x,t.x),O5(n.y,e.y,t.y)}function D5(n,e,t){n.min=e.min-t.min,n.max=n.min+tr(e)}function Ff(n,e,t){D5(n.x,e.x,t.x),D5(n.y,e.y,t.y)}function mW(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?sn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?sn(t,n,i.max):Math.min(n,t)),n}function N5(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function gW(n,{top:e,left:t,bottom:i,right:r}){return{x:N5(n.x,t,r),y:N5(n.y,e,i)}}function U5(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function vW(n,e){return{x:U5(n.x,e.x),y:U5(n.y,e.y)}}function yW(n,e){let t=.5;const i=tr(n),r=tr(e);return r>i?t=Eh(e.min,e.max-i,n.min):i>r&&(t=Eh(n.min,n.max-r,e.min)),ea(0,1,t)}function xW(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const W3=.35;function _W(n=W3){return n===!1?n=0:n===!0&&(n=W3),{x:k5(n,"left","right"),y:k5(n,"top","bottom")}}function k5(n,e,t){return{min:F5(n,e),max:F5(n,t)}}function F5(n,e){return typeof n=="number"?n:n[e]||0}const B5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Iu=()=>({x:B5(),y:B5()}),z5=()=>({min:0,max:0}),xn=()=>({x:z5(),y:z5()});function ss(n){return[n("x"),n("y")]}function p9({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function SW({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function wW(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Lv(n){return n===void 0||n===1}function j3({scale:n,scaleX:e,scaleY:t}){return!Lv(n)||!Lv(e)||!Lv(t)}function Ua(n){return j3(n)||m9(n)||n.z||n.rotate||n.rotateX||n.rotateY}function m9(n){return V5(n.x)||V5(n.y)}function V5(n){return n&&n!=="0%"}function p0(n,e,t){const i=n-t,r=e*i;return t+r}function H5(n,e,t,i,r){return r!==void 0&&(n=p0(n,r,i)),p0(n,t,i)+e}function X3(n,e=0,t=1,i,r){n.min=H5(n.min,e,t,i,r),n.max=H5(n.max,e,t,i,r)}function g9(n,{x:e,y:t}){X3(n.x,e.translate,e.scale,e.originPoint),X3(n.y,t.translate,t.scale,t.originPoint)}function EW(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ou(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,g9(n,o)),i&&Ua(s.latestValues)&&Ou(n,s.latestValues))}e.x=G5(e.x),e.y=G5(e.y)}function G5(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Co(n,e){n.min=n.min+e,n.max=n.max+e}function W5(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=sn(n.min,n.max,s);X3(n,e[t],e[i],o,e.scale)}const MW=["x","scaleX","originX"],CW=["y","scaleY","originY"];function Ou(n,e){W5(n.x,e,MW),W5(n.y,e,CW)}function v9(n,e){return p9(wW(n.getBoundingClientRect(),e))}function TW(n,e,t){const i=v9(n,t),{scroll:r}=e;return r&&(Co(i.x,r.offset.x),Co(i.y,r.offset.y)),i}const AW=new WeakMap;class bW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(P1(l,"page").point)},s=(l,u)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pb(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(g=>{let S=this.getAxisMotionValue(g).get()||0;if(gs.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[g];v&&(S=tr(v)*(parseFloat(S)/100))}}this.originPoint[g]=S}),p&&Zt.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:g}=u;if(d&&this.currentDirection===null){this.currentDirection=PW(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new h9(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Zt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!nm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=mW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Ru(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=gW(i.layoutBox,e):this.constraints=!1,this.elastic=_W(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=xW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ru(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=TW(i,r.root,this.visualElement.getTransformPagePoint());let o=vW(r.layout.layoutBox,s);if(t){const a=t(SW(o));this.hasMutatedConstraints=!!a,a&&(o=p9(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ss(h=>{if(!nm(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(mS(e,i,0,t))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ss(t=>{const{drag:i}=this.getProps();if(!nm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-sn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ru(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ss(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=yW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(o=>{if(!nm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(sn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;AW.set(this.visualElement,this);const e=this.visualElement.current,t=Hr(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ru(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Hs(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ss(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=W3,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function PW(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RW extends fa{constructor(e){super(e),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new bW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const j5=n=>(e,t)=>{n&&Zt.update(()=>n(e,t))};class LW extends fa{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(e){this.session=new h9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:j5(e),onStart:j5(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Zt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Hr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IW(){const n=$.useContext(K_);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=$.useId();return $.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const bm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X5(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(st.test(n))n=parseFloat(n);else return n;const t=X5(n,e.target.x),i=X5(n,e.target.y);return`${t}% ${i}%`}},OW={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ta.parse(n);if(r.length>5)return i;const s=ta.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=sn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class DW extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;WV(NW),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Zt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function y9(n){const[e,t]=IW(),i=$.useContext(cb);return M.createElement(DW,{...n,layoutGroup:i,switchLayoutGroup:$.useContext(fb),isPresent:e,safeToRemove:t})}const NW={borderRadius:{...rf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rf,borderTopRightRadius:rf,borderBottomLeftRadius:rf,borderBottomRightRadius:rf,boxShadow:OW},x9=["TopLeft","TopRight","BottomLeft","BottomRight"],UW=x9.length,$5=n=>typeof n=="string"?parseFloat(n):n,Y5=n=>typeof n=="number"||st.test(n);function kW(n,e,t,i,r,s){r?(n.opacity=sn(0,t.opacity!==void 0?t.opacity:1,FW(i)),n.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,BW(i))):s&&(n.opacity=sn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<UW;o++){const a=`border${x9[o]}Radius`;let l=q5(e,a),u=q5(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Y5(l)===Y5(u)?(n[a]=Math.max(sn($5(l),$5(u),i),0),(gs.test(u)||gs.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=sn(e.rotate||0,t.rotate||0,i))}function q5(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const FW=_9(0,.5,fS),BW=_9(.5,.95,mn);function _9(n,e,t){return i=>i<n?0:i>e?1:t(Eh(n,e,i))}function Z5(n,e){n.min=e.min,n.max=e.max}function mr(n,e){Z5(n.x,e.x),Z5(n.y,e.y)}function K5(n,e,t,i,r){return n-=e,n=p0(n,1/t,i),r!==void 0&&(n=p0(n,1/r,i)),n}function zW(n,e=0,t=1,i=.5,r,s=n,o=n){if(gs.test(e)&&(e=parseFloat(e),e=sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=sn(s.min,s.max,i);n===s&&(a-=e),n.min=K5(n.min,e,t,a,r),n.max=K5(n.max,e,t,a,r)}function J5(n,e,[t,i,r],s,o){zW(n,e[t],e[i],e[r],e.scale,s,o)}const VW=["x","scaleX","originX"],HW=["y","scaleY","originY"];function Q5(n,e,t,i){J5(n.x,e,VW,t?t.x:void 0,i?i.x:void 0),J5(n.y,e,HW,t?t.y:void 0,i?i.y:void 0)}function e6(n){return n.translate===0&&n.scale===1}function S9(n){return e6(n.x)&&e6(n.y)}function GW(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function w9(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function t6(n){return tr(n.x)/tr(n.y)}class WW{constructor(){this.members=[]}add(e){gS(this.members,e),e.scheduleRender()}remove(e){if(vS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n6(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const jW=(n,e)=>n.depth-e.depth;class XW{constructor(){this.children=[],this.isDirty=!1}add(e){gS(this.children,e),this.isDirty=!0}remove(e){vS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jW),this.isDirty=!1,this.children.forEach(e)}}function $W(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(to(i),n(s-e))};return Zt.read(i,!0),()=>to(i)}function YW(n){window.MotionDebug&&window.MotionDebug.record(n)}function qW(n){return n instanceof SVGElement&&n.tagName!=="svg"}function ZW(n,e,t){const i=Rn(n)?n:nc(n);return i.start(mS("",i,e,t)),i.animation}const i6=["","X","Y","Z"],r6=1e3;let KW=0;const ka={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function E9({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=KW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ka.totalNodes=ka.resolvedTargetDeltas=ka.recalculatedProjection=0,this.nodes.forEach(ej),this.nodes.forEach(sj),this.nodes.forEach(oj),this.nodes.forEach(tj),YW(ka)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qW(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=$W(p,250),bm.hasAnimatedSinceResize&&(bm.hasAnimatedSinceResize=!1,this.nodes.forEach(o6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||fj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=h.getProps(),x=!this.targetLayout||!w9(this.targetLayout,g)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const C={...s9(S,"layout"),onPlay:w,onComplete:v};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||o6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s6);return}this.isUpdating||this.nodes.forEach(ij),this.isUpdating=!1,this.nodes.forEach(rj),this.nodes.forEach(JW),this.nodes.forEach(QW),this.clearAllSnapshots();const a=performance.now();Hn.delta=ea(0,1e3/60,a-Hn.timestamp),Hn.timestamp=a,Hn.isProcessing=!0,Sv.update.process(Hn),Sv.preRender.process(Hn),Sv.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nj),this.sharedNodes.forEach(lj)}scheduleUpdateProjection(){Zt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!S9(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Ua(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return xn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Co(a.x,l.offset.x),Co(a.y,l.offset.y)),a}removeElementScroll(o){const a=xn();mr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:d}=u;if(u!==this.root&&h&&d.layoutScroll){if(h.isRoot){mr(a,o);const{scroll:p}=this.root;p&&(Co(a.x,-p.offset.x),Co(a.y,-p.offset.y))}Co(a.x,h.offset.x),Co(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=xn();mr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ou(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ua(h.latestValues)&&Ou(l,h.latestValues)}return Ua(this.latestValues)&&Ou(l,this.latestValues),l}removeTransform(o){const a=xn();mr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ua(u.latestValues))continue;j3(u.latestValues)&&u.updateSnapshot();const h=xn(),d=u.measurePageBox();mr(h,d),Q5(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ua(this.latestValues)&&Q5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Ff(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mr(this.target,this.layout.layoutBox),g9(this.target,this.targetDelta)):mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),Ff(this.relativeTargetOrigin,this.target,m.target),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ka.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||j3(this.parent.latestValues)||m9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;mr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;EW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Iu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Iu(),this.projectionDeltaWithTransform=Iu());const S=this.projectionTransform;kf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=n6(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),ka.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Iu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=xn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,S=m!==g,w=this.getStack(),v=!w||w.members.length<=1,x=!!(S&&!v&&this.options.crossfade===!0&&!this.path.some(cj));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const A=C/1e3;a6(d.x,o.x,A),a6(d.y,o.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uj(this.relativeTarget,this.relativeTargetOrigin,p,A),_&&GW(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=xn()),mr(_,this.relativeTarget)),S&&(this.animationValues=h,kW(h,u,this.latestValues,A,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{bm.hasAnimatedSinceResize=!0,this.currentAnimation=ZW(0,r6,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&M9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||xn();const d=tr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=tr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}mr(a,l),Ou(a,h),kf(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new WW),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<i6.length;h++){const d="rotate"+i6[h];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Uf(o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Uf(o.pointerEvents)||""),this.hasProjected&&!Ua(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=n6(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in a0){if(p[S]===void 0)continue;const{correct:w,applyTo:v}=a0[S],x=u.transform==="none"?p[S]:w(p[S],d);if(v){const _=v.length;for(let C=0;C<_;C++)u[v[C]]=x}else u[S]=x}return this.options.layoutId&&(u.pointerEvents=d===this?Uf(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(s6),this.root.sharedNodes.clear()}}}function JW(n){n.updateLayout()}function QW(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ss(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=tr(p);p.min=i[d].min,p.max=p.min+m}):M9(s,t.layoutBox,i)&&ss(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=tr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Iu();kf(a,i,t.layoutBox);const l=Iu();o?kf(l,n.applyTransform(r,!0),t.measuredBox):kf(l,i,t.layoutBox);const u=!S9(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const g=xn();Ff(g,t.layoutBox,p.layoutBox);const S=xn();Ff(S,i,m.layoutBox),w9(g,S)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=g,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function ej(n){ka.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nj(n){n.clearSnapshot()}function s6(n){n.clearMeasurements()}function ij(n){n.isLayoutDirty=!1}function rj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function o6(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sj(n){n.resolveTargetDelta()}function oj(n){n.calcProjection()}function aj(n){n.resetRotation()}function lj(n){n.removeLeadSnapshot()}function a6(n,e,t){n.translate=sn(e.translate,0,t),n.scale=sn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function l6(n,e,t,i){n.min=sn(e.min,t.min,i),n.max=sn(e.max,t.max,i)}function uj(n,e,t,i){l6(n.x,e.x,t.x,i),l6(n.y,e.y,t.y,i)}function cj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fj={duration:.45,ease:[.4,0,.1,1]},u6=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),c6=u6("applewebkit/")&&!u6("chrome/")?Math.round:mn;function f6(n){n.min=c6(n.min),n.max=c6(n.max)}function hj(n){f6(n.x),f6(n.y)}function M9(n,e,t){return n==="position"||n==="preserve-aspect"&&!G3(t6(e),t6(t),.2)}const dj=E9({attachResizeListener:(n,e)=>Hs(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iv={current:void 0},C9=E9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Iv.current){const n=new dj({});n.mount(window),n.setOptions({layoutScroll:!0}),Iv.current=n}return Iv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),pj={pan:{Feature:LW},drag:{Feature:RW,ProjectionNode:C9,MeasureLayout:y9}},mj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gj(n){const e=mj.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function $3(n,e,t=1){const[i,r]=gj(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return o9(o)?parseFloat(o):o}else return U3(r)?$3(r,e,t+1):r}function vj(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!U3(s))return;const o=$3(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!U3(s))continue;const o=$3(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const yj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),T9=n=>yj.has(n),xj=n=>Object.keys(n).some(T9),h6=n=>n===yl||n===st,d6=(n,e)=>parseFloat(n.split(", ")[e]),p6=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return d6(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?d6(s[1],n):0}},_j=new Set(["x","y","z"]),Sj=jh.filter(n=>!_j.has(n));function wj(n){const e=[];return Sj.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ic={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:p6(4,13),y:p6(5,14)};ic.translateX=ic.x;ic.translateY=ic.y;const Ej=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=ic[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),n[u]=ic[u](l,s)}),n},Mj=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(T9);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=nf(h);const p=e[l];let m;if(u0(p)){const g=p.length,S=p[0]===null?1:0;h=p[S],d=nf(h);for(let w=S;w<g&&p[w]!==null;w++)m?cS(nf(p[w])===m):m=nf(p[w])}else m=nf(p);if(d!==m)if(h6(d)&&h6(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===st&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?u.set(m.transform(h)):e[l]=d.transform(p):(o||(s=wj(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Ej(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),C1&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function Cj(n,e,t,i){return xj(e)?Mj(n,e,t,i):{target:e,transitionEnd:i}}const Tj=(n,e,t,i)=>{const r=vj(n,e,i);return e=r.target,i=r.transitionEnd,Cj(n,e,t,i)},Y3={current:null},A9={current:!1};function Aj(){if(A9.current=!0,!!C1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y3.current=n.matches;n.addListener(e),e()}else Y3.current=!1}function bj(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Rn(s))n.addValue(r,s),d0(i)&&i.add(r);else if(Rn(o))n.addValue(r,nc(s,{owner:n})),d0(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,nc(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const m6=new WeakMap,b9=Object.keys(wh),Pj=b9.length,g6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Rj=Q_.length;class P9{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=A1(t),this.isVariantNode=ub(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&Rn(p)&&(p.set(a[d],!1),d0(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,m6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),A9.current||Aj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m6.delete(this.current),this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=vl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Zt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<Pj;l++){const u=b9[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=wh[u];p&&(o=p),h(t)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||d&&Ru(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<g6.length;i++){const r=g6[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=bj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<Rj;i++){const r=Q_[i],s=this.props[r];(Sh(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=nc(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=aS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new yS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class R9 extends P9{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=KG(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){u9(this,i,o);const a=Tj(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function Lj(n){return window.getComputedStyle(n)}class Ij extends R9{readValueFromInstance(e,t){if(vl.has(t)){const i=pS(t);return i&&i.default||0}else{const i=Lj(e),r=(mb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return v9(e,t)}build(e,t,i,r){tS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return oS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){wb(e,t,i,r)}}class Oj extends R9{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vl.has(t)){const i=pS(t);return i&&i.default||0}return t=Eb.has(t)?t:sS(t),e.getAttribute(t)}measureInstanceViewportBox(){return xn()}scrapeMotionValuesFromProps(e,t){return Cb(e,t)}build(e,t,i,r){iS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){Mb(e,t,i,r)}mount(e){this.isSVGTag=rS(e.tagName),super.mount(e)}}const Dj=(n,e)=>eS(n)?new Oj(e,{enableHardwareAcceleration:!1}):new Ij(e,{enableHardwareAcceleration:!0}),Nj={layout:{ProjectionNode:C9,MeasureLayout:y9}},Uj={...f9,...IH,...pj,...Nj},Mn=HV((n,e)=>_H(n,e,Uj,Dj));function kj(n,{whileHover:e,onHoverStart:t,onHoverEnd:i,onPointerOver:r,onPointerOut:s},o){return n||!o||!(e||t||i)?{}:{onPointerOver:l=>{var u;(u=o.animationState)===null||u===void 0||u.setActive("whileHover",!0),r&&r(l)},onPointerOut:l=>{var u;(u=o.animationState)===null||u===void 0||u.setActive("whileHover",!1),s&&s(l)}}}function Fj(n,{whileTap:e,onTapStart:t,onTap:i,onTapCancel:r,onPointerDown:s},o){const a=i||t||r||e,l=$.useRef(!1),u=$.useRef(null);if(n||!o||!a)return{};function h(){var g;(g=u.current)===null||g===void 0||g.call(u),u.current=null}function d(){var g;return h(),l.current=!1,(g=o.animationState)===null||g===void 0||g.setActive("whileTap",!1),!uS()}function p(g,S){d()&&(i==null||i(g,S))}function m(g,S){d()&&(r==null||r(g,S))}return{onPointerDown:Ab((g,S)=>{var w;if(h(),l.current)return;l.current=!0;const v={passive:!(t||i||r||s)};u.current=js(Hr(window,"pointerup",p,v),Hr(window,"pointercancel",m,v)),(w=o.animationState)===null||w===void 0||w.setActive("whileTap",!0),s==null||s(g),t==null||t(g,S)})}}const Bj=(n,e,t,i,r,s)=>{const o=zj(e);return $.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},_b(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),kj(r,e,s)),Fj(r,e,s)))};function zj(n){return $.useMemo(()=>{const e={};for(const t in n){const i=n[t];Rn(i)?e[t]=i.get():Array.isArray(i)&&i.includes(Rn)&&(e[t]=i.map(Uf))}return e},[])}var ks=function(){return ks=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ks.apply(this,arguments)};function Vj(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}const L9=(n,e)=>t=>(i,r)=>{i[n]===void 0&&(i[n]=new k(e)),i[n].setComponent(t,r)},Hj=(n,e)=>t=>(i,r)=>{i[n]===void 0&&(i[n]=new fc(e));const s=i[n];s[t]=r},v6=n=>(e,t)=>{e[n]===void 0&&(e[n]=new $e(t)),e[n].set(t)},Ov=L9("scale",1),Dv=L9("position",0),Nv=Hj("rotation",0),y6={x:Dv(0),y:Dv(1),z:Dv(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new k(1)),n.scale.set(e,e,e)},scaleX:Ov(0),scaleY:Ov(1),scaleZ:Ov(2),rotateX:Nv("x"),rotateY:Nv("y"),rotateZ:Nv("z"),color:v6("color"),specular:v6("specular")};function Gj(n,e,t){y6[e]?y6[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const xS=(n,e)=>t=>i=>{const r=i[n];return r?r[t]:e},Uv=xS("position",0),im=xS("scale",1),kv=xS("rotation",0),x6={x:Uv("x"),y:Uv("y"),z:Uv("z"),scale:im("x"),scaleX:im("x"),scaleY:im("y"),scaleZ:im("z"),rotateX:kv("x"),rotateY:kv("y"),rotateZ:kv("z")};function Wj(n){if(n!==void 0)return n instanceof $e?n.getStyle():n}function jj(n,e){return x6[e]?x6[e](n):Wj(n[e])||0}const Xj=["x","y","z"],_6={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},I9=(n,e)=>{const t={};for(const i in n){const r=n[i];if(Rn(r)||Rn(e[i]))t[_6[i]||i]=r;else if(Array.isArray(r))for(let s=0;s<r.length;s++){const o=r[s];if(Rn(o)||Array.isArray(e[i])&&Rn(e[i][s])){const a=_6[i+"-"+Xj[s]];t[a]=o}}}return t},$j=()=>({});class Yj extends P9{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return jj(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:i}=e,r=Vj(e,["transition","transitionEnd"]);return u9(this,r,{}),Object.assign(Object.assign({},r),{transition:t,transitionEnd:i})}removeValueFromRenderState(){}measureInstanceViewportBox(){return xn()}scrapeMotionValuesFromProps(e,t){return I9(e,t)}build(e,t){for(const i in t)e[i]=t[i]}renderInstance(e,t){for(const i in t)Gj(e,i,t)}}const qj=(n,e)=>new Yj(e,{}),Zj=lS({scrapeMotionValuesFromProps:I9,createRenderState:$j}),Kj=Object.assign({},f9);function S6(n){return hb({Component:n,preloadedFeatures:Kj,useRender:Bj,useVisualState:Zj,createVisualElement:qj})}const Fv=new Map,Jj=new Proxy(S6,{get:(n,e)=>(!Fv.has(e)&&Fv.set(e,S6(e)),Fv.get(e))}),w6={active:{scaleX:1,scaleY:1,scaleZ:1},pending:{scaleX:0,scaleY:0,scaleZ:0}},_S=[],O9=[],D9=()=>{O9.push(Math.random()*Math.PI,Math.random()*Math.PI*2,(Math.random()*.9+.1)*Math.PI*.1,Math.random()*.9+.1)};qi.enabled=!0;const N9=new Array(5e4).fill().map(()=>(_S.push(Math.random()*1.5+.5),D9(),new k().randomDirection().multiplyScalar(Math.random()*.5+9.5)));for(let n=0;n<1e5;n++){const i=Math.pow(Math.random(),1.5),r=Math.sqrt(40*40*i+(1-i)*10*10);N9.push(new k().setFromCylindricalCoords(r,Math.random()*2*Math.PI,(Math.random()-.5)*2)),_S.push(Math.random()*1.5+.5),D9()}const SS=new St().setFromPoints(N9);SS.setAttribute("sizes",new Je(_S,1));SS.setAttribute("shift",new Je(O9,4));const E6={time:{value:0}},Qj=({isStarted:n})=>{const e=$.useRef(),t=i=>{i.uniforms.time=E6.time,i.vertexShader=`
      uniform float time;
      attribute float sizes;
      attribute vec4 shift;
      varying vec3 vColor;
      ${i.vertexShader}
    `.replace("gl_PointSize = size;","gl_PointSize = size * sizes;").replace("#include <color_vertex>",`#include <color_vertex>
        float d = length(abs(position) / vec3(40., 10., 40));
        d = clamp(d, 0., 1.);
        vColor = mix(vec3(227., 155., 0.), vec3(100., 50., 255.), d) / 255.;
      `).replace("#include <begin_vertex>",`#include <begin_vertex>
        float t = time;
        float moveT = mod(shift.x + shift.z * t, PI2);
        float moveS = mod(shift.y + shift.z * t, PI2);
        transformed += vec3(cos(moveS) * sin(moveT), cos(moveT), sin(moveS) * sin(moveT)) * shift.w;
      `),i.fragmentShader=`
      varying vec3 vColor;
      ${i.fragmentShader}
    `.replace("#include <clipping_planes_fragment>",`#include <clipping_planes_fragment>
        float d = length(gl_PointCoord.xy - 0.5);
        //if (d > 0.5) discard;
      `).replace("vec4 diffuseColor = vec4( diffuse, opacity );","vec4 diffuseColor = vec4( vColor, smoothstep(0.5, 0.1, d)/* * 0.5 + 0.5*/ );")};return q_(i=>{e.current&&(E6.time.value=i.clock.getElapsedTime())}),Te.jsxs(Jj.points,{ref:e,initial:{scale:n?1:0},animate:n?w6.active:w6.pending,transition:{delay:.5,duration:1,ease:"backOut"},children:[Te.jsx("bufferGeometry",{attach:"geometry",...SS}),Te.jsx("pointsMaterial",{size:.155,transparent:!0,depthTest:!1,blending:Qm,onBeforeCompile:t})]})};var U9={exports:{}},k9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=$;function eX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var tX=typeof Object.is=="function"?Object.is:eX,nX=rc.useState,iX=rc.useEffect,rX=rc.useLayoutEffect,sX=rc.useDebugValue;function oX(n,e){var t=e(),i=nX({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return rX(function(){r.value=t,r.getSnapshot=e,Bv(r)&&s({inst:r})},[n,t,e]),iX(function(){return Bv(r)&&s({inst:r}),n(function(){Bv(r)&&s({inst:r})})},[n]),sX(t),t}function Bv(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!tX(n,t)}catch{return!0}}function aX(n,e){return e()}var lX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aX:oX;k9.useSyncExternalStore=rc.useSyncExternalStore!==void 0?rc.useSyncExternalStore:lX;U9.exports=k9;var uX=U9.exports,F9={exports:{}},B9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=$,cX=uX;function fX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var hX=typeof Object.is=="function"?Object.is:fX,dX=cX.useSyncExternalStore,pX=L1.useRef,mX=L1.useEffect,gX=L1.useMemo,vX=L1.useDebugValue;B9.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=pX(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gX(function(){function l(m){if(!u){if(u=!0,h=m,m=i(m),r!==void 0&&o.hasValue){var g=o.value;if(r(g,m))return d=g}return d=m}if(g=d,hX(h,m))return g;var S=i(m);return r!==void 0&&r(g,S)?g:(h=m,d=S)}var u=!1,h,d,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,i,r]);var a=dX(n,s[0],s[1]);return mX(function(){o.hasValue=!0,o.value=a},[a]),vX(a),a};F9.exports=B9;var yX=F9.exports;function xX(n){n()}let z9=xX;const _X=n=>z9=n,SX=()=>z9,M6=Symbol.for("react-redux-context"),C6=typeof globalThis<"u"?globalThis:{};function wX(){var n;if(!$.createContext)return{};const e=(n=C6[M6])!=null?n:C6[M6]=new Map;let t=e.get($.createContext);return t||(t=$.createContext(null),e.set($.createContext,t)),t}const na=wX();function wS(n=na){return function(){return $.useContext(n)}}const V9=wS(),EX=()=>{throw new Error("uSES not initialized!")};let H9=EX;const MX=n=>{H9=n},CX=(n,e)=>n===e;function TX(n=na){const e=n===na?V9:wS(n);return function(i,r={}){const{equalityFn:s=CX,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:u,getServerState:h,stabilityCheck:d,noopCheck:p}=e();$.useRef(!0);const m=$.useCallback({[i.name](S){return i(S)}}[i.name],[i,d,o]),g=H9(u.addNestedSub,l.getState,h||l.getState,m,s);return $.useDebugValue(g),g}}const q3=TX();var G9={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=typeof Symbol=="function"&&Symbol.for,ES=jn?Symbol.for("react.element"):60103,MS=jn?Symbol.for("react.portal"):60106,I1=jn?Symbol.for("react.fragment"):60107,O1=jn?Symbol.for("react.strict_mode"):60108,D1=jn?Symbol.for("react.profiler"):60114,N1=jn?Symbol.for("react.provider"):60109,U1=jn?Symbol.for("react.context"):60110,CS=jn?Symbol.for("react.async_mode"):60111,k1=jn?Symbol.for("react.concurrent_mode"):60111,F1=jn?Symbol.for("react.forward_ref"):60112,B1=jn?Symbol.for("react.suspense"):60113,AX=jn?Symbol.for("react.suspense_list"):60120,z1=jn?Symbol.for("react.memo"):60115,V1=jn?Symbol.for("react.lazy"):60116,bX=jn?Symbol.for("react.block"):60121,PX=jn?Symbol.for("react.fundamental"):60117,RX=jn?Symbol.for("react.responder"):60118,LX=jn?Symbol.for("react.scope"):60119;function sr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case ES:switch(n=n.type,n){case CS:case k1:case I1:case D1:case O1:case B1:return n;default:switch(n=n&&n.$$typeof,n){case U1:case F1:case V1:case z1:case N1:return n;default:return e}}case MS:return e}}}function W9(n){return sr(n)===k1}Ft.AsyncMode=CS;Ft.ConcurrentMode=k1;Ft.ContextConsumer=U1;Ft.ContextProvider=N1;Ft.Element=ES;Ft.ForwardRef=F1;Ft.Fragment=I1;Ft.Lazy=V1;Ft.Memo=z1;Ft.Portal=MS;Ft.Profiler=D1;Ft.StrictMode=O1;Ft.Suspense=B1;Ft.isAsyncMode=function(n){return W9(n)||sr(n)===CS};Ft.isConcurrentMode=W9;Ft.isContextConsumer=function(n){return sr(n)===U1};Ft.isContextProvider=function(n){return sr(n)===N1};Ft.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===ES};Ft.isForwardRef=function(n){return sr(n)===F1};Ft.isFragment=function(n){return sr(n)===I1};Ft.isLazy=function(n){return sr(n)===V1};Ft.isMemo=function(n){return sr(n)===z1};Ft.isPortal=function(n){return sr(n)===MS};Ft.isProfiler=function(n){return sr(n)===D1};Ft.isStrictMode=function(n){return sr(n)===O1};Ft.isSuspense=function(n){return sr(n)===B1};Ft.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===I1||n===k1||n===D1||n===O1||n===B1||n===AX||typeof n=="object"&&n!==null&&(n.$$typeof===V1||n.$$typeof===z1||n.$$typeof===N1||n.$$typeof===U1||n.$$typeof===F1||n.$$typeof===PX||n.$$typeof===RX||n.$$typeof===LX||n.$$typeof===bX)};Ft.typeOf=sr;G9.exports=Ft;var IX=G9.exports,j9=IX,OX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},X9={};X9[j9.ForwardRef]=OX;X9[j9.Memo]=DX;var zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=Symbol.for("react.element"),AS=Symbol.for("react.portal"),H1=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),NX=Symbol.for("react.server_context"),$1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),Z1=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),UX=Symbol.for("react.offscreen"),$9;$9=Symbol.for("react.module.reference");function Mr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case TS:switch(n=n.type,n){case H1:case W1:case G1:case Y1:case q1:return n;default:switch(n=n&&n.$$typeof,n){case NX:case X1:case $1:case K1:case Z1:case j1:return n;default:return e}}case AS:return e}}}zt.ContextConsumer=X1;zt.ContextProvider=j1;zt.Element=TS;zt.ForwardRef=$1;zt.Fragment=H1;zt.Lazy=K1;zt.Memo=Z1;zt.Portal=AS;zt.Profiler=W1;zt.StrictMode=G1;zt.Suspense=Y1;zt.SuspenseList=q1;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(n){return Mr(n)===X1};zt.isContextProvider=function(n){return Mr(n)===j1};zt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===TS};zt.isForwardRef=function(n){return Mr(n)===$1};zt.isFragment=function(n){return Mr(n)===H1};zt.isLazy=function(n){return Mr(n)===K1};zt.isMemo=function(n){return Mr(n)===Z1};zt.isPortal=function(n){return Mr(n)===AS};zt.isProfiler=function(n){return Mr(n)===W1};zt.isStrictMode=function(n){return Mr(n)===G1};zt.isSuspense=function(n){return Mr(n)===Y1};zt.isSuspenseList=function(n){return Mr(n)===q1};zt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===H1||n===W1||n===G1||n===Y1||n===q1||n===UX||typeof n=="object"&&n!==null&&(n.$$typeof===K1||n.$$typeof===Z1||n.$$typeof===j1||n.$$typeof===X1||n.$$typeof===$1||n.$$typeof===$9||n.getModuleId!==void 0)};zt.typeOf=Mr;function kX(){const n=SX();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=t={callback:i,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const T6={notify(){},get:()=>[]};function FX(n,e){let t,i=T6;function r(d){return l(),i.subscribe(d)}function s(){i.notify()}function o(){h.onStateChange&&h.onStateChange()}function a(){return!!t}function l(){t||(t=e?e.addNestedSub(o):n.subscribe(o),i=kX())}function u(){t&&(t(),t=void 0,i.clear(),i=T6)}const h={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>i};return h}const BX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zX=BX?$.useLayoutEffect:$.useEffect;function VX({store:n,context:e,children:t,serverState:i,stabilityCheck:r="once",noopCheck:s="once"}){const o=$.useMemo(()=>{const u=FX(n);return{store:n,subscription:u,getServerState:i?()=>i:void 0,stabilityCheck:r,noopCheck:s}},[n,i,r,s]),a=$.useMemo(()=>n.getState(),[n]);zX(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||na;return $.createElement(l.Provider,{value:o},t)}function Y9(n=na){const e=n===na?V9:wS(n);return function(){const{store:i}=e();return i}}const HX=Y9();function GX(n=na){const e=n===na?HX:Y9(n);return function(){return e().dispatch}}const q9=GX();MX(yX.useSyncExternalStoreWithSelector);_X(N7.unstable_batchedUpdates);function Br(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ia(n){return!!n&&!!n[Jt]}function no(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var i=Object.getPrototypeOf(t);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===JX}(n)||Array.isArray(n)||!!n[O6]||!!(!((e=n.constructor)===null||e===void 0)&&e[O6])||bS(n)||PS(n))}function cl(n,e,t){t===void 0&&(t=!1),mc(n)===0?(t?Object.keys:Gu)(n).forEach(function(i){t&&typeof i=="symbol"||e(i,n[i],n)}):n.forEach(function(i,r){return e(r,i,n)})}function mc(n){var e=n[Jt];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:bS(n)?2:PS(n)?3:0}function Hu(n,e){return mc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function WX(n,e){return mc(n)===2?n.get(e):n[e]}function Z9(n,e,t){var i=mc(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function K9(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function bS(n){return ZX&&n instanceof Map}function PS(n){return KX&&n instanceof Set}function Fa(n){return n.o||n.t}function RS(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=Q9(n);delete e[Jt];for(var t=Gu(e),i=0;i<t.length;i++){var r=t[i],s=e[r];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:n[r]})}return Object.create(Object.getPrototypeOf(n),e)}function LS(n,e){return e===void 0&&(e=!1),IS(n)||ia(n)||!no(n)||(mc(n)>1&&(n.set=n.add=n.clear=n.delete=jX),Object.freeze(n),e&&cl(n,function(t,i){return LS(i,!0)},!0)),n}function jX(){Br(2)}function IS(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function vs(n){var e=Q3[n];return e||Br(18,n),e}function XX(n,e){Q3[n]||(Q3[n]=e)}function Z3(){return Mh}function zv(n,e){e&&(vs("Patches"),n.u=[],n.s=[],n.v=e)}function m0(n){K3(n),n.p.forEach($X),n.p=null}function K3(n){n===Mh&&(Mh=n.l)}function A6(n){return Mh={p:[],l:Mh,h:n,m:!0,_:0}}function $X(n){var e=n[Jt];e.i===0||e.i===1?e.j():e.g=!0}function Vv(n,e){e._=e.p.length;var t=e.p[0],i=n!==void 0&&n!==t;return e.h.O||vs("ES5").S(e,n,i),i?(t[Jt].P&&(m0(e),Br(4)),no(n)&&(n=g0(e,n),e.l||v0(e,n)),e.u&&vs("Patches").M(t[Jt].t,n,e.u,e.s)):n=g0(e,t,[]),m0(e),e.u&&e.v(e.u,e.s),n!==J9?n:void 0}function g0(n,e,t){if(IS(e))return e;var i=e[Jt];if(!i)return cl(e,function(a,l){return b6(n,i,e,a,l,t)},!0),e;if(i.A!==n)return e;if(!i.P)return v0(n,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=RS(i.k):i.o,s=r,o=!1;i.i===3&&(s=new Set(r),r.clear(),o=!0),cl(s,function(a,l){return b6(n,i,r,a,l,t,o)}),v0(n,r,!1),t&&n.u&&vs("Patches").N(i,t,n.u,n.s)}return i.o}function b6(n,e,t,i,r,s,o){if(ia(r)){var a=g0(n,r,s&&e&&e.i!==3&&!Hu(e.R,i)?s.concat(i):void 0);if(Z9(t,i,a),!ia(a))return;n.m=!1}else o&&t.add(r);if(no(r)&&!IS(r)){if(!n.h.D&&n._<1)return;g0(n,r),e&&e.A.l||v0(n,r)}}function v0(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&LS(e,t)}function Hv(n,e){var t=n[Jt];return(t?Fa(t):n)[e]}function P6(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Object.getPrototypeOf(t)}}function bo(n){n.P||(n.P=!0,n.l&&bo(n.l))}function Gv(n){n.o||(n.o=RS(n.t))}function J3(n,e,t){var i=bS(e)?vs("MapSet").F(e,t):PS(e)?vs("MapSet").T(e,t):n.O?function(r,s){var o=Array.isArray(r),a={i:o?1:0,A:s?s.A:Z3(),P:!1,I:!1,R:{},l:s,t:r,k:null,o:null,j:null,C:!1},l=a,u=Ch;o&&(l=[a],u=gf);var h=Proxy.revocable(l,u),d=h.revoke,p=h.proxy;return a.k=p,a.j=d,p}(e,t):vs("ES5").J(e,t);return(t?t.A:Z3()).p.push(i),i}function YX(n){return ia(n)||Br(22,n),function e(t){if(!no(t))return t;var i,r=t[Jt],s=mc(t);if(r){if(!r.P&&(r.i<4||!vs("ES5").K(r)))return r.t;r.I=!0,i=R6(t,s),r.I=!1}else i=R6(t,s);return cl(i,function(o,a){r&&WX(r.t,o)===a||Z9(i,o,e(a))}),s===3?new Set(i):i}(n)}function R6(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return RS(n)}function qX(){function n(s,o){var a=r[s];return a?a.enumerable=o:r[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Jt];return Ch.get(l,s)},set:function(l){var u=this[Jt];Ch.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Jt];if(!a.P)switch(a.i){case 5:i(a)&&bo(a);break;case 4:t(a)&&bo(a)}}}function t(s){for(var o=s.t,a=s.k,l=Gu(a),u=l.length-1;u>=0;u--){var h=l[u];if(h!==Jt){var d=o[h];if(d===void 0&&!Hu(o,h))return!0;var p=a[h],m=p&&p[Jt];if(m?m.t!==d:!K9(p,d))return!0}}var g=!!o[Jt];return l.length!==Gu(o).length+(g?0:1)}function i(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var r={};XX("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(h,d){if(h){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,n(m,!0));return p}var g=Q9(d);delete g[Jt];for(var S=Gu(g),w=0;w<S.length;w++){var v=S[w];g[v]=n(v,h||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),u={i:a?5:4,A:o?o.A:Z3(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Jt,{value:u,writable:!0}),l},S:function(s,o,a){a?ia(o)&&o[Jt].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var h=u[Jt];if(h){var d=h.t,p=h.k,m=h.R,g=h.i;if(g===4)cl(p,function(_){_!==Jt&&(d[_]!==void 0||Hu(d,_)?m[_]||l(p[_]):(m[_]=!0,bo(h)))}),cl(d,function(_){p[_]!==void 0||Hu(p,_)||(m[_]=!1,bo(h))});else if(g===5){if(i(h)&&(bo(h),m.length=!0),p.length<d.length)for(var S=p.length;S<d.length;S++)m[S]=!1;else for(var w=d.length;w<p.length;w++)m[w]=!0;for(var v=Math.min(p.length,d.length),x=0;x<v;x++)p.hasOwnProperty(x)||(m[x]=!0),m[x]===void 0&&l(p[x])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?t(s):i(s)}})}var L6,Mh,OS=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ZX=typeof Map<"u",KX=typeof Set<"u",I6=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",J9=OS?Symbol.for("immer-nothing"):((L6={})["immer-nothing"]=!0,L6),O6=OS?Symbol.for("immer-draftable"):"__$immer_draftable",Jt=OS?Symbol.for("immer-state"):"__$immer_state",JX=""+Object.prototype.constructor,Gu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Q9=Object.getOwnPropertyDescriptors||function(n){var e={};return Gu(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},Q3={},Ch={get:function(n,e){if(e===Jt)return n;var t=Fa(n);if(!Hu(t,e))return function(r,s,o){var a,l=P6(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(r.k):void 0}(n,t,e);var i=t[e];return n.I||!no(i)?i:i===Hv(n.t,e)?(Gv(n),n.o[e]=J3(n.A.h,i,n)):i},has:function(n,e){return e in Fa(n)},ownKeys:function(n){return Reflect.ownKeys(Fa(n))},set:function(n,e,t){var i=P6(Fa(n),e);if(i!=null&&i.set)return i.set.call(n.k,t),!0;if(!n.P){var r=Hv(Fa(n),e),s=r==null?void 0:r[Jt];if(s&&s.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(K9(t,r)&&(t!==void 0||Hu(n.t,e)))return!0;Gv(n),bo(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return Hv(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,Gv(n),bo(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=Fa(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty:function(){Br(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Br(12)}},gf={};cl(Ch,function(n,e){gf[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),gf.deleteProperty=function(n,e){return gf.set.call(this,n,e,void 0)},gf.set=function(n,e,t){return Ch.set.call(this,n[0],e,t,n[0])};var QX=function(){function n(t){var i=this;this.O=I6,this.D=!0,this.produce=function(r,s,o){if(typeof r=="function"&&typeof s!="function"){var a=s;s=r;var l=i;return function(S){var w=this;S===void 0&&(S=a);for(var v=arguments.length,x=Array(v>1?v-1:0),_=1;_<v;_++)x[_-1]=arguments[_];return l.produce(S,function(C){var A;return(A=s).call.apply(A,[w,C].concat(x))})}}var u;if(typeof s!="function"&&Br(6),o!==void 0&&typeof o!="function"&&Br(7),no(r)){var h=A6(i),d=J3(i,r,void 0),p=!0;try{u=s(d),p=!1}finally{p?m0(h):K3(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(S){return zv(h,o),Vv(S,h)},function(S){throw m0(h),S}):(zv(h,o),Vv(u,h))}if(!r||typeof r!="object"){if((u=s(r))===void 0&&(u=r),u===J9&&(u=void 0),i.D&&LS(u,!0),o){var m=[],g=[];vs("Patches").M(r,u,m,g),o(m,g)}return u}Br(21,r)},this.produceWithPatches=function(r,s){if(typeof r=="function")return function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return i.produceWithPatches(u,function(m){return r.apply(void 0,[m].concat(d))})};var o,a,l=i.produce(r,s,function(u,h){o=u,a=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){no(t)||Br(8),ia(t)&&(t=YX(t));var i=A6(this),r=J3(this,t,void 0);return r[Jt].C=!0,K3(i),r},e.finishDraft=function(t,i){var r=t&&t[Jt],s=r.A;return zv(s,i),Vv(void 0,s)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!I6&&Br(20),this.O=t},e.applyPatches=function(t,i){var r;for(r=i.length-1;r>=0;r--){var s=i[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(i=i.slice(r+1));var o=vs("Patches").$;return ia(t)?o(t,i):this.produce(t,function(a){return o(a,i)})},n}(),nr=new QX,eP=nr.produce;nr.produceWithPatches.bind(nr);nr.setAutoFreeze.bind(nr);nr.setUseProxies.bind(nr);nr.applyPatches.bind(nr);nr.createDraft.bind(nr);nr.finishDraft.bind(nr);function Th(n){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(n)}function e$(n,e){if(Th(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Th(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tP(n){var e=e$(n,"string");return Th(e)==="symbol"?e:String(e)}function t$(n,e,t){return e=tP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function D6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function N6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(t),!0).forEach(function(i){t$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ui(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var U6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Wv=function(){return Math.random().toString(36).substring(7).split("").join(".")},y0={INIT:"@@redux/INIT"+Wv(),REPLACE:"@@redux/REPLACE"+Wv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wv()}};function n$(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function nP(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ui(1));return t(nP)(n,e)}if(typeof n!="function")throw new Error(ui(2));var r=n,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function h(){if(l)throw new Error(ui(3));return s}function d(S){if(typeof S!="function")throw new Error(ui(4));if(l)throw new Error(ui(5));var w=!0;return u(),a.push(S),function(){if(w){if(l)throw new Error(ui(6));w=!1,u();var x=a.indexOf(S);a.splice(x,1),o=null}}}function p(S){if(!n$(S))throw new Error(ui(7));if(typeof S.type>"u")throw new Error(ui(8));if(l)throw new Error(ui(9));try{l=!0,s=r(s,S)}finally{l=!1}for(var w=o=a,v=0;v<w.length;v++){var x=w[v];x()}return S}function m(S){if(typeof S!="function")throw new Error(ui(10));r=S,p({type:y0.REPLACE})}function g(){var S,w=d;return S={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(ui(11));function _(){x.next&&x.next(h())}_();var C=w(_);return{unsubscribe:C}}},S[U6]=function(){return this},S}return p({type:y0.INIT}),i={dispatch:p,subscribe:d,getState:h,replaceReducer:m},i[U6]=g,i}function i$(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:y0.INIT});if(typeof i>"u")throw new Error(ui(12));if(typeof t(void 0,{type:y0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ui(13))})}function r$(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var r=e[i];typeof n[r]=="function"&&(t[r]=n[r])}var s=Object.keys(t),o;try{i$(t)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var h=!1,d={},p=0;p<s.length;p++){var m=s[p],g=t[m],S=l[m],w=g(S,u);if(typeof w>"u")throw u&&u.type,new Error(ui(14));d[m]=w,h=h||w!==S}return h=h||s.length!==Object.keys(l).length,h?d:l}}function x0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function s$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(ui(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=x0.apply(void 0,a)(r.dispatch),N6(N6({},r),{},{dispatch:s})}}}function iP(n){var e=function(i){var r=i.dispatch,s=i.getState;return function(o){return function(a){return typeof a=="function"?a(r,s,n):o(a)}}};return e}var rP=iP();rP.withExtraArgument=iP;const k6=rP;var sP=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),o$=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(h){u=[6,h],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sc=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},a$=Object.defineProperty,l$=Object.defineProperties,u$=Object.getOwnPropertyDescriptors,F6=Object.getOwnPropertySymbols,c$=Object.prototype.hasOwnProperty,f$=Object.prototype.propertyIsEnumerable,B6=function(n,e,t){return e in n?a$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Xo=function(n,e){for(var t in e||(e={}))c$.call(e,t)&&B6(n,t,e[t]);if(F6)for(var i=0,r=F6(e);i<r.length;i++){var t=r[i];f$.call(e,t)&&B6(n,t,e[t])}return n},jv=function(n,e){return l$(n,u$(e))},h$=function(n,e,t){return new Promise(function(i,r){var s=function(l){try{a(t.next(l))}catch(u){r(u)}},o=function(l){try{a(t.throw(l))}catch(u){r(u)}},a=function(l){return l.done?i(l.value):Promise.resolve(l.value).then(s,o)};a((t=t.apply(n,e)).next())})},d$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?x0:x0.apply(null,arguments)};function p$(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}var m$=function(n){sP(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=n.apply(this,t)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,sc([void 0],t[0].concat(this)))):new(e.bind.apply(e,sc([void 0],t.concat(this))))},e}(Array),g$=function(n){sP(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=n.apply(this,t)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,sc([void 0],t[0].concat(this)))):new(e.bind.apply(e,sc([void 0],t.concat(this))))},e}(Array);function ex(n){return no(n)?eP(n,function(){}):n}function v$(n){return typeof n=="boolean"}function y$(){return function(e){return x$(e)}}function x$(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck;var i=new m$;return t&&(v$(t)?i.push(k6):i.push(k6.withExtraArgument(t.extraArgument))),i}var _$=!0;function S$(n){var e=y$(),t=n||{},i=t.reducer,r=i===void 0?void 0:i,s=t.middleware,o=s===void 0?e():s,a=t.devTools,l=a===void 0?!0:a,u=t.preloadedState,h=u===void 0?void 0:u,d=t.enhancers,p=d===void 0?void 0:d,m;if(typeof r=="function")m=r;else if(p$(r))m=r$(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var S=s$.apply(void 0,g),w=x0;l&&(w=d$(Xo({trace:!_$},typeof l=="object"&&l)));var v=new g$(S),x=v;Array.isArray(p)?x=sc([S],p):typeof p=="function"&&(x=p(v));var _=w.apply(void 0,x);return nP(m,h,_)}function $o(n,e){function t(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(e){var s=e.apply(void 0,i);if(!s)throw new Error("prepareAction did not return an object");return Xo(Xo({type:n,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:n,payload:i[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(i){return i.type===n},t}function oP(n){var e={},t=[],i,r={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,r},addMatcher:function(s,o){return t.push({matcher:s,reducer:o}),r},addDefaultCase:function(s){return i=s,r}};return n(r),[e,t,i]}function w$(n){return typeof n=="function"}function E$(n,e,t,i){t===void 0&&(t=[]);var r=typeof e=="function"?oP(e):[e,t,i],s=r[0],o=r[1],a=r[2],l;if(w$(n))l=function(){return ex(n())};else{var u=ex(n);l=function(){return u}}function h(d,p){d===void 0&&(d=l());var m=sc([s[p.type]],o.filter(function(g){var S=g.matcher;return S(p)}).map(function(g){var S=g.reducer;return S}));return m.filter(function(g){return!!g}).length===0&&(m=[a]),m.reduce(function(g,S){if(S)if(ia(g)){var w=g,v=S(w,p);return v===void 0?g:v}else{if(no(g))return eP(g,function(x){return S(x,p)});var v=S(g,p);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return g},d)}return h.getInitialState=l,h}function M$(n,e){return n+"/"+e}function aP(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var t=typeof n.initialState=="function"?n.initialState:ex(n.initialState),i=n.reducers||{},r=Object.keys(i),s={},o={},a={};r.forEach(function(h){var d=i[h],p=M$(e,h),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,s[h]=m,o[p]=m,a[h]=g?$o(p,g):$o(p)});function l(){var h=typeof n.extraReducers=="function"?oP(n.extraReducers):[n.extraReducers],d=h[0],p=d===void 0?{}:d,m=h[1],g=m===void 0?[]:m,S=h[2],w=S===void 0?void 0:S,v=Xo(Xo({},p),o);return E$(t,function(x){for(var _ in v)x.addCase(_,v[_]);for(var C=0,A=g;C<A.length;C++){var P=A[C];x.addMatcher(P.matcher,P.reducer)}w&&x.addDefaultCase(w)})}var u;return{name:e,reducer:function(h,d){return u||(u=l()),u(h,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var C$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T$=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=C$[Math.random()*64|0];return e},A$=["name","message","stack","code"],Xv=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),z6=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),b$=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,i=A$;t<i.length;t++){var r=i[t];typeof n[r]=="string"&&(e[r]=n[r])}return e}return{message:String(n)}};(function(){function n(e,t,i){var r=$o(e+"/fulfilled",function(u,h,d,p){return{payload:u,meta:jv(Xo({},p||{}),{arg:d,requestId:h,requestStatus:"fulfilled"})}}),s=$o(e+"/pending",function(u,h,d){return{payload:void 0,meta:jv(Xo({},d||{}),{arg:h,requestId:u,requestStatus:"pending"})}}),o=$o(e+"/rejected",function(u,h,d,p,m){return{payload:p,error:(i&&i.serializeError||b$)(u||"Rejected"),meta:jv(Xo({},m||{}),{arg:d,requestId:h,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(h,d,p){var m=i!=null&&i.idGenerator?i.idGenerator(u):T$(),g=new a,S;function w(x){S=x,g.abort()}var v=function(){return h$(this,null,function(){var x,_,C,A,P,L,O;return o$(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),A=(x=i==null?void 0:i.condition)==null?void 0:x.call(i,u,{getState:d,extra:p}),R$(A)?[4,A]:[3,2];case 1:A=b.sent(),b.label=2;case 2:if(A===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return P=new Promise(function(I,F){return g.signal.addEventListener("abort",function(){return F({name:"AbortError",message:S||"Aborted"})})}),h(s(m,u,(_=i==null?void 0:i.getPendingMeta)==null?void 0:_.call(i,{requestId:m,arg:u},{getState:d,extra:p}))),[4,Promise.race([P,Promise.resolve(t(u,{dispatch:h,getState:d,extra:p,requestId:m,signal:g.signal,abort:w,rejectWithValue:function(I,F){return new Xv(I,F)},fulfillWithValue:function(I,F){return new z6(I,F)}})).then(function(I){if(I instanceof Xv)throw I;return I instanceof z6?r(I.payload,m,u,I.meta):r(I,m,u)})])];case 3:return C=b.sent(),[3,5];case 4:return L=b.sent(),C=L instanceof Xv?o(null,m,u,L.payload,L.meta):o(L,m,u),[3,5];case 5:return O=i&&!i.dispatchConditionRejection&&o.match(C)&&C.meta.condition,O||h(C),[2,C]}})})}();return Object.assign(v,{abort:w,requestId:m,arg:u,unwrap:function(){return v.then(P$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:r,typePrefix:e})}return n.withTypes=function(){return n},n})();function P$(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function R$(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var DS="listenerMiddleware";$o(DS+"/add");$o(DS+"/removeAll");$o(DS+"/remove");var V6;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);qX();const L$={isMoving:!1},lP=aP({name:"isCameraMoving",initialState:L$,reducers:{setIsCameraMoving:(n,e)=>e.payload}}),{setIsCameraMoving:Bf}=lP.actions,I$=()=>{const n=q3(o=>o.cameraPosition),e=q3(o=>o.isCameraMoving.isMoving),t=q9(),i=$.useRef(),{camera:r}=Li();r.manual=!1;const s=()=>{t(Bf({isMoving:!0}));const o=new k(n.x,n.y,n.z),a=r.position.clone();let l=0;const u=.2,h=()=>{l+=1/60;const d=Math.min(l/u,1),p=new k().lerpVectors(a,o,d);r.position.copy(p),d<1?requestAnimationFrame(h):t(Bf({isMoving:!1}))};requestAnimationFrame(h)};return q_(()=>{e&&s()}),Te.jsx(IV,{ref:i,enabled:e,enableDamping:!0})},O$=({isStarted:n})=>{const e=q3(i=>i.cameraPosition),t={fov:45,near:.1,far:100,position:[e.x,e.y,e.z]};return Te.jsx("div",{className:"nova-container",children:Te.jsxs(bV,{camera:t,gl:{antialias:!1,toneMapping:o_,outputColorSpace:Er},children:[Te.jsx(OV,{pixelated:!0}),Te.jsx(Qj,{isStarted:n}),Te.jsx(I$,{})]})})},D$={x:0,y:0,z:0},uP=aP({name:"cameraPosition",initialState:D$,reducers:{setCameraPosition:(n,e)=>e.payload}}),{setCameraPosition:$v}=uP.actions;function N$(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const H6={};function tx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&H6[e[0]]||(typeof e[0]=="string"&&(H6[e[0]]=new Date),N$(...e))}const cP=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function G6(n,e,t){n.loadNamespaces(e,cP(n,t))}function W6(n,e,t,i){typeof t=="string"&&(t=[t]),t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,cP(n,i))}function U$(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],r=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(i,n)&&(!r||o(s,n)))}function k$(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(tx("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}):U$(n,e,t)}const F$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,B$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},z$=n=>B$[n],V$=n=>n.replace(F$,z$);let nx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:V$};function H$(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nx={...nx,...n}}function G$(){return nx}let fP;function W$(n){fP=n}function j$(){return fP}const X$={type:"3rdParty",init(n){H$(n.options.react),W$(n)}},$$=$.createContext();class Y${constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const q$=(n,e)=>{const t=$.useRef();return $.useEffect(()=>{t.current=e?t.current:n},[n,e]),t.current};function Yr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:i,defaultNS:r}=$.useContext($$)||{},s=t||i||j$();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Y$),!s){tx("You will need to pass in an i18next instance by using initReactI18next");const _=(A,P)=>typeof P=="string"?P:P&&typeof P=="object"&&typeof P.defaultValue=="string"?P.defaultValue:Array.isArray(A)?A[A.length-1]:A,C=[_,{},!1];return C.t=_,C.i18n={},C.ready=!1,C}s.options.react&&s.options.react.wait!==void 0&&tx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...G$(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=n||r||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(_=>k$(_,s,o));function d(){return s.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],l)}const[p,m]=$.useState(d);let g=u.join();e.lng&&(g=`${e.lng}${g}`);const S=q$(g),w=$.useRef(!0);$.useEffect(()=>{const{bindI18n:_,bindI18nStore:C}=o;w.current=!0,!h&&!a&&(e.lng?W6(s,e.lng,u,()=>{w.current&&m(d)}):G6(s,u,()=>{w.current&&m(d)})),h&&S&&S!==g&&w.current&&m(d);function A(){w.current&&m(d)}return _&&s&&s.on(_,A),C&&s&&s.store.on(C,A),()=>{w.current=!1,_&&s&&_.split(" ").forEach(P=>s.off(P,A)),C&&s&&C.split(" ").forEach(P=>s.store.off(P,A))}},[s,g]);const v=$.useRef(!0);$.useEffect(()=>{w.current&&!v.current&&m(d),v.current=!1},[s,l]);const x=[p,s,h];if(x.t=p,x.i18n=s,x.ready=h,h||!h&&!a)return x;throw new Promise(_=>{e.lng?W6(s,e.lng,u,()=>_()):G6(s,u,()=>_())})}const j6={transform:"translate(0px,0px) scale(1)"},Z$=({isMoved:n})=>{const{i18n:e}=Yr();return Te.jsx(Mn.div,{initial:j6,animate:n?e.language==="iw"?{transform:"translate(120px,-20px) scale(0.7)"}:{transform:"translate(-120px,-20px) scale(0.7)"}:j6,className:"avatar"})},rm={transform:"translate(0px, 0px) scale(1)"},K$=({isMoved:n})=>{const{t:e,i18n:t}=Yr();return Te.jsxs(Mn.div,{initial:{height:200},animate:{height:n?100:200},transition:{duration:.2},className:"card-header",children:[Te.jsx(Mn.div,{initial:{height:200},animate:{height:n?100:200},transition:{duration:.2},className:"card-header-overlay"}),Te.jsx(Z$,{isMoved:n}),Te.jsx(Mn.h1,{initial:rm,animate:n?t.language==="iw"?{transform:"translate(0, -105px) scale(0.7)"}:{transform:"translate(15px, -105px) scale(0.7)"}:rm,className:"card-header-title",children:e("myinfo.name")}),Te.jsx(Mn.h2,{initial:rm,animate:n?t.language==="iw"?{transform:"translate(30px, -115px) scale(1)"}:{transform:"translate(3px, -115px) scale(0.8)"}:rm,className:"card-header-subtitle",children:e("myinfo.job")})]})};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ah.apply(this,arguments)}var Lo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Lo||(Lo={}));const X6="popstate";function J$(n){n===void 0&&(n={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=xl(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ix("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:_0(s))}function i(r,s){J1(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return eY(e,t,i,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function J1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q$(){return Math.random().toString(36).substr(2,8)}function $6(n,e){return{usr:n.state,key:n.key,idx:e}}function ix(n,e,t,i){return t===void 0&&(t=null),Ah({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?xl(e):e,{state:t,key:e&&e.key||i||Q$()})}function _0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function eY(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Lo.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Ah({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Lo.Pop;let w=h(),v=w==null?null:w-u;u=w,l&&l({action:a,location:S.location,delta:v})}function p(w,v){a=Lo.Push;let x=ix(S.location,w,v);t&&t(x,w),u=h()+1;let _=$6(x,u),C=S.createHref(x);try{o.pushState(_,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(C)}s&&l&&l({action:a,location:S.location,delta:1})}function m(w,v){a=Lo.Replace;let x=ix(S.location,w,v);t&&t(x,w),u=h();let _=$6(x,u),C=S.createHref(x);o.replaceState(_,"",C),s&&l&&l({action:a,location:S.location,delta:0})}function g(w){let v=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof w=="string"?w:_0(w);return Ln(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let S={get action(){return a},get location(){return n(r,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(X6,d),l=w,()=>{r.removeEventListener(X6,d),l=null}},createHref(w){return e(r,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(w){return o.go(w)}};return S}var Y6;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Y6||(Y6={}));function tY(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?xl(e):e,r=NS(i.pathname||"/",t);if(r==null)return null;let s=hP(n);nY(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fY(s[a],pY(r));return o}function hP(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Yo([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hP(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:uY(u,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of dP(s.path))r(s,o,l)}),e}function dP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=dP(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function nY(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cY(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const iY=/^:\w+$/,rY=3,sY=2,oY=1,aY=10,lY=-2,q6=n=>n==="*";function uY(n,e){let t=n.split("/"),i=t.length;return t.some(q6)&&(i+=lY),e&&(i+=sY),t.filter(r=>!q6(r)).reduce((r,s)=>r+(iY.test(s)?rY:s===""?oY:aY),i)}function cY(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function fY(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=hY({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(i,h.params);let d=a.route;s.push({params:i,pathname:Yo([r,h.pathname]),pathnameBase:yY(Yo([r,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(r=Yo([r,h.pathnameBase]))}return s}function hY(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dY(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,h,d)=>{if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[h]=mY(a[d]||"",h),u},{}),pathname:s,pathnameBase:o,pattern:n}}function dY(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),J1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function pY(n){try{return decodeURI(n)}catch(e){return J1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function mY(n,e){try{return decodeURIComponent(n)}catch(t){return J1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function NS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function gY(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?xl(n):n;return{pathname:t?t.startsWith("/")?t:vY(t,e):e,search:xY(i),hash:_Y(r)}}function vY(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Yv(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mP(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=xl(n):(r=Ah({},n),Ln(!r.pathname||!r.pathname.includes("?"),Yv("?","pathname","search",r)),Ln(!r.pathname||!r.pathname.includes("#"),Yv("#","pathname","hash",r)),Ln(!r.search||!r.search.includes("#"),Yv("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=gY(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Yo=n=>n.join("/").replace(/\/\/+/g,"/"),yY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_Y=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SY(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const gP=["post","put","patch","delete"];new Set(gP);const wY=["get",...gP];new Set(wY);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},S0.apply(this,arguments)}const US=$.createContext(null),vP=$.createContext(null),_l=$.createContext(null),Q1=$.createContext(null),Sl=$.createContext({outlet:null,matches:[],isDataRoute:!1}),yP=$.createContext(null);function EY(n,e){let{relative:t}=e===void 0?{}:e;qh()||Ln(!1);let{basename:i,navigator:r}=$.useContext(_l),{hash:s,pathname:o,search:a}=kS(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Yo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function qh(){return $.useContext(Q1)!=null}function wl(){return qh()||Ln(!1),$.useContext(Q1).location}function xP(n){$.useContext(_l).static||$.useLayoutEffect(n)}function _P(){let{isDataRoute:n}=$.useContext(Sl);return n?UY():MY()}function MY(){qh()||Ln(!1);let n=$.useContext(US),{basename:e,navigator:t}=$.useContext(_l),{matches:i}=$.useContext(Sl),{pathname:r}=wl(),s=JSON.stringify(pP(i).map(l=>l.pathnameBase)),o=$.useRef(!1);return xP(()=>{o.current=!0}),$.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=mP(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yo([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,r,n])}function kS(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=$.useContext(Sl),{pathname:r}=wl(),s=JSON.stringify(pP(i).map(o=>o.pathnameBase));return $.useMemo(()=>mP(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function CY(n,e){return TY(n,e)}function TY(n,e,t){qh()||Ln(!1);let{navigator:i}=$.useContext(_l),{matches:r}=$.useContext(Sl),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=wl(),u;if(e){var h;let S=typeof e=="string"?xl(e):e;a==="/"||(h=S.pathname)!=null&&h.startsWith(a)||Ln(!1),u=S}else u=l;let d=u.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=tY(n,{pathname:p}),g=LY(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Yo([a,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Yo([a,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,t);return e&&g?$.createElement(Q1.Provider,{value:{location:S0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Lo.Pop}},g):g}function AY(){let n=NY(),e=SY(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:r},t):null,s)}const bY=$.createElement(AY,null);class PY extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?$.createElement(Sl.Provider,{value:this.props.routeContext},$.createElement(yP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RY(n){let{routeContext:e,match:t,children:i}=n,r=$.useContext(US);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Sl.Provider,{value:e},i)}function LY(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ln(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;t&&(d=l.route.errorElement||bY);let p=e.concat(s.slice(0,u+1)),m=()=>{let g;return h?g=d:l.route.Component?g=$.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,$.createElement(RY,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:t!=null},children:g})};return t&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?$.createElement(PY,{location:t.location,revalidation:t.revalidation,component:d,error:h,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var SP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(SP||{}),w0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(w0||{});function IY(n){let e=$.useContext(US);return e||Ln(!1),e}function OY(n){let e=$.useContext(vP);return e||Ln(!1),e}function DY(n){let e=$.useContext(Sl);return e||Ln(!1),e}function wP(n){let e=DY(),t=e.matches[e.matches.length-1];return t.route.id||Ln(!1),t.route.id}function NY(){var n;let e=$.useContext(yP),t=OY(w0.UseRouteError),i=wP(w0.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function UY(){let{router:n}=IY(SP.UseNavigateStable),e=wP(w0.UseNavigateStable),t=$.useRef(!1);return xP(()=>{t.current=!0}),$.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,S0({fromRouteId:e},s)))},[n,e])}function vf(n){Ln(!1)}function kY(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Lo.Pop,navigator:s,static:o=!1}=n;qh()&&Ln(!1);let a=e.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=xl(i));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:m="default"}=i,g=$.useMemo(()=>{let S=NS(u,a);return S==null?null:{location:{pathname:S,search:h,hash:d,state:p,key:m},navigationType:r}},[a,u,h,d,p,m,r]);return g==null?null:$.createElement(_l.Provider,{value:l},$.createElement(Q1.Provider,{children:t,value:g}))}function FY(n){let{children:e,location:t}=n;return CY(rx(e),t)}new Promise(()=>{});function rx(n,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(n,(i,r)=>{if(!$.isValidElement(i))return;let s=[...e,r];if(i.type===$.Fragment){t.push.apply(t,rx(i.props.children,s));return}i.type!==vf&&Ln(!1),!i.props.index||!i.props.children||Ln(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=rx(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E0(){return E0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},E0.apply(this,arguments)}function EP(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function BY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zY(n,e){return n.button===0&&(!e||e==="_self")&&!BY(n)}const VY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],HY=["aria-current","caseSensitive","className","end","style","to","children"],GY="startTransition",Z6=VR[GY];function WY(n){let{basename:e,children:t,future:i,window:r}=n,s=$.useRef();s.current==null&&(s.current=J$({window:r,v5Compat:!0}));let o=s.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=$.useCallback(d=>{u&&Z6?Z6(()=>l(d)):l(d)},[l,u]);return $.useLayoutEffect(()=>o.listen(h),[o,h]),$.createElement(kY,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}const jY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$Y=$.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h}=e,d=EP(e,VY),{basename:p}=$.useContext(_l),m,g=!1;if(typeof u=="string"&&XY.test(u)&&(m=u,jY))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=NS(_.pathname,p);_.origin===x.origin&&C!=null?u=C+_.search+_.hash:g=!0}catch{}let S=EY(u,{relative:r}),w=qY(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r});function v(x){i&&i(x),x.defaultPrevented||w(x)}return $.createElement("a",E0({},d,{href:m||S,onClick:g||s?i:v,ref:t,target:l}))}),YY=$.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,h=EP(e,HY),d=kS(l,{relative:h.relative}),p=wl(),m=$.useContext(vP),{navigator:g}=$.useContext(_l),S=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,w=p.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),v=v?v.toLowerCase():null,S=S.toLowerCase());let x=w===S||!o&&w.startsWith(S)&&w.charAt(S.length)==="/",_=v!=null&&(v===S||!o&&v.startsWith(S)&&v.charAt(S.length)==="/"),C=x?i:void 0,A;typeof s=="function"?A=s({isActive:x,isPending:_}):A=[s,x?"active":null,_?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:x,isPending:_}):a;return $.createElement($Y,E0({},h,{"aria-current":C,className:A,ref:t,style:P,to:l}),typeof u=="function"?u({isActive:x,isPending:_}):u)});var K6;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(K6||(K6={}));var J6;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(J6||(J6={}));function qY(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=_P(),l=wl(),u=kS(n,{relative:o});return $.useCallback(h=>{if(zY(h,t)){h.preventDefault();let d=i!==void 0?i:_0(l)===_0(u);a(n,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,t,n,s,o])}const qv=({text:n})=>{const{t:e}=Yr();function t(i){if(i==="About")return e("footer.about");if(i==="Experience")return e("footer.experience");if(i==="Contact")return e("footer.contact")}return Te.jsx(YY,{to:`/${n.toLowerCase()}`,id:"button",className:({isActive:i,isPending:r})=>r?"pending":i?"active":"",children:t(n)})},ZY=()=>Te.jsxs("div",{className:"card-footer",children:[Te.jsx(qv,{text:"About"}),Te.jsx(qv,{text:"Experience"}),Te.jsx(qv,{text:"Contact"})]});var KY=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:i||"#000",height:t,width:e,viewBox:"0 0 612 612"},M.createElement("rect",{width:"612",height:"612",fill:"current"}),M.createElement("path",{fill:"#f2f2f2",d:"M465 390s-10 29-30 59c-5 9-29 43-58 43-21 0-35-15-62-15-33 0-46 15-67 15-11 1-22-5-34-16-77-73-81-181-52-225 18-29 48-47 81-48 26 0 54 17 65 17 8 0 50-20 74-18 33 3 56 15 73 38-49 24-66 117 10 150zM379 115c8 32-27 93-79 90-3-43 34-87 79-90z"}))},JY=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70483)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70483)"},M.createElement("path",{d:"M22.2067 23.1549C22.2067 23.1549 24.6677 22.9677 24.6677 20.0204C24.6677 17.0755 22.9986 15.6238 20.4473 15.6238L11.7075 15.6099V31.8846H20.6506C20.6506 31.8846 25.1221 32.0262 25.1221 27.0022C25.1221 27.0022 25.4506 23.1549 22.2067 23.1549ZM14.9595 18.0511H19.4311C19.4311 18.0511 20.9612 18.0764 20.9612 20.0619C20.9612 22.1198 19.4311 22.1198 19.4311 22.1198H14.9595V18.0511ZM19.8376 29.4434H14.9595V24.561H19.8376C19.8376 24.561 22.2766 24.5862 22.2766 27.0022C22.2766 29.4182 20.1888 29.4434 19.8376 29.4434Z",fill:"white"}),M.createElement("path",{d:"M32.0329 19.679C25.9248 19.679 25.9354 25.782 25.9354 25.782C25.9354 25.782 25.5289 31.885 32.0329 31.885C32.0329 31.885 37.724 31.885 37.724 27.0026H34.472C34.472 27.0026 34.472 29.4438 32.0329 29.4438C32.0329 29.4438 29.5939 29.4438 29.5939 26.1888C29.5939 26.1888 36.098 26.1888 37.724 26.1888C37.724 24.5614 37.724 19.679 32.0329 19.679ZM29.5939 24.5614C29.5939 24.5614 29.5402 22.1202 32.0329 22.1202C34.5248 22.1202 34.472 24.5614 34.472 24.5614H29.5939Z",fill:"white"}),M.createElement("path",{d:"M35.2852 17.2375H28.7811V18.865H35.2852V17.2375Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70483",x:"9.1058",y:"9.75621",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70483"})),M.createElement("linearGradient",{id:"paint0_linear_668_70483",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.0729167",stopColor:"#272727"}),M.createElement("stop",{offset:"0.973958"}))))},QY=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70439)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70439)"},M.createElement("g",{clipPath:"url(#clip0_668_70439)"},M.createElement("path",{d:"M32.6622 15.9108C35.4536 20.0439 36.8321 24.7059 36.3168 30.073C36.3146 30.0957 36.3029 30.1166 36.2843 30.1303C34.1705 31.6934 32.1225 32.642 30.1032 33.2712C30.0875 33.276 30.0707 33.2757 30.0551 33.2704C30.0396 33.2651 30.026 33.255 30.0164 33.2416C29.5499 32.5879 29.126 31.8987 28.7547 31.175C28.7334 31.1324 28.7528 31.0811 28.7967 31.0643C29.4699 30.8088 30.11 30.5027 30.7258 30.1402C30.7743 30.1116 30.7774 30.0416 30.7326 30.008C30.6019 29.9103 30.4724 29.8076 30.3485 29.7049C30.3254 29.686 30.2942 29.6822 30.2679 29.695C26.2705 31.554 21.8915 31.554 17.8467 29.695C17.8205 29.6832 17.7893 29.6872 17.7667 29.7059C17.6431 29.8085 17.5134 29.9103 17.3839 30.008C17.3391 30.0416 17.3428 30.1116 17.3917 30.1402C18.0074 30.4958 18.6475 30.8088 19.3198 31.0655C19.3633 31.0823 19.384 31.1324 19.3624 31.175C18.9991 31.8997 18.5752 32.5888 18.1001 33.2425C18.0794 33.269 18.0454 33.2811 18.0133 33.2712C16.0036 32.642 13.9556 31.6934 11.8417 30.1303C11.8241 30.1166 11.8115 30.0948 11.8096 30.0721C11.3789 25.4296 12.2567 20.729 15.4607 15.9099C15.4685 15.8971 15.4802 15.8872 15.4938 15.8813C17.0703 15.1526 18.7594 14.6165 20.5247 14.3103C20.5568 14.3054 20.5889 14.3203 20.6056 14.3489C20.8237 14.7378 21.0731 15.2366 21.2417 15.6442C23.1025 15.3579 24.9923 15.3579 26.8921 15.6442C27.0607 15.2453 27.3014 14.7378 27.5186 14.3489C27.5263 14.3347 27.5383 14.3234 27.5529 14.3164C27.5674 14.3095 27.5837 14.3074 27.5995 14.3103C29.3658 14.6174 31.0548 15.1535 32.6301 15.8813C32.644 15.8872 32.6555 15.8971 32.6622 15.9108ZM22.1877 24.7377C22.2072 23.3653 21.2136 22.2296 19.9664 22.2296C18.7294 22.2296 17.7454 23.3553 17.7454 24.7377C17.7454 26.1197 18.7489 27.2454 19.9664 27.2454C21.2037 27.2454 22.1877 26.1197 22.1877 24.7377ZM30.4001 24.7377C30.4196 23.3653 29.426 22.2296 28.1791 22.2296C26.9418 22.2296 25.9578 23.3553 25.9578 24.7377C25.9578 26.1197 26.9613 27.2454 28.1791 27.2454C29.426 27.2454 30.4001 26.1197 30.4001 24.7377Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70439",x:"11.057",y:"11.057",width:"26.0166",height:"26.5166",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70439"})),M.createElement("linearGradient",{id:"paint0_linear_668_70439",x1:"0.325207",y1:"0.325207",x2:"44.2282",y2:"46.8298",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#0088CC"}),M.createElement("stop",{offset:"0.0001",stopColor:"#5865F2"}),M.createElement("stop",{offset:"1",stopColor:"#4D5CFF"})),M.createElement("clipPath",{id:"clip0_668_70439"},M.createElement("rect",{x:"11.057",y:"11.057",width:"26.0166",height:"26.0166",rx:"8",fill:"white"}))))},eq={stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:0,strokeLinejoin:"miter",strokeMiterlimit:4,fill:"rgb(255,255,255)",fillRule:"evenodd",opacity:1,isCustomFont:"none",fontFileUrl:"none"},tq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:e,height:t,viewBox:"0 0 1000 1000",fill:i||"#ea4c89"},M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"current"}),M.createElement("g",{transform:"matrix(6.5036 0 0 6.5036 499.9978 499.9978)",id:"572756"},M.createElement("path",{style:eq,vectorEffect:"non-scaling-stroke",transform:" translate(-50, -50)",d:"M 50 0 C 22.397 0 0 22.397 0 50 C 0 77.603 22.397 100 50 100 C 77.5488 100 100 77.603 100 50 C 100 22.397 77.5488 0 50 0 Z M 83.026 23.0477 C 88.9913 30.3145 92.5705 39.5879 92.679 49.6204 C 91.269 49.3492 77.1692 46.4751 62.961 48.2646 C 62.6356 47.5597 62.3644 46.8004 62.0391 46.0412 C 61.1714 43.9805 60.1952 41.8655 59.2191 39.859 C 74.9458 33.4599 82.1041 24.2408 83.026 23.0477 Z M 50 7.37527 C 60.846 7.37527 70.7701 11.4425 78.308 18.1128 C 77.5488 19.1974 71.0954 27.82 55.9111 33.5141 C 48.9154 20.6616 41.1605 10.141 39.9675 8.5141 C 43.167 7.75488 46.5293 7.37527 50 7.37527 Z M 31.833 11.3883 C 32.9718 12.9067 40.564 23.4816 47.6681 36.0629 C 27.7115 41.3774 10.0868 41.269 8.18872 41.269 C 10.9544 28.0369 19.9024 17.0282 31.833 11.3883 Z M 7.26681 50.0542 C 7.26681 49.6204 7.26681 49.1866 7.26681 48.7527 C 9.11063 48.8069 29.8265 49.0781 51.1388 42.679 C 52.3861 45.0651 53.5249 47.5054 54.6095 49.9458 C 54.0672 50.1085 53.4707 50.2712 52.9284 50.4338 C 30.9111 57.538 19.1974 76.9523 18.2213 78.5792 C 11.4425 71.0412 7.26681 61.0087 7.26681 50.0542 Z M 50 92.7332 C 40.1302 92.7332 31.0195 89.3709 23.8069 83.731 C 24.5662 82.1584 33.243 65.4555 57.321 57.0499 C 57.4295 56.9957 57.4837 56.9957 57.5922 56.9414 C 63.6117 72.5054 66.0521 85.5748 66.7028 89.3167 C 61.551 91.5401 55.9111 92.7332 50 92.7332 Z M 73.807 85.4122 C 73.3731 82.8091 71.0955 70.3362 65.5098 54.9892 C 78.9046 52.8742 90.6182 56.3449 92.0824 56.833 C 90.2386 68.7093 83.4056 78.9588 73.807 85.4122 Z",strokeLinecap:"round"})))},nq=function(n){var e=n.color,t=n.width,i=n.height;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70393)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{clipPath:"url(#clip0_668_70393)",filter:"url(#filter0_i_668_70393)"},M.createElement("g",{filter:"url(#filter1_i_668_70393)"},M.createElement("path",{d:"M30.4644 25.8529L31.2664 20.676H26.3259V17.3111C26.3259 15.8955 27.0156 14.5123 29.2212 14.5123H31.499V10.1039C30.1725 9.88905 28.8322 9.7728 27.4888 9.75612C23.4225 9.75612 20.7678 12.2394 20.7678 16.7287V20.676H16.2604V25.8529H20.7678V38.3743H26.3259V25.8529H30.4644Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70393",x:"9.10582",y:"9.1057",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70393"})),M.createElement("filter",{id:"filter1_i_668_70393",x:"16.2604",y:"9.75612",width:"15.2386",height:"29.1182",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70393"})),M.createElement("linearGradient",{id:"paint0_linear_668_70393",x1:"24",y1:"46.5975",x2:"24",y2:"0",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#0062E0"}),M.createElement("stop",{offset:"1",stopColor:"#19AFFF"})),M.createElement("clipPath",{id:"clip0_668_70393"},M.createElement("rect",{width:"29.2686",height:"29.2686",fill:"white",transform:"translate(9.10582 9.1057)"}))))},iq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 400.000000 400.000000",preserveAspectRatio:"xMidYMid meet",fill:i||"#3a589b"},M.createElement("g",{transform:"translate(0.000000,400.000000) scale(0.100000,-0.100000)",fill:"current",stroke:"none"},M.createElement("path",{d:`M168 3986 c-64 -17 -116 -60 -142 -115 l-21 -46 0 -1830 0 -1830 22
 -40 c24 -46 54 -75 103 -101 34 -18 98 -19 1870 -19 l1835 0 40 22 c46 24 75
 54 101 103 18 34 19 98 19 1870 0 1772 -1 1836 -19 1870 -26 49 -55 79 -101
 103 l-40 22 -1810 2 c-1435 1 -1820 -1 -1857 -11z m2065 -1106 c20 -22 27 -41
 27 -69 0 -50 -326 -1638 -342 -1670 -36 -68 -138 -80 -190 -22 -15 17 -30 41
 -33 54 -8 30 330 1670 350 1700 41 63 133 67 188 7z m-933 -156 c55 -33 76
 -105 46 -162 -8 -15 -134 -146 -280 -292 l-266 -265 274 -275 c179 -179 277
 -285 281 -303 22 -88 -58 -173 -142 -152 -19 4 -143 121 -365 343 l-338 337 0
 50 0 50 343 342 c331 331 344 343 381 343 21 0 50 -7 66 -16z m1847 -327 l343
 -342 0 -50 0 -50 -337 -337 c-223 -222 -347 -339 -365 -343 -85 -21 -165 64
 -143 152 4 18 102 124 281 303 l274 275 -266 265 c-146 146 -272 277 -280 292
 -43 82 16 177 111 178 39 0 46 -6 382 -343z`})))},rq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:i||"#000",height:t,width:e,viewBox:"0 0 64 64"},M.createElement("rect",{x:"0",y:"0",width:64,height:64,fill:"current"}),M.createElement("path",{d:"M58.3067362,21.4281798 C55.895743,17.2972267 52.6253846,14.0267453 48.4948004,11.615998 C44.3636013,9.20512774 39.8535636,8 34.9614901,8 C30.0700314,8 25.5585181,9.20549662 21.4281798,11.615998 C17.2972267,14.0266224 14.0269912,17.2972267 11.615998,21.4281798 C9.20537366,25.5590099 8,30.0699084 8,34.9607523 C8,40.8357654 9.71405782,46.1187277 13.1430342,50.8109917 C16.5716416,55.5036246 21.0008949,58.7507436 26.4304251,60.5527176 C27.0624378,60.6700211 27.5302994,60.5875152 27.8345016,60.3072901 C28.1388268,60.0266961 28.290805,59.6752774 28.290805,59.2545094 C28.290805,59.1842994 28.2847799,58.5526556 28.2730988,57.3588401 C28.2610487,56.1650247 28.2553926,55.1235563 28.2553926,54.2349267 L27.4479164,54.3746089 C26.9330843,54.468919 26.2836113,54.5088809 25.4994975,54.4975686 C24.7157525,54.4866252 23.9021284,54.4044881 23.0597317,54.2517722 C22.2169661,54.1004088 21.4330982,53.749359 20.7075131,53.1993604 C19.982297,52.6493618 19.4674649,51.9294329 19.1631397,51.0406804 L18.8120898,50.2328353 C18.5780976,49.6950097 18.2097104,49.0975487 17.7064365,48.4426655 C17.2031625,47.7871675 16.6942324,47.3427912 16.1794003,47.108799 L15.9336039,46.9328437 C15.7698216,46.815909 15.6178435,46.6748743 15.4773006,46.511215 C15.3368806,46.3475556 15.2317501,46.1837734 15.1615401,46.0197452 C15.0912072,45.855594 15.1494901,45.7209532 15.3370036,45.6153308 C15.5245171,45.5097084 15.8633939,45.4584343 16.3551097,45.4584343 L17.0569635,45.5633189 C17.5250709,45.6571371 18.104088,45.9373622 18.7947525,46.4057156 C19.4850481,46.8737001 20.052507,47.4821045 20.4972521,48.230683 C21.0358155,49.1905062 21.6846737,49.9218703 22.4456711,50.4251443 C23.2060537,50.9284182 23.9727072,51.1796248 24.744894,51.1796248 C25.5170807,51.1796248 26.1840139,51.121096 26.7459396,51.0046532 C27.3072505,50.8875956 27.8338868,50.7116403 28.3256025,50.477771 C28.5362325,48.9090515 29.1097164,47.7039238 30.0455624,46.8615271 C28.7116959,46.721353 27.5124702,46.5102313 26.4472706,46.2295144 C25.3826858,45.9484285 24.2825656,45.4922482 23.1476478,44.8597436 C22.0121153,44.2280998 21.0701212,43.44374 20.3214198,42.5080169 C19.5725954,41.571802 18.9580429,40.3426971 18.4786232,38.821809 C17.9989575,37.300306 17.7590632,35.5451796 17.7590632,33.5559381 C17.7590632,30.7235621 18.6837199,28.3133066 20.5326645,26.3238191 C19.6665366,24.1944035 19.7483048,21.8072644 20.778215,19.1626478 C21.4569523,18.951772 22.4635002,19.1100211 23.7973667,19.6364115 C25.1314792,20.1630477 26.1082708,20.6141868 26.7287253,20.9882301 C27.3491798,21.3621504 27.8463057,21.6790175 28.2208409,21.9360032 C30.3978419,21.3277217 32.644438,21.0235195 34.9612442,21.0235195 C37.2780503,21.0235195 39.5251383,21.3277217 41.7022622,21.9360032 L43.0362517,21.0938524 C43.9484895,20.5319267 45.0257392,20.0169716 46.2654186,19.5488642 C47.5058357,19.0810026 48.4543466,18.9521409 49.1099676,19.1630167 C50.1627483,21.8077563 50.2565666,24.1947724 49.3901927,26.324188 C51.2390143,28.3136755 52.1640399,30.7245457 52.1640399,33.556307 C52.1640399,35.5455485 51.9232849,37.3062081 51.444357,38.8393922 C50.9648143,40.3728223 50.3449746,41.6006975 49.5845919,42.5256002 C48.8233486,43.4503799 47.8753296,44.2285916 46.7404118,44.8601125 C45.6052481,45.4921252 44.504759,45.9483056 43.4401742,46.2293914 C42.3750975,46.5104772 41.1758719,46.7217219 39.8420054,46.8621419 C41.0585683,47.9149226 41.6669728,49.5767225 41.6669728,51.846804 L41.6669728,59.2535257 C41.6669728,59.6742937 41.8132948,60.0255895 42.1061847,60.3063064 C42.3987058,60.5865315 42.8606653,60.6690374 43.492678,60.5516109 C48.922946,58.7498829 53.3521992,55.5026409 56.7806837,50.810008 C60.2087994,46.117744 61.923472,40.8347817 61.923472,34.9597686 C61.9222424,30.0695396 60.7162539,25.5590099 58.3067362,21.4281798 Z",id:"Shape",fill:"#FFFFFF",transform:"translate(-3, -3)"}))},sq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"#FFFFFF",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70491)"},M.createElement("path",{d:"M12.8309 33.1761H16.9699V23.1242L11.057 18.6896V31.4022C11.057 32.3837 11.8523 33.1761 12.8309 33.1761Z",fill:r?"#ffffff":"#4285F4"}),M.createElement("path",{d:"M31.1608 33.1761H35.2998C36.2813 33.1761 37.0736 32.3808 37.0736 31.4022V18.6896L31.1608 23.1242",fill:r?"#ffffff":"#34A853"}),M.createElement("path",{d:"M31.1608 15.4376V23.1243L37.0736 18.6897V16.3245C37.0736 14.1308 34.5695 12.8803 32.8164 14.1959",fill:r?"#ffffff":"#FBBC04"}),M.createElement("path",{d:"M16.9699 23.1242V15.4375L24.0653 20.759L31.1608 15.4375V23.1242L24.0653 28.4457",fill:r?"#ffffff":"#EA4335"}),M.createElement("path",{d:"M11.057 16.3245V18.6897L16.9699 23.1243V15.4376L15.3143 14.1959C13.5582 12.8803 11.057 14.1308 11.057 16.3245Z",fill:r?"#ffffff":"#C5221F"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70491",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70491"})),M.createElement("linearGradient",{id:"paint0_linear_668_70491",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",null),M.createElement("stop",{offset:"1",stopColor:"#323232"}))))},Zv={mixBlendMode:"normal"},oq=function(n){var e=n.color,t=n.width,i=n.height,r=n.simpleIcon;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,256,256",width:t,height:i,fillRule:"nonzero",fill:e||"#FFFFFF"},M.createElement("g",{transform:"translate(32,32) scale(0.75,0.75)"},M.createElement("g",{fill:"current",fillRule:"nonzero",stroke:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeDasharray:"",strokeDashoffset:"0",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:Zv},M.createElement("path",{d:"M-42.66667,298.66667v-341.33333h341.33333v341.33333z",id:"bgRectangle"})),M.createElement("g",{fill:"current",fillRule:"nonzero",stroke:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeDasharray:"",strokeDashoffset:"0",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:Zv},M.createElement("path",{d:"M42.66667,298.66667c-47.1283,0 -85.33333,-38.20503 -85.33333,-85.33333v-170.66667c0,-47.1283 38.20503,-85.33333 85.33333,-85.33333h170.66667c47.1283,0 85.33333,38.20503 85.33333,85.33333v170.66667c0,47.1283 -38.20503,85.33333 -85.33333,85.33333z",id:"shape"})),M.createElement("g",{fill:"none",fillRule:"nonzero",stroke:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",strokeDasharray:"",strokeDashoffset:"0",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:Zv},M.createElement("g",{transform:"scale(5.33333,5.33333)"},M.createElement("path",{d:"M43.611,20.083h-1.611v-0.083h-18v8h11.303c-1.649,4.657 -6.08,8 -11.303,8c-6.627,0 -12,-5.373 -12,-12c0,-6.627 5.373,-12 12,-12c3.059,0 5.842,1.154 7.961,3.039l5.657,-5.657c-3.572,-3.329 -8.35,-5.382 -13.618,-5.382c-11.045,0 -20,8.955 -20,20c0,11.045 8.955,20 20,20c11.045,0 20,-8.955 20,-20c0,-1.341 -0.138,-2.65 -0.389,-3.917z",fill:r?"#ffffff":"#ffc107"}),M.createElement("path",{d:"M6.306,14.691l6.571,4.819c1.778,-4.402 6.084,-7.51 11.123,-7.51c3.059,0 5.842,1.154 7.961,3.039l5.657,-5.657c-3.572,-3.329 -8.35,-5.382 -13.618,-5.382c-7.682,0 -14.344,4.337 -17.694,10.691z",fill:r?"#ffffff":"#ff3d00"}),M.createElement("path",{d:"M24,44c5.166,0 9.86,-1.977 13.409,-5.192l-6.19,-5.238c-2.008,1.521 -4.504,2.43 -7.219,2.43c-5.202,0 -9.619,-3.317 -11.283,-7.946l-6.522,5.025c3.31,6.477 10.032,10.921 17.805,10.921z",fill:r?"#ffffff":"#4caf50"}),M.createElement("path",{d:"M43.611,20.083h-1.611v-0.083h-18v8h11.303c-0.792,2.237 -2.231,4.166 -4.087,5.571c0.001,-0.001 0.002,-0.001 0.003,-0.002l6.19,5.238c-0.438,0.398 6.591,-4.807 6.591,-14.807c0,-1.341 -0.138,-2.65 -0.389,-3.917z",fill:r?"#ffffff":"#1976d2"})))))},aq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{id:"master-artboard",viewBox:"0 0 1000 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e,height:t,fill:i||"#fff"},M.createElement("rect",{id:"ee-background",x:"0",y:"0",width:"1000",height:"1000",fill:"current"}),M.createElement("g",{transform:"matrix(15.21261978149414, 0, 0, 15.21261978149414, 157.95425415039085, 131.90910430867643)"},M.createElement("g",{transform:"matrix(1 0 0 1 0 0)"},M.createElement("g",null,M.createElement("path",{d:"M44 41.992188C 44.01953 45.289062 41.320312 47.972656 37.976562 47.98828C 37.73047 47.992188 37.48047 47.976562 37.234375 47.94922C 34.132812 47.496094 31.859375 44.835938 31.933594 41.75L31.933594 41.75L31.933594 6.242188C 31.859375 3.148438 34.140625 0.488281 37.242188 0.0429688C 40.5625 -0.34375 43.570312 2 43.960938 5.273438C 43.98828 5.511719 44 5.753906 44 5.996094L44 5.996094L44 41.992188z",stroke:"none",fill:r?"#ffffff":"#F9AB00",fillRule:"nonzero"}),M.createElement("path",{d:"M6.035156 36.109375C 9.367188 36.109375 12.066406 38.76953 12.066406 42.054688C 12.066406 45.339844 9.367188 48 6.035156 48C 2.699219 48 0 45.339844 0 42.054688C 0 38.76953 2.699219 36.109375 6.035156 36.109375zM21.90625 18.089844C 18.558594 18.273438 15.960938 21.039062 16.039062 24.34375L16.039062 24.34375L16.039062 40.3125C 16.039062 44.64453 17.976562 47.273438 20.8125 47.835938C 24.082031 48.48828 27.269531 46.40625 27.933594 43.183594C 28.015625 42.785156 28.054688 42.38672 28.054688 41.984375L28.054688 41.984375L28.054688 24.066406C 28.058594 20.769531 25.355469 18.09375 22.011719 18.089844C 21.976562 18.089844 21.941406 18.089844 21.90625 18.089844z",stroke:"none",fill:r?"#ffffff":"#E37400",fillRule:"nonzero"})))))},lq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 356 356",fill:i||"#FFF"},M.createElement("rect",{width:"356",height:"356",fill:"current"}),M.createElement("g",{transform:"translate(50 50)"},M.createElement("path",{fill:"current",d:"M195.368 60.632H60.632v134.736h134.736z"}),M.createElement("path",{fill:r?"#ffffff":"#EA4335",d:"M195.368 256L256 195.368l-30.316-5.172l-30.316 5.172l-5.533 27.73z"}),M.createElement("path",{fill:r?"#ffffff":"#188038",d:"M0 195.368v40.421C0 246.956 9.044 256 20.21 256h40.422l6.225-30.316l-6.225-30.316l-33.033-5.172L0 195.368Z"}),M.createElement("path",{fill:r?"#ffffff":"#1967D2",d:"M256 60.632V20.21C256 9.044 246.956 0 235.79 0h-40.422c-3.688 15.036-5.533 26.101-5.533 33.196c0 7.094 1.845 16.24 5.533 27.436c13.41 3.84 23.515 5.76 30.316 5.76c6.801 0 16.906-1.92 30.316-5.76Z"}),M.createElement("path",{fill:r?"#ffffff":"#FBBC04",d:"M256 60.632h-60.632v134.736H256z"}),M.createElement("path",{fill:r?"#ffffff":"#34A853",d:"M195.368 195.368H60.632V256h134.736z"}),M.createElement("path",{fill:r?"#ffffff":"#4285F4",d:"M195.368 0H20.211C9.044 0 0 9.044 0 20.21v175.158h60.632V60.632h134.736V0Z"}),M.createElement("path",{fill:r?"#ffffff":"#4285F4",d:"M88.27 165.154c-5.036-3.402-8.523-8.37-10.426-14.94l11.689-4.816c1.06 4.042 2.913 7.175 5.558 9.398c2.627 2.223 5.827 3.318 9.566 3.318c3.823 0 7.107-1.162 9.852-3.487c2.746-2.324 4.127-5.288 4.127-8.875c0-3.672-1.449-6.67-4.345-8.994c-2.897-2.324-6.535-3.486-10.88-3.486h-6.754v-11.57h6.063c3.739 0 6.888-1.011 9.448-3.033c2.56-2.02 3.84-4.783 3.84-8.303c0-3.132-1.145-5.625-3.435-7.494c-2.29-1.87-5.188-2.813-8.708-2.813c-3.436 0-6.164.91-8.185 2.745a16.115 16.115 0 0 0-4.413 6.754l-11.57-4.817c1.532-4.345 4.345-8.185 8.471-11.503c4.127-3.318 9.398-4.985 15.798-4.985c4.733 0 8.994.91 12.767 2.745c3.772 1.836 6.736 4.379 8.875 7.613c2.14 3.25 3.2 6.888 3.2 10.93c0 4.126-.993 7.613-2.98 10.476c-1.988 2.863-4.43 5.052-7.327 6.585v.69a22.248 22.248 0 0 1 9.398 7.327c2.442 3.284 3.672 7.208 3.672 11.79c0 4.58-1.163 8.673-3.487 12.26c-2.324 3.588-5.54 6.417-9.617 8.472c-4.092 2.055-8.69 3.1-13.793 3.1c-5.912.016-11.369-1.685-16.405-5.087Zm71.797-58.005l-12.833 9.28l-6.417-9.734l23.023-16.607h8.825v78.333h-12.598V107.15Z"})))},uq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Google Maps",role:"img",fill:i||"#FFFFFF",viewBox:"0 0 512 512",width:e,height:t},M.createElement("rect",{width:"512",height:"512",fill:"current"}),M.createElement("clipPath",{id:"a"},M.createElement("path",{d:"M375 136a133 133 0 00-79-66 136 136 0 00-40-6 133 133 0 00-103 48 133 133 0 00-31 86c0 38 13 64 13 64 15 32 42 61 61 86a399 399 0 0130 45 222 222 0 0117 42c3 10 6 13 13 13s11-5 13-13a228 228 0 0116-41 472 472 0 0145-63c5-6 32-39 45-64 0 0 15-29 15-68 0-37-15-63-15-63z"})),M.createElement("g",{strokeWidth:"130",clipPath:"url(#a)"},M.createElement("path",{stroke:r?"#ffffff":"#fbbc04",d:"M104 379l152-181"}),M.createElement("path",{stroke:r?"#ffffff":"#4285f4",d:"M256 198L378 53"}),M.createElement("path",{stroke:r?"#ffffff":"#34a853",d:"M189 459l243-290"}),M.createElement("path",{stroke:r?"#ffffff":"#1a73e8",d:"M255 120l-79-67"}),M.createElement("path",{stroke:r?"#ffffff":"#ea4335",d:"M76 232l91-109"})),M.createElement("circle",{cx:"256",cy:"198",r:"51",fill:"current"}))},cq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{width:e,height:t,fill:i||"#FFFFFF",xmlns:"http://www.w3.org/2000/svg","aria-label":"Google Meet",role:"img",viewBox:"0 0 512 512"},M.createElement("rect",{width:"512",height:"512",fill:"current"}),M.createElement("path",{d:"M166 106v90h-90",fill:r?"#ffffff":"#ea4335"}),M.createElement("path",{d:"M166 106v90h120v62l90-73v-49q0-30-30-30",fill:r?"#ffffff":"#ffba00"}),M.createElement("path",{d:"M164 406v-90h122v-60l90 71v49q0 30-30 30",fill:r?"#ffffff":"#00ac47"}),M.createElement("path",{d:"M286 256l90-73v146",fill:r?"#ffffff":"#00832d"}),M.createElement("path",{d:"M376 183l42-34c9-7 18-7 18 7v200c0 14-9 14-18 7l-42-34",fill:r?"#ffffff":"#00ac47"}),M.createElement("path",{d:"M76 314v62q0 30 30 30h60v-92",fill:r?"#ffffff":"#0066da"}),M.createElement("path",{d:"M76 196h90v120h-90",fill:r?"#ffffff":"#2684fc"}))},fq=function(n){var e=n.color,t=n.width,i=n.height;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70399)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{clipPath:"url(#clip0_668_70399)",filter:"url(#filter0_i_668_70399)"},M.createElement("g",{filter:"url(#filter1_i_668_70399)"},M.createElement("path",{d:"M33.3192 37.6073C35.2864 36.8472 36.8417 35.2919 37.6018 33.3247C37.9616 32.3928 38.2134 31.3295 38.2818 29.7743C38.298 29.41 38.3106 29.1041 38.3223 28.7974V18.4061C38.3142 18.1893 38.3052 17.9635 38.2935 17.7099C38.2251 16.1546 37.9733 15.086 37.6135 14.1595C37.242 13.1763 36.6699 12.2957 35.9215 11.5644C35.1893 10.8204 34.3032 10.243 33.3308 9.87775C32.3989 9.51794 31.3357 9.26607 29.7804 9.19771C28.2135 9.12305 27.716 9.10596 23.7428 9.10596C19.7696 9.10596 19.2713 9.12305 17.7106 9.19141C16.1554 9.25978 15.0867 9.51164 14.1602 9.87145C13.1771 10.243 12.2964 10.815 11.5642 11.5644C10.8212 12.2966 10.2437 13.1826 9.87761 14.1541C9.5178 15.086 9.26593 16.1492 9.19757 17.7045C9.12291 19.2715 9.10582 19.7689 9.10582 23.743C9.10582 27.7171 9.12291 28.2145 9.19127 29.7752C9.25964 31.3304 9.5115 32.4 9.87221 33.3256C10.2437 34.3088 10.8212 35.1894 11.5642 35.9216C12.2964 36.6646 13.1825 37.243 14.1548 37.6082C15.0867 37.968 16.15 38.2199 17.7052 38.2882C19.2659 38.3575 19.7634 38.3746 23.7374 38.3746C27.7115 38.3746 28.2081 38.3575 29.7696 38.2882C31.3249 38.2199 32.3935 37.968 33.3201 37.6082L33.3192 37.6073ZM23.7482 35.7435C19.8425 35.7435 19.3739 35.7264 17.8357 35.658C16.4063 35.5951 15.6345 35.3549 15.12 35.1552C14.4859 34.9204 13.9084 34.5489 13.4388 34.0632C12.9531 33.5882 12.5807 33.017 12.3468 32.382C12.1471 31.8675 11.9069 31.0894 11.844 29.6663C11.7756 28.1227 11.7585 27.6595 11.7585 23.7538C11.7585 19.848 11.7756 19.3794 11.844 17.8421C11.9069 16.4128 12.1471 15.641 12.3468 15.1265C12.5816 14.4914 12.9531 13.9139 13.4451 13.4453C13.9192 12.9595 14.4913 12.588 15.1254 12.3532C15.6399 12.1535 16.418 11.9134 17.8411 11.8504C19.3847 11.782 19.8479 11.7649 23.7527 11.7649C27.6576 11.7649 28.1271 11.782 29.6653 11.8504C31.0946 11.9134 31.8664 12.1535 32.3809 12.3532C33.0151 12.588 33.5926 12.9595 34.0613 13.4453C34.547 13.9202 34.9194 14.4914 35.1533 15.1265C35.353 15.641 35.5931 16.4182 35.6561 17.8421C35.7245 19.3857 35.7416 19.8489 35.7416 23.7538C35.7416 27.6586 35.7245 28.1164 35.6561 29.66C35.5931 31.0894 35.353 31.8612 35.1533 32.3757C34.6612 33.6512 33.6493 34.6632 32.3747 35.1543C31.8601 35.354 31.0829 35.5942 29.659 35.6571C28.1154 35.7255 27.6522 35.7426 23.7473 35.7426L23.7482 35.7435Z",fill:"white"}),M.createElement("path",{d:"M23.7428 16.2229C19.5915 16.2229 16.2237 19.5907 16.2237 23.742C16.2237 27.8933 19.5915 31.2611 23.7428 31.2611C27.8941 31.2611 31.261 27.8933 31.261 23.742C31.261 19.5907 27.8932 16.2229 23.7428 16.2229ZM23.7428 28.6183C21.0496 28.6183 18.8656 26.4343 18.8656 23.7411C18.8656 21.0479 21.0496 18.8639 23.7428 18.8639C26.436 18.8639 28.62 21.0479 28.62 23.7411C28.62 26.4343 26.436 28.6183 23.7428 28.6183Z",fill:"white"}),M.createElement("path",{d:"M33.3138 15.9261C33.3138 14.9564 32.5276 14.1711 31.5579 14.1711C30.5882 14.1711 29.8029 14.9573 29.8029 15.9261C29.8029 16.8949 30.5891 17.6811 31.5579 17.6811C32.5267 17.6811 33.3138 16.8958 33.3138 15.9261Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70399",x:"9.10582",y:"9.10596",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70399"})),M.createElement("filter",{id:"filter1_i_668_70399",x:"9.10582",y:"9.10596",width:"29.2165",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70399"})),M.createElement("linearGradient",{id:"paint0_linear_668_70399",x1:"24",y1:"-1.49563",x2:"24",y2:"50.5155",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#FCA759"}),M.createElement("stop",{offset:"0.19",stopColor:"#E82D56"}),M.createElement("stop",{offset:"0.74",stopColor:"#A22DB4"}),M.createElement("stop",{offset:"1",stopColor:"#643DCE"})),M.createElement("clipPath",{id:"clip0_668_70399"},M.createElement("rect",{width:"29.2686",height:"29.2686",fill:"white",transform:"translate(9.10582 9.10596)"}))))},hq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint1_linear_668_70500)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70500)"},M.createElement("path",{d:"M12.8309 33.1761H16.9699V23.1242L11.057 18.6896V31.4022C11.057 32.3837 11.8523 33.1761 12.8309 33.1761Z",fill:"#4285F4"}),M.createElement("path",{d:"M31.1608 33.1761H35.2998C36.2813 33.1761 37.0736 32.3808 37.0736 31.4022V18.6896L31.1608 23.1242",fill:"#34A853"}),M.createElement("path",{d:"M31.1608 15.4376V23.1243L37.0736 18.6897V16.3245C37.0736 14.1308 34.5695 12.8803 32.8164 14.1959",fill:"#FBBC04"}),M.createElement("path",{d:"M16.9699 23.1242V15.4375L24.0653 20.759L31.1607 15.4375V23.1242L24.0653 28.4457",fill:"#EA4335"}),M.createElement("path",{d:"M11.057 16.3245V18.6897L16.9699 23.1243V15.4376L15.3143 14.1959C13.5582 12.8803 11.057 14.1308 11.057 16.3245Z",fill:"#C5221F"})),M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter1_i_668_70500)"},M.createElement("path",{d:"M18.5384 35.2008V19.2614H13.2451V35.2008H18.539H18.5384ZM15.8929 17.0856C17.7384 17.0856 18.8873 15.8616 18.8873 14.332C18.8528 12.7676 17.7384 11.5778 15.928 11.5778C14.1163 11.5778 12.9331 12.7676 12.9331 14.3319C12.9331 15.8615 14.0816 17.0854 15.8582 17.0854H15.8924L15.8929 17.0856ZM21.4683 35.2008H26.7612V26.3005C26.7612 25.8247 26.7957 25.3477 26.9356 25.0079C27.318 24.0557 28.189 23.0701 29.6516 23.0701C31.5664 23.0701 32.3329 24.5316 32.3329 26.6746V35.2008H37.6256V26.0616C37.6256 21.166 35.0146 18.8877 31.5322 18.8877C28.677 18.8877 27.4231 20.485 26.7264 21.5728H26.7616V19.262H21.4686C21.5377 20.7573 21.4682 35.2013 21.4682 35.2013L21.4683 35.2008Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70500",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70500"})),M.createElement("filter",{id:"filter1_i_668_70500",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70500"})),M.createElement("linearGradient",{id:"paint0_linear_668_70500",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",null),M.createElement("stop",{offset:"1",stopColor:"#323232"})),M.createElement("linearGradient",{id:"paint1_linear_668_70500",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#006699"}),M.createElement("stop",{offset:"1",stopColor:"#058CCF"}))))},dq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_radial_668_70431)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70431)"},M.createElement("path",{d:"M24.065 11.057C16.7383 11.057 11.0571 16.4261 11.0571 23.6747C11.0571 27.4665 12.6115 30.7445 15.1415 33.0079C15.3529 33.1965 15.483 33.4632 15.4895 33.7494L15.561 36.0648C15.5663 36.2352 15.6132 36.4016 15.6978 36.5496C15.7825 36.6975 15.9021 36.8225 16.0463 36.9133C16.1905 37.0042 16.3548 37.0583 16.5248 37.0708C16.6948 37.0833 16.8652 37.0539 17.0212 36.9851L19.6033 35.8469C19.8211 35.7493 20.0683 35.7331 20.2992 35.7949C21.4862 36.1201 22.7479 36.2957 24.065 36.2957C31.3917 36.2957 37.0729 30.9267 37.0729 23.678C37.0729 16.4293 31.3917 11.057 24.065 11.057Z",fill:"white"}),M.createElement("path",{d:"M16.2537 27.3657L20.0748 21.304C20.2185 21.0758 20.408 20.8799 20.6313 20.7286C20.8546 20.5773 21.1068 20.4739 21.3721 20.4251C21.6373 20.3762 21.9098 20.3828 22.1724 20.4445C22.4349 20.5063 22.6819 20.6218 22.8975 20.7837L25.9381 23.0634C26.0739 23.165 26.239 23.2196 26.4086 23.2191C26.5781 23.2185 26.7429 23.1627 26.8779 23.0601L30.9819 19.9447C31.5283 19.5285 32.2437 20.1854 31.8795 20.7675L28.0552 26.8259C27.9114 27.0541 27.7219 27.2501 27.4986 27.4014C27.2753 27.5526 27.0231 27.656 26.7579 27.7049C26.4926 27.7538 26.2201 27.7472 25.9576 27.6854C25.695 27.6237 25.4481 27.5082 25.2324 27.3462L22.1918 25.0666C22.0561 24.965 21.891 24.9103 21.7214 24.9109C21.5518 24.9115 21.3871 24.9673 21.252 25.0698L17.148 28.1852C16.6017 28.6015 15.8862 27.9478 16.2537 27.3657Z",fill:"current"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70431",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70431"})),M.createElement("radialGradient",{id:"paint0_radial_668_70431",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.04 47.9987) scale(52.8 52.7986)"},M.createElement("stop",{stopColor:"#0099FF"}),M.createElement("stop",{offset:"0.6",stopColor:"#A033FF"}),M.createElement("stop",{offset:"0.9",stopColor:"#FF5280"}),M.createElement("stop",{offset:"1",stopColor:"#FF7061"})),M.createElement("radialGradient",{id:"paint1_radial_668_70431",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.4147 37.0729) scale(28.6174)"},M.createElement("stop",{stopColor:"#0099FF"}),M.createElement("stop",{offset:"0.6",stopColor:"#A033FF"}),M.createElement("stop",{offset:"0.9",stopColor:"#FF5280"}),M.createElement("stop",{offset:"1",stopColor:"#FF7061"}))))},pq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70580)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70580)"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.458 11.9333C22.3398 11.9333 18.1762 16.105 18.1762 21.2325C18.1762 26.3445 22.3402 30.5037 27.458 30.5037C32.5604 30.5037 36.7111 26.3445 36.7111 21.2325C36.7115 16.105 32.5604 11.9333 27.458 11.9333Z",fill:"white"}),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9333 36.7033H15.4653V11.9333H10.9333V36.7033Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70580",x:"9",y:"10",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70580"})),M.createElement("linearGradient",{id:"paint0_linear_668_70580",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.015625",stopColor:"#FF424D"}),M.createElement("stop",{offset:"0.973958",stopColor:"#FF424D"}))))},mq=function(n){var e=n.color,t=n.width,i=n.height;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70428)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("path",{d:"M22.4758 9.85181C17.8344 10.3827 13.2093 14.2302 13.0184 19.7263C12.8984 23.082 13.8283 25.5995 16.9453 26.3065C18.298 23.8616 16.509 23.3223 16.2308 21.5536C15.0882 14.3057 24.3902 9.36284 29.258 14.423C32.6259 17.9269 30.4088 28.7066 24.9765 27.5862C19.7733 26.516 27.5236 17.9352 23.3703 16.2504C19.9942 14.8812 18.1998 20.4388 19.8006 23.1994C18.8625 27.9466 16.8417 32.42 17.6598 38.3743C20.3132 36.4017 21.2077 32.624 21.9413 28.6843C23.2748 29.5141 23.9866 30.3775 25.6883 30.5116C31.9632 31.009 35.4675 24.0935 34.6112 17.7145C33.8503 12.0592 28.3417 9.18122 22.4758 9.85181Z",fill:"white"}),M.createElement("defs",null,M.createElement("linearGradient",{id:"paint0_linear_668_70428",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#CC0606"}),M.createElement("stop",{offset:"1",stopColor:"#FF0000"}))))},gq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70424)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70424)"},M.createElement("g",{clipPath:"url(#clip0_668_70424)"},M.createElement("path",{d:"M37.817 24.2503C37.8212 24.5364 37.7854 24.8219 37.7096 25.098C37.6337 25.3742 37.5189 25.6388 37.3683 25.8831C37.2182 26.1274 37.0339 26.3498 36.8211 26.5434C36.6084 26.7371 36.3693 26.8999 36.1107 27.0273C36.1165 27.1035 36.1212 27.1803 36.1239 27.257C36.1302 27.41 36.1302 27.5633 36.1239 27.7163C36.1212 27.7931 36.1165 27.8698 36.1107 27.946C36.1107 32.6231 30.6125 36.4232 23.8293 36.4232C17.0461 36.4232 11.548 32.6231 11.548 27.946C11.5422 27.8698 11.5374 27.7931 11.5348 27.7163C11.5285 27.5633 11.5285 27.41 11.5348 27.257C11.5374 27.1803 11.5422 27.1035 11.548 27.0273C11.1428 26.8427 10.783 26.5731 10.4934 26.2371C10.2038 25.9011 9.99127 25.5067 9.87059 25.0813C9.75011 24.6557 9.72445 24.2092 9.79538 23.7728C9.86631 23.3363 10.0321 22.9204 10.2814 22.5538C10.5304 22.1873 10.8569 21.8788 11.2382 21.6499C11.6195 21.4209 12.0465 21.277 12.4896 21.228C12.9327 21.1787 13.3814 21.2256 13.8044 21.3653C14.2274 21.505 14.6148 21.7342 14.9396 22.037C15.5425 21.632 16.1742 21.2707 16.8297 20.956C17.4854 20.6418 18.1631 20.3745 18.8578 20.1573C19.5524 19.9402 20.2624 19.7737 20.9812 19.6583C21.7001 19.543 22.4269 19.4798 23.1552 19.4688L24.7141 12.2236C24.7315 12.1395 24.7657 12.0602 24.8147 11.9892C24.8631 11.9187 24.9258 11.8582 24.9979 11.8117C25.0706 11.7652 25.1517 11.7334 25.237 11.7177C25.3218 11.7026 25.4093 11.7042 25.4935 11.7224L30.6546 12.7456C31.1755 11.8587 32.2688 11.4787 33.2342 11.8482C34.1995 12.2178 34.7514 13.2279 34.5355 14.2311C34.3201 15.2344 33.4006 15.9339 32.3673 15.8812C31.3335 15.8284 30.4914 15.0392 30.3808 14.0192L25.8727 13.0796L24.5034 19.5941C25.2228 19.6093 25.9406 19.6761 26.6506 19.7935C28.0722 20.0284 29.4522 20.4655 30.7479 21.0912C31.395 21.4033 32.0186 21.7613 32.6138 22.1623C33.0417 21.7551 33.5795 21.4793 34.1621 21.3684C34.7447 21.257 35.3474 21.3152 35.8974 21.5359C36.4474 21.7565 36.9214 22.1302 37.2619 22.6118C37.6026 23.0934 37.7954 23.6625 37.817 24.2503ZM16.9113 27.1374C17.0177 27.3906 17.1725 27.6208 17.3684 27.8145C17.5638 28.0087 17.7961 28.1621 18.0515 28.2676C18.3072 28.3724 18.5811 28.4263 18.8578 28.4263C19.7099 28.4263 20.4778 27.9173 20.8043 27.1374C21.1303 26.3571 20.9496 25.4592 20.3471 24.8621C19.7447 24.2649 18.8388 24.0859 18.0515 24.409C17.2647 24.7326 16.7512 25.4937 16.7512 26.3383C16.7512 26.6123 16.8055 26.8838 16.9113 27.1374ZM28.9768 32.1496C29.0847 32.0452 29.1463 31.9027 29.1484 31.7534C29.1505 31.6036 29.0921 31.4596 28.9868 31.3525C28.8814 31.2455 28.7377 31.1845 28.587 31.1824C28.4359 31.1803 28.2905 31.2382 28.1689 31.3285C27.8521 31.5537 27.5167 31.7519 27.1661 31.921C26.8156 32.0902 26.4513 32.2297 26.077 32.3381C25.7031 32.4461 25.3203 32.5229 24.9332 32.5672C24.5456 32.6116 24.1553 32.6231 23.7661 32.6022C23.3775 32.6194 22.9877 32.6038 22.6017 32.5557C22.2156 32.5082 21.8343 32.4279 21.4621 32.3156C21.0892 32.2039 20.7274 32.0609 20.3793 31.8886C20.0312 31.7164 19.6983 31.5149 19.3844 31.2868C19.2754 31.198 19.1369 31.1526 18.9958 31.1594C18.8546 31.1662 18.7214 31.2252 18.6213 31.3238C18.5218 31.423 18.4623 31.5551 18.4554 31.695C18.4486 31.8349 18.4944 31.9722 18.5839 32.0802C18.9542 32.3569 19.3476 32.6012 19.7599 32.811C20.1723 33.0208 20.6026 33.1947 21.0449 33.3314C21.4873 33.4682 21.9408 33.5668 22.4005 33.6269C22.8603 33.6864 23.3243 33.7067 23.7872 33.688C24.2501 33.7067 24.7141 33.6864 25.1738 33.6269C26.0947 33.5068 26.9879 33.2309 27.8144 32.811C28.2268 32.6012 28.6202 32.3569 28.9904 32.0802L28.9768 32.1496ZM28.5902 28.5933C28.8756 28.5964 29.159 28.5416 29.4228 28.433C29.6867 28.3239 29.9252 28.1632 30.1243 27.9601C30.3234 27.7571 30.4782 27.5159 30.5804 27.2512C30.6826 26.9869 30.7294 26.7047 30.7178 26.4218C30.7178 25.5772 30.2044 24.8161 29.4176 24.4925C28.6302 24.1694 27.7244 24.3484 27.1219 24.9456C26.5194 25.5428 26.3388 26.4406 26.6648 27.221C26.9913 28.0008 27.7591 28.5098 28.6113 28.5098L28.5902 28.5933Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70424",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70424"})),M.createElement("linearGradient",{id:"paint0_linear_668_70424",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#FF4500"}),M.createElement("stop",{offset:"1",stopColor:"#F04100"})),M.createElement("clipPath",{id:"clip0_668_70424"},M.createElement("rect",{x:"9.1058",y:"9.1058",width:"29.2686",height:"29.2686",rx:"8",fill:"white"}))))},vq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70443)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70443)"},M.createElement("g",{clipPath:"url(#clip0_668_70443)"},M.createElement("path",{d:"M26.3895 18.6279C26.3895 20.6358 25.5818 22.5614 24.1441 23.9812C22.7064 25.401 20.7565 26.1987 18.7233 26.1987C16.6901 26.1987 14.7401 25.401 13.3024 23.9812C11.8647 22.5614 11.057 20.6358 11.057 18.6279C11.057 16.62 11.8647 14.6943 13.3024 13.2745C14.7401 11.8547 16.6901 11.057 18.7233 11.057C20.7565 11.057 22.7064 11.8547 24.1441 13.2745C25.5818 14.6943 26.3895 16.62 26.3895 18.6279Z",fill:"white"}),M.createElement("path",{d:"M37.0736 29.5001C37.0736 30.4947 36.8752 31.4795 36.4898 32.3984C36.1044 33.3172 35.5395 34.1521 34.8274 34.8553C34.1153 35.5586 33.2699 36.1165 32.3395 36.4971C31.409 36.8777 30.4118 37.0736 29.4047 37.0736C27.3708 37.0736 25.4202 36.2756 23.982 34.8553C22.5438 33.4351 21.7358 31.5087 21.7358 29.5001C21.7358 27.4915 22.5438 25.5652 23.982 24.1449C25.4202 22.7246 27.3708 21.9267 29.4047 21.9267C30.4118 21.9267 31.409 22.1226 32.3395 22.5032C33.2699 22.8838 34.1153 23.4417 34.8274 24.1449C35.5395 24.8482 36.1044 25.6831 36.4898 26.6019C36.8752 27.5208 37.0736 28.5056 37.0736 29.5001Z",fill:"white"}),M.createElement("path",{opacity:"0.05",fillRule:"evenodd",clipRule:"evenodd",d:"M11.0851 19.2756C11.2041 20.7061 11.7299 22.0738 12.6013 23.2204C13.4727 24.3669 14.6542 25.2453 16.0089 25.7538C17.3635 26.2623 18.8358 26.38 20.2553 26.0934C21.6747 25.8068 22.9831 25.1275 24.0288 24.1343C25.0746 23.1411 25.8149 21.8746 26.164 20.4816C26.513 19.0886 26.4566 17.6261 26.0012 16.2635C25.5458 14.901 24.7101 13.6942 23.5908 12.783C22.4716 11.8718 21.1147 11.2935 19.6773 11.1151C17.7257 11.762 15.9429 12.8293 14.4573 14.2403C12.9716 15.6513 11.8199 17.371 11.0851 19.2756Z",fill:"white"}),M.createElement("path",{opacity:"0.05",fillRule:"evenodd",clipRule:"evenodd",d:"M37.0534 28.9565C36.9533 27.5086 36.4368 26.1194 35.5649 24.9533C34.693 23.7871 33.5023 22.8928 32.1336 22.3761C30.7648 21.8593 29.2754 21.7418 27.8414 22.0375C26.4074 22.3331 25.0888 23.0295 24.0417 24.0443C22.9946 25.0591 22.2627 26.3498 21.9326 27.7637C21.6026 29.1777 21.6881 30.6557 22.1791 32.023C22.6702 33.3903 23.5462 34.5896 24.7035 35.4791C25.8608 36.3687 27.2511 36.9112 28.7098 37.0424C30.6081 36.3727 32.3372 35.3028 33.7777 33.9067C35.2182 32.5105 36.3358 30.8213 37.0534 28.9556V28.9565Z",fill:"white"}),M.createElement("path",{opacity:"0.1",fillRule:"evenodd",clipRule:"evenodd",d:"M11.4439 21.0067C11.8466 22.2272 12.5551 23.3266 13.5031 24.202C14.4512 25.0775 15.6079 25.7004 16.865 26.0125C18.1221 26.3245 19.4385 26.3156 20.6912 25.9865C21.9438 25.6575 23.0918 25.019 24.0277 24.1308C24.9636 23.2426 25.6569 22.1337 26.0427 20.9078C26.4285 19.682 26.4942 18.3792 26.2337 17.1214C25.9732 15.8635 25.3949 14.6917 24.5531 13.7154C23.7112 12.7392 22.6332 11.9905 21.4199 11.5393C19.0289 12.0328 16.8259 13.1821 15.0621 14.856C13.2983 16.5298 12.0446 18.6611 11.4439 21.0067Z",fill:"white"}),M.createElement("path",{opacity:"0.1",fillRule:"evenodd",clipRule:"evenodd",d:"M36.7051 27.1769C36.3084 25.9419 35.5993 24.8281 34.6453 23.9414C33.6914 23.0547 32.5243 22.4246 31.2551 22.1111C29.986 21.7976 28.657 21.8111 27.3946 22.1503C26.1322 22.4895 24.9784 23.1432 24.043 24.0491C23.1076 24.9549 22.4217 26.0829 22.0505 27.3257C21.6794 28.5684 21.6354 29.8846 21.9227 31.149C22.21 32.4133 22.8191 33.5838 23.692 34.549C24.5648 35.5143 25.6724 36.2421 26.9094 36.6634C29.2698 36.1385 31.4362 34.9732 33.1662 33.2978C34.8962 31.6224 36.1216 29.503 36.7051 27.1769Z",fill:"white"}),M.createElement("path",{opacity:"0.1",fillRule:"evenodd",clipRule:"evenodd",d:"M11.7258 21.7247C12.2246 22.8383 12.9866 23.8166 13.9474 24.5769C14.9083 25.3372 16.0397 25.8572 17.2461 26.0929C18.4525 26.3286 19.6985 26.2731 20.8787 25.9311C22.0589 25.589 23.1387 24.9706 24.0268 24.1279C24.9149 23.2852 25.5852 22.2431 25.9811 21.0896C26.3771 19.9361 26.4869 18.7052 26.3015 17.5007C26.116 16.2963 25.6407 15.1538 24.9157 14.1697C24.1906 13.1857 23.2372 12.389 22.1359 11.8471C19.589 12.2399 17.225 13.3977 15.3634 15.1641C13.5017 16.9305 12.232 19.2205 11.7258 21.7247Z",fill:"white"}),M.createElement("path",{opacity:"0.1",fillRule:"evenodd",clipRule:"evenodd",d:"M36.4224 26.444C35.9262 25.3175 35.1613 24.3272 34.1936 23.5581C33.2258 22.789 32.0842 22.2643 30.8666 22.0288C29.649 21.7934 28.3919 21.8543 27.2034 22.2064C26.0148 22.5585 24.9303 23.1913 24.043 24.0503C23.1556 24.9093 22.492 25.9689 22.1092 27.138C21.7263 28.3072 21.6356 29.551 21.8449 30.7625C22.0541 31.9741 22.5571 33.1172 23.3106 34.0937C24.0641 35.0701 25.0456 35.8508 26.1707 36.3685C28.6953 35.9435 31.0291 34.7658 32.8608 32.9926C34.6924 31.2194 35.9349 28.935 36.4224 26.444Z",fill:"white"}),M.createElement("path",{d:"M36.2089 24.1216C36.2089 25.6963 35.8948 27.2556 35.2846 28.7104C34.6744 30.1652 33.78 31.4871 32.6525 32.6006C31.525 33.7141 30.1864 34.5973 28.7133 35.1999C27.2401 35.8025 25.6612 36.1127 24.0666 36.1127C22.4721 36.1127 20.8932 35.8025 19.42 35.1999C17.9468 34.5973 16.6083 33.7141 15.4808 32.6006C14.3533 31.4871 13.4589 30.1652 12.8487 28.7104C12.2385 27.2556 11.9244 25.6963 11.9244 24.1216C11.9244 22.547 12.2385 20.9877 12.8487 19.5329C13.4589 18.078 14.3533 16.7562 15.4808 15.6427C16.6083 14.5292 17.9468 13.646 19.42 13.0434C20.8932 12.4408 22.4721 12.1306 24.0666 12.1306C25.6612 12.1306 27.2401 12.4408 28.7133 13.0434C30.1864 13.646 31.525 14.5292 32.6525 15.6427C33.78 16.7562 34.6744 18.078 35.2846 19.5329C35.8948 20.9877 36.2089 22.547 36.2089 24.1216Z",fill:"white"}),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.6523 23.7054C20.1616 23.3854 19.7521 22.9575 19.4558 22.4549C19.1698 21.9239 19.0286 21.3282 19.0462 20.7265C19.0245 19.963 19.2875 19.2184 19.7849 18.6348C20.3018 18.0488 20.9662 17.6089 21.7104 17.36C22.5199 17.0767 23.3727 16.9344 24.2311 16.9394C24.7928 16.9341 25.3538 16.9768 25.9081 17.0669C26.3048 17.1276 26.6945 17.2272 27.0713 17.3643C27.4173 17.4804 27.7297 17.678 27.9816 17.9402C28.1671 18.1559 28.267 18.4312 28.2625 18.7146C28.2691 18.8618 28.2464 19.0089 28.1956 19.1474C28.1449 19.286 28.0671 19.4132 27.9667 19.522C27.8717 19.6222 27.7564 19.7013 27.6283 19.7542C27.5002 19.8071 27.3623 19.8326 27.2236 19.829C27.0328 19.8274 26.8444 19.7854 26.6713 19.7058C26.2446 19.5166 25.805 19.3572 25.3558 19.2289C24.9423 19.1208 24.5161 19.0683 24.0885 19.0728C23.5312 19.0524 22.9798 19.1922 22.5008 19.4751C22.2987 19.5968 22.1332 19.7701 22.0217 19.9768C21.9103 20.1835 21.8569 20.4161 21.8671 20.6502C21.8642 20.9576 21.9822 21.2541 22.1962 21.4767C22.4505 21.7382 22.751 21.9513 23.0828 22.1054C23.4545 22.2881 24.0088 22.5304 24.7458 22.8322C24.8274 22.8578 24.907 22.8894 24.9839 22.9267C25.703 23.2086 26.3925 23.5597 27.0424 23.9751C27.5557 24.3067 27.9885 24.7468 28.3098 25.2638C28.6261 25.8072 28.7845 26.4267 28.7675 27.0538C28.7941 27.8216 28.572 28.5776 28.1339 29.2114C27.6877 29.8115 27.0704 30.2655 26.3615 30.5148C25.5071 30.8173 24.6043 30.9631 23.6972 30.945C22.4508 30.9882 21.2102 30.7556 20.0659 30.2642C19.7733 30.1351 19.5168 29.9375 19.3184 29.6884C19.1537 29.4601 19.0683 29.185 19.0751 28.9044C19.0669 28.7564 19.0912 28.6085 19.1464 28.4707C19.2016 28.333 19.2862 28.2087 19.3946 28.1066C19.6217 27.9095 19.9165 27.8064 20.2182 27.8187C20.5542 27.8232 20.8844 27.9073 21.1809 28.0641C21.5497 28.2468 21.8406 28.3838 22.0535 28.4751C22.2968 28.576 22.5487 28.655 22.8063 28.711C23.1238 28.7801 23.4483 28.8132 23.7734 28.8099C24.3483 28.8506 24.9205 28.6995 25.3987 28.3806C25.5777 28.2418 25.7208 28.0627 25.8161 27.8583C25.9114 27.6538 25.9561 27.4297 25.9466 27.2047C25.9472 26.8856 25.8244 26.5784 25.6035 26.3461C25.3116 26.0475 24.97 25.8011 24.5935 25.6177C24.1483 25.3852 23.5222 25.102 22.7152 24.7678C21.9935 24.4828 21.3024 24.1269 20.6523 23.7054Z",fill:"current"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70443",x:"11.057",y:"11.057",width:"26.0166",height:"26.5166",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70443"})),M.createElement("linearGradient",{id:"paint0_linear_668_70443",x1:"4.22769",y1:"3.57728",x2:"44.2282",y2:"46.8298",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#00B7F0"}),M.createElement("stop",{offset:"1",stopColor:"#0D96C0"})),M.createElement("clipPath",{id:"clip0_668_70443"},M.createElement("rect",{x:"11.057",y:"11.057",width:"26.0166",height:"26.0166",rx:"8",fill:"white"}))))},yq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70761)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70761)"},M.createElement("g",{clipPath:"url(#clip0_668_70761)"},M.createElement("path",{d:"M23.8575 11.0571H23.8564C22.7256 11.0574 21.6241 11.2749 20.5825 11.7036C19.5827 12.1151 18.6829 12.7018 17.908 13.4475C17.1342 14.1922 16.5253 15.0567 16.0981 16.017C15.6539 17.0157 15.428 18.0711 15.4266 19.1541C15.426 19.6858 15.4144 20.2018 15.3923 20.696L14.9507 20.5968C14.7887 20.5605 14.6221 20.542 14.4557 20.542C13.9752 20.5419 13.5012 20.6974 13.121 20.9798C12.7244 21.2744 12.4462 21.694 12.3379 22.1612C12.0801 23.2732 12.7215 24.3959 13.833 24.7907L15.1552 25.3016C14.2797 27.8743 12.6654 28.3673 11.5783 28.6993C11.2898 28.7874 11.0407 28.8635 10.8035 28.9762C9.85825 29.4254 9.75621 30.1863 9.75621 30.4925C9.75621 31.0792 10.0462 31.6145 10.5729 31.9999C10.8352 32.1918 11.16 32.3501 11.566 32.4839C12.1193 32.6663 12.7608 32.7821 13.2821 32.8749C13.3073 33.0598 13.3442 33.2585 13.4065 33.4587C13.665 34.2902 14.2105 34.6625 14.6226 34.8284C15.0137 34.9859 15.4177 35.0041 15.6876 35.0041C15.9516 35.0041 16.2306 34.9843 16.5261 34.9633C16.843 34.9408 17.1708 34.9176 17.4941 34.9176C17.9952 34.9176 18.3682 34.9749 18.6344 35.0926C18.9999 35.2543 19.3876 35.4723 19.798 35.703C20.9406 36.3454 22.2356 37.0736 23.8696 37.0736C25.5035 37.0736 26.7984 36.3454 27.941 35.703C28.3514 35.4722 28.7391 35.2543 29.1047 35.0926C29.3709 34.9748 29.7439 34.9176 30.245 34.9176C30.5683 34.9176 30.8961 34.9409 31.213 34.9633C31.5084 34.9843 31.7875 35.0041 32.0515 35.0041C32.3213 35.0041 32.7253 34.9859 33.1164 34.8284C33.5286 34.6625 34.074 34.2902 34.3325 33.4587C34.3948 33.2585 34.4318 33.0598 34.4569 32.8749C34.9783 32.782 35.6198 32.6663 36.1731 32.4839C36.5791 32.3501 36.9039 32.1918 37.1661 31.9999C37.6928 31.6145 37.9828 31.0792 37.9828 30.4925C37.9828 30.1863 37.8808 29.4254 36.9355 28.9763C36.6983 28.8636 36.4491 28.7875 36.1606 28.6994C35.0736 28.3674 33.4592 27.8743 32.5838 25.3017L33.9058 24.7907C35.0173 24.396 35.6588 23.2732 35.401 22.1612C35.2927 21.694 35.0146 21.2744 34.6179 20.9798C34.2377 20.6975 33.7638 20.542 33.2834 20.542C33.117 20.542 32.9504 20.5604 32.7883 20.5968L32.3467 20.6959C32.3245 20.2018 32.313 19.6858 32.3124 19.154C32.311 18.0702 32.0833 17.0137 31.6355 16.0138C31.2058 15.0538 30.5935 14.1896 29.8158 13.4448C29.0381 12.7001 28.1357 12.1141 27.1339 11.703C26.0903 11.2748 24.988 11.0575 23.8575 11.0571Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70761",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70761"})),M.createElement("linearGradient",{id:"paint0_linear_668_70761",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#DAAD0C"}),M.createElement("stop",{offset:"1",stopColor:"#FFED00"})),M.createElement("clipPath",{id:"clip0_668_70761"},M.createElement("rect",{x:"9.1058",y:"9.1058",width:"29.2686",height:"29.2686",rx:"8",fill:"white"}))))},xq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint3_linear_668_70534)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{filter:"url(#filter0_i_668_70534)"},M.createElement("path",{d:"M12.8309 33.1761H16.9699V23.1242L11.0571 18.6896V31.4022C11.0571 32.3837 11.8523 33.1761 12.8309 33.1761Z",fill:"#4285F4"}),M.createElement("path",{d:"M31.1608 33.1761H35.2998C36.2813 33.1761 37.0736 32.3808 37.0736 31.4022V18.6896L31.1608 23.1242",fill:"#34A853"}),M.createElement("path",{d:"M31.1608 15.4376V23.1243L37.0736 18.6897V16.3245C37.0736 14.1308 34.5695 12.8803 32.8164 14.1959",fill:"#FBBC04"}),M.createElement("path",{d:"M16.9699 23.1242V15.4375L24.0653 20.759L31.1608 15.4375V23.1242L24.0653 28.4457",fill:"#EA4335"}),M.createElement("path",{d:"M11.0571 16.3245V18.6897L16.9699 23.1243V15.4376L15.3143 14.1959C13.5582 12.8803 11.0571 14.1308 11.0571 16.3245Z",fill:"#C5221F"})),M.createElement("g",{filter:"url(#filter1_i_668_70534)"},M.createElement("path",{d:"M18.5384 35.2008V19.2614H13.2451V35.2008H18.539H18.5384ZM15.8929 17.0856C17.7384 17.0856 18.8873 15.8616 18.8873 14.332C18.8528 12.7676 17.7384 11.5778 15.928 11.5778C14.1163 11.5778 12.9331 12.7676 12.9331 14.3319C12.9331 15.8615 14.0816 17.0854 15.8582 17.0854H15.8924L15.8929 17.0856ZM21.4683 35.2008H26.7612V26.3005C26.7612 25.8247 26.7957 25.3477 26.9356 25.0079C27.318 24.0557 28.189 23.0701 29.6516 23.0701C31.5664 23.0701 32.3329 24.5316 32.3329 26.6746V35.2008H37.6256V26.0616C37.6256 21.166 35.0146 18.8877 31.5322 18.8877C28.677 18.8877 27.4231 20.485 26.7264 21.5728H26.7616V19.262H21.4686C21.5377 20.7573 21.4682 35.2013 21.4682 35.2013L21.4683 35.2008Z",fill:"white"})),M.createElement("g",{filter:"url(#filter2_i_668_70534)"},M.createElement("g",{clipPath:"url(#clip0_668_70534)"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.4877 9.64444C15.8739 9.64444 9.64444 15.8794 9.64444 23.5C9.64444 31.1206 15.8739 37.3556 23.4877 37.3556C31.1015 37.3556 37.3309 31.1206 37.3309 23.5C37.3309 15.8794 31.1707 9.64444 23.4877 9.64444ZM29.8556 29.6657C29.5787 30.0814 29.0942 30.2199 28.6789 29.9428C25.4257 27.9338 21.342 27.5181 16.4968 28.6266C16.0123 28.7651 15.597 28.4187 15.4586 28.0031C15.3202 27.5181 15.6663 27.1024 16.0816 26.9639C21.342 25.7862 25.9103 26.2711 29.5095 28.488C29.994 28.6958 30.0632 29.2501 29.8556 29.6657ZM31.5168 25.8554C31.1707 26.3404 30.5477 26.5482 30.0632 26.2018C26.3256 23.9157 20.6498 23.2229 16.2892 24.6084C15.7355 24.747 15.1125 24.4699 14.9741 23.9157C14.8357 23.3614 15.1125 22.7379 15.6663 22.5994C20.719 21.0753 26.9485 21.8373 31.2399 24.4699C31.6552 24.6777 31.8629 25.3705 31.5168 25.8554ZM31.6552 21.9759C27.2254 19.3433 19.8192 19.0662 15.597 20.3825C14.9049 20.5903 14.2127 20.1747 14.0051 19.5512C13.7974 18.8584 14.2127 18.1656 14.8357 17.9578C19.75 16.5029 27.8483 16.7801 32.9703 19.8283C33.5933 20.1747 33.8009 21.006 33.4548 21.6295C33.1087 22.1144 32.2782 22.3223 31.6552 21.9759Z",fill:"white"}))),M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter3_i_668_70534)"},M.createElement("path",{d:"M11.225 24.7251C11.1714 24.7251 11.1287 24.7665 11.1219 24.8262L10.9333 26.2594L11.1219 27.6675C11.1226 27.7265 11.1714 27.7679 11.225 27.7679C11.2772 27.7679 11.3193 27.7272 11.3281 27.6675L11.5513 26.2587L11.3281 24.8255C11.32 24.7665 11.2772 24.7251 11.225 24.7251ZM12.2852 23.9423C12.2764 23.8805 12.2323 23.8384 12.178 23.8384C12.1238 23.8384 12.0783 23.8825 12.0709 23.9423C12.0709 23.9423 11.8172 26.2594 11.8172 26.2594L12.0709 28.5249C12.0783 28.586 12.1231 28.6295 12.178 28.6295C12.2323 28.6295 12.2764 28.5867 12.2852 28.5256L12.5735 26.2594L12.2852 23.9423ZM16.2777 21.8051C16.1739 21.8051 16.0878 21.8899 16.0831 21.9985L15.8809 26.2614L16.0831 29.0165C16.0885 29.1244 16.1739 29.2093 16.2777 29.2093C16.3808 29.2093 16.467 29.1244 16.4731 29.0165V29.0165L16.701 26.2615L16.4731 21.9986C16.467 21.8907 16.3815 21.8051 16.2777 21.8051V21.8051ZM14.2109 23.2865C14.1309 23.2865 14.0658 23.3503 14.0597 23.4352L13.8324 26.2595L14.0597 28.9887C14.0658 29.0736 14.1309 29.1374 14.2109 29.1374C14.2896 29.1374 14.3554 29.0736 14.3622 28.9887L14.6206 26.2595L14.3622 23.4345C14.3615 23.3496 14.2903 23.2858 14.2109 23.2858V23.2865ZM18.3778 29.2073C18.5067 29.2073 18.6118 29.1034 18.6165 28.9704L18.8146 26.2622L18.6172 20.5872C18.6118 20.4541 18.5073 20.3502 18.3785 20.3502C18.2482 20.3502 18.1431 20.4548 18.139 20.5878L17.9633 26.2622L18.139 28.9717C18.1431 29.1041 18.2482 29.208 18.3778 29.208V29.2073ZM22.6769 29.2202C22.8546 29.2202 23.0005 29.0742 23.0038 28.8943V28.8964V28.8943L23.1422 26.2635L23.0038 19.7093C23.0005 19.5301 22.8539 19.3834 22.6769 19.3834C22.4992 19.3834 22.3527 19.5294 22.35 19.71L22.2265 26.2622C22.2265 26.2663 22.35 28.897 22.35 28.897C22.3527 29.0749 22.4999 29.2216 22.6769 29.2216V29.2202ZM20.5111 29.2114C20.6657 29.2114 20.7898 29.0871 20.7939 28.9289V28.931L20.9621 26.2635L20.7939 20.5471C20.7898 20.3889 20.665 20.2653 20.5111 20.2653C20.3557 20.2653 20.2309 20.3889 20.2275 20.5471L20.0783 26.2635L20.2282 28.9303C20.2316 29.0865 20.3557 29.2107 20.5117 29.2107L20.5111 29.2114ZM15.2413 29.1856C15.3328 29.1856 15.4075 29.1123 15.4142 29.0152L15.6578 26.2601L15.4142 23.6389C15.4136 23.5418 15.3335 23.4691 15.2413 23.4691C15.1483 23.4691 15.0737 23.5425 15.0683 23.6402L14.854 26.2601L15.0683 29.0152C15.0744 29.1123 15.1483 29.1856 15.2413 29.1856ZM13.1928 29.0349C13.2599 29.0349 13.3142 28.9819 13.3217 28.9086L13.595 26.2595L13.3217 23.5105C13.3135 23.4372 13.2593 23.3843 13.1921 23.3843C13.1243 23.3843 13.07 23.4372 13.0632 23.5105L12.8224 26.2595L13.0632 28.9079C13.0639 28.9812 13.1243 29.0349 13.1921 29.0349H13.1928ZM21.5916 20.4514C21.4241 20.4514 21.2898 20.5851 21.2864 20.7555L21.15 26.2629L21.2864 28.9133C21.2898 29.0817 21.4241 29.2154 21.5916 29.2154C21.7591 29.2154 21.8928 29.0824 21.8968 28.9113V28.9133L22.0501 26.2629L21.8968 20.7542C21.8928 20.5838 21.7591 20.4507 21.5916 20.4507V20.4514ZM17.3257 29.2127C17.4417 29.2127 17.5374 29.1184 17.5428 28.9975L17.7558 26.2615L17.5428 21.0237C17.5367 20.9028 17.4417 20.8085 17.3257 20.8085C17.209 20.8085 17.1134 20.9028 17.1087 21.0237L16.9201 26.2615L17.1087 28.9975C17.1134 29.117 17.209 29.2114 17.3257 29.2114V29.2127ZM19.7032 28.9534V28.952L19.8863 26.2608L19.7032 20.3943C19.6991 20.2484 19.5838 20.1343 19.442 20.1343C19.2996 20.1343 19.185 20.2484 19.1809 20.3943L19.0188 26.2601L19.1816 28.9527C19.1856 29.0973 19.3003 29.2107 19.4427 29.2107C19.5845 29.2107 19.6991 29.0966 19.7039 28.9513L19.7032 28.9534ZM33.5407 22.8792C33.1066 22.8792 32.6921 22.9674 32.3143 23.1256C32.062 20.2653 29.6662 18.0222 26.7434 18.0222C26.0284 18.0222 25.3311 18.1634 24.7152 18.4017C24.4758 18.4941 24.412 18.5898 24.41 18.7751V28.8468C24.4127 29.041 24.5633 29.2025 24.7525 29.2222C24.7607 29.2223 33.4844 29.2277 33.5407 29.2277C35.2914 29.2277 36.7111 27.8067 36.7111 26.0544C36.7111 24.3015 35.2921 22.8805 33.5407 22.8805V22.8792ZM23.7615 18.7663C23.5709 18.7663 23.4149 18.9225 23.4122 19.1153L23.2691 26.2635L23.4122 28.8577C23.4149 29.0471 23.5709 29.2032 23.7615 29.2032C23.9514 29.2032 24.1075 29.0471 24.1108 28.8549V28.8583L24.2662 26.2635L24.1108 19.1146C24.1081 18.9231 23.9514 18.7663 23.7615 18.7663Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70534",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70534"})),M.createElement("filter",{id:"filter1_i_668_70534",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70534"})),M.createElement("filter",{id:"filter2_i_668_70534",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70534"})),M.createElement("filter",{id:"filter3_i_668_70534",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70534"})),M.createElement("linearGradient",{id:"paint0_linear_668_70534",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",null),M.createElement("stop",{offset:"1",stopColor:"#323232"})),M.createElement("linearGradient",{id:"paint1_linear_668_70534",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#006699"}),M.createElement("stop",{offset:"1",stopColor:"#058CCF"})),M.createElement("linearGradient",{id:"paint2_linear_668_70534",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#00D95F"}),M.createElement("stop",{offset:"1",stopColor:"#10BC4C"})),M.createElement("linearGradient",{id:"paint3_linear_668_70534",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.0729167",stopColor:"#FF433A"}),M.createElement("stop",{offset:"0.973958",stopColor:"#FF9436"})),M.createElement("clipPath",{id:"clip0_668_70534"},M.createElement("rect",{x:"9",y:"9",width:"29",height:"29",rx:"12",fill:"white"}))))},_q=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint2_linear_668_70515)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("g",{filter:"url(#filter0_i_668_70515)"},M.createElement("path",{d:"M12.8309 33.1761H16.9699V23.1242L11.0571 18.6896V31.4022C11.0571 32.3837 11.8523 33.1761 12.8309 33.1761Z",fill:"#4285F4"}),M.createElement("path",{d:"M31.1608 33.1761H35.2998C36.2813 33.1761 37.0736 32.3808 37.0736 31.4022V18.6896L31.1608 23.1242",fill:"#34A853"}),M.createElement("path",{d:"M31.1608 15.4376V23.1243L37.0736 18.6897V16.3245C37.0736 14.1308 34.5695 12.8803 32.8164 14.1959",fill:"#FBBC04"}),M.createElement("path",{d:"M16.9699 23.1242V15.4375L24.0653 20.759L31.1608 15.4375V23.1242L24.0653 28.4457",fill:"#EA4335"}),M.createElement("path",{d:"M11.0571 16.3245V18.6897L16.9699 23.1243V15.4376L15.3143 14.1959C13.5582 12.8803 11.0571 14.1308 11.0571 16.3245Z",fill:"#C5221F"})),M.createElement("g",{filter:"url(#filter1_i_668_70515)"},M.createElement("path",{d:"M18.5384 35.2008V19.2614H13.2451V35.2008H18.539H18.5384ZM15.8929 17.0856C17.7384 17.0856 18.8873 15.8616 18.8873 14.332C18.8528 12.7676 17.7384 11.5778 15.928 11.5778C14.1163 11.5778 12.9331 12.7676 12.9331 14.3319C12.9331 15.8615 14.0816 17.0854 15.8582 17.0854H15.8924L15.8929 17.0856ZM21.4683 35.2008H26.7612V26.3005C26.7612 25.8247 26.7957 25.3477 26.9356 25.0079C27.318 24.0557 28.189 23.0701 29.6516 23.0701C31.5664 23.0701 32.3329 24.5316 32.3329 26.6746V35.2008H37.6256V26.0616C37.6256 21.166 35.0146 18.8877 31.5322 18.8877C28.677 18.8877 27.4231 20.485 26.7264 21.5728H26.7616V19.262H21.4686C21.5377 20.7573 21.4682 35.2013 21.4682 35.2013L21.4683 35.2008Z",fill:"white"})),M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter2_i_668_70515)"},M.createElement("g",{clipPath:"url(#clip0_668_70515)"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.4877 9.64445C15.8739 9.64445 9.64444 15.8794 9.64444 23.5C9.64444 31.1206 15.8739 37.3556 23.4877 37.3556C31.1015 37.3556 37.3309 31.1206 37.3309 23.5C37.3309 15.8794 31.1707 9.64445 23.4877 9.64445ZM29.8556 29.6657C29.5787 30.0814 29.0942 30.2199 28.6789 29.9428C25.4257 27.9338 21.342 27.5181 16.4968 28.6266C16.0123 28.7651 15.597 28.4187 15.4586 28.0031C15.3202 27.5181 15.6663 27.1024 16.0816 26.9639C21.342 25.7862 25.9103 26.2711 29.5095 28.488C29.994 28.6958 30.0632 29.2501 29.8556 29.6657ZM31.5168 25.8554C31.1707 26.3404 30.5477 26.5482 30.0632 26.2018C26.3256 23.9157 20.6498 23.2229 16.2892 24.6084C15.7355 24.747 15.1125 24.4699 14.9741 23.9157C14.8357 23.3614 15.1125 22.7379 15.6663 22.5994C20.719 21.0753 26.9485 21.8373 31.2399 24.4699C31.6552 24.6777 31.8629 25.3705 31.5168 25.8554ZM31.6552 21.9759C27.2254 19.3433 19.8192 19.0662 15.597 20.3825C14.9049 20.5903 14.2127 20.1747 14.0051 19.5512C13.7974 18.8584 14.2127 18.1656 14.8357 17.9578C19.75 16.5029 27.8483 16.7801 32.9703 19.8283C33.5933 20.1747 33.8009 21.006 33.4548 21.6295C33.1087 22.1144 32.2782 22.3223 31.6552 21.9759Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70515",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70515"})),M.createElement("filter",{id:"filter1_i_668_70515",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70515"})),M.createElement("filter",{id:"filter2_i_668_70515",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70515"})),M.createElement("linearGradient",{id:"paint0_linear_668_70515",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",null),M.createElement("stop",{offset:"1",stopColor:"#323232"})),M.createElement("linearGradient",{id:"paint1_linear_668_70515",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#006699"}),M.createElement("stop",{offset:"1",stopColor:"#058CCF"})),M.createElement("linearGradient",{id:"paint2_linear_668_70515",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#00D95F"}),M.createElement("stop",{offset:"1",stopColor:"#10BC4C"})),M.createElement("clipPath",{id:"clip0_668_70515"},M.createElement("rect",{x:"9",y:"9",width:"29",height:"29",rx:"12",fill:"white"}))))},Sq=function(n){var e=n.color,t=n.width,i=n.height;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70435)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70435)"},M.createElement("path",{d:"M12.5327 22.5811C12.5327 22.5811 23.5896 17.7516 27.4243 16.0511C28.8944 15.3709 33.8795 13.1942 33.8795 13.1942C33.8795 13.1942 36.1804 12.242 35.9886 14.5546C35.9247 15.507 35.4134 18.8399 34.9022 22.445C34.1352 27.5466 33.3043 33.1242 33.3043 33.1242C33.3043 33.1242 33.1765 34.6888 32.09 34.9608C31.0035 35.2329 29.2139 34.0086 28.8944 33.7364C28.6386 33.5324 24.1009 30.4714 22.4392 28.975C21.9918 28.5669 21.4805 27.7507 22.503 26.7984C24.8039 24.5537 27.5521 21.7649 29.2139 19.9963C29.9809 19.18 30.7478 17.2755 27.5521 19.5881C23.0144 22.9212 18.5405 26.0501 18.5405 26.0501C18.5405 26.0501 17.5179 26.7303 15.6005 26.1181C13.6831 25.506 11.4461 24.6897 11.4461 24.6897C11.4461 24.6897 9.91231 23.6694 12.5327 22.5811Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70435",x:"9",y:"10",width:"28",height:"28.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70435"})),M.createElement("linearGradient",{id:"paint0_linear_668_70435",x1:"4.22769",y1:"3.57728",x2:"44.2282",y2:"46.8298",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#0088CC"}),M.createElement("stop",{offset:"1",stopColor:"#0083C5"}))))},wq=function(n){var e=n.color,t=n.width,i=n.height,r=n.simpleIcon;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70410)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70410)"},!r&&M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.8861 20.3148C31.6101 21.5414 33.6746 22.1968 35.7898 22.1889V17.9932C35.3739 17.9943 34.9592 17.9498 34.5531 17.8603V21.2029C32.4332 21.2066 30.3657 20.5437 28.6425 19.3078V27.9369C28.6373 29.3529 28.2493 30.7411 27.5197 31.9542C26.7902 33.1674 25.7462 34.1603 24.4985 34.8277C23.2508 35.4951 21.8459 35.8122 20.4327 35.7452C19.0196 35.6782 17.6509 35.2297 16.4718 34.4472C17.5625 35.5517 18.956 36.3074 20.4761 36.6187C21.9961 36.9299 23.5742 36.7827 25.0106 36.1956C26.447 35.6086 27.677 34.6081 28.5449 33.321C29.4128 32.0338 29.8796 30.5178 29.8861 28.9649V20.3148ZM31.4162 16.0352C30.5395 15.0841 30.0015 13.8696 29.8861 12.5807V12.0353H28.7123C28.8574 12.8546 29.1732 13.6341 29.639 14.3232C30.1048 15.0123 30.7103 15.5956 31.4162 16.0352ZM19.1896 31.1257C18.7828 30.5932 18.5335 29.9571 18.4701 29.2898C18.4066 28.6226 18.5317 27.9508 18.8309 27.3512C19.1301 26.7515 19.5915 26.2479 20.1625 25.8978C20.7336 25.5476 21.3914 25.365 22.0611 25.3706C22.4308 25.3705 22.7984 25.4271 23.151 25.5384V21.2029C22.7388 21.1482 22.3231 21.1249 21.9074 21.1329V24.5035C21.0488 24.2318 20.1196 24.2936 19.3044 24.6765C18.4893 25.0594 17.848 25.7353 17.5081 26.5699C17.1683 27.4045 17.1547 28.3365 17.4701 29.1807C17.7856 30.0248 18.4069 30.7192 19.2106 31.1257H19.1896Z",fill:"#EE1D52"}),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.6419 19.2798C30.365 20.5158 32.4326 21.1787 34.5525 21.1749V17.8323C33.3447 17.5767 32.2475 16.9481 31.4156 16.0352C30.7097 15.5956 30.1042 15.0123 29.6384 14.3232C29.1726 13.6341 28.8568 12.8546 28.7117 12.0353H25.6237V28.9649C25.6208 29.7142 25.3835 30.4439 24.9452 31.0514C24.5068 31.6589 23.8894 32.1137 23.1796 32.3521C22.4698 32.5905 21.7032 32.6004 20.9875 32.3804C20.2718 32.1604 19.6429 31.7216 19.189 31.1257C18.4698 30.7624 17.8938 30.1672 17.5539 29.4362C17.2141 28.7051 17.1303 27.8807 17.316 27.0961C17.5016 26.3115 17.946 25.6123 18.5774 25.1115C19.2088 24.6107 19.9903 24.3374 20.7959 24.3356C21.1656 24.3368 21.5329 24.3934 21.8858 24.5035V21.1329C20.3611 21.1696 18.8802 21.651 17.6249 22.5182C16.3697 23.3853 15.3947 24.6004 14.8197 26.0143C14.2447 27.4282 14.0947 28.9794 14.3881 30.4775C14.6815 31.9755 15.4055 33.3552 16.4712 34.4472C17.6506 35.2353 19.0214 35.6884 20.4377 35.7584C21.854 35.8283 23.2627 35.5124 24.5138 34.8443C25.7649 34.1762 26.8116 33.181 27.5422 31.9646C28.2728 30.7482 28.6601 29.3562 28.6628 27.9369L28.6419 19.2798Z",fill:"white"}),!r&&M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5529 17.832V16.9299C33.4437 16.9346 32.3559 16.6242 31.4159 16.0348C32.2457 16.9504 33.3439 17.5795 34.5529 17.832ZM28.7121 12.0349C28.7121 11.8741 28.6632 11.7063 28.6423 11.5454V11H24.3804V27.9366C24.3767 28.8849 23.9973 29.793 23.3253 30.4617C22.6534 31.1303 21.7438 31.5048 20.7963 31.5029C20.2384 31.5057 19.6878 31.3763 19.1894 31.1253C19.6433 31.7213 20.2722 32.16 20.9879 32.38C21.7036 32.6 22.4702 32.5901 23.18 32.3517C23.8898 32.1134 24.5072 31.6585 24.9456 31.051C25.3839 30.4435 25.6212 29.7139 25.6241 28.9645V12.0349H28.7121ZM21.8862 21.1256V20.1676C20.1325 19.9291 18.3498 20.2922 16.8287 21.1976C15.3075 22.1031 14.1376 23.4975 13.5096 25.1536C12.8816 26.8098 12.8326 28.6299 13.3705 30.3176C13.9084 32.0052 15.0015 33.4607 16.4716 34.4469C15.4139 33.3523 14.6976 31.9732 14.4102 30.4778C14.1229 28.9825 14.2768 27.4358 14.8533 26.0266C15.4298 24.6174 16.4039 23.4068 17.6566 22.5427C18.9093 21.6785 20.3863 21.1983 21.9072 21.1605L21.8862 21.1256Z",fill:"#69C9D0"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70410",x:"9",y:"9",width:"29",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70410"})),M.createElement("linearGradient",{id:"paint0_linear_668_70410",x1:"0.975621",y1:"3.35445e-07",x2:"42.2769",y2:"51.7079",gradientUnits:"userSpaceOnUse"},M.createElement("stop",null),M.createElement("stop",{offset:"1",stopColor:"#323232"}))))},Eq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70615)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70615)"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1017 21.3295C25.1881 19.6332 26.0538 15.2146 25.4045 11.1521C25.4045 11.0055 25.5344 10.9008 25.6642 10.9426C30.5341 13.2462 36.0101 18.2721 36.0101 25.8109C36.0101 31.5906 31.3783 36.7003 24.647 36.7003C22.245 36.806 19.8751 36.1347 17.9113 34.7925C15.9475 33.4503 14.5016 31.5135 13.8018 29.2879C13.102 27.0622 13.1882 24.6745 14.0468 22.5016C14.9054 20.3286 16.4875 18.4942 18.5433 17.2878C18.6732 17.2041 18.8464 17.2878 18.8464 17.4344C18.9113 18.2092 19.1277 20.1568 20.0151 21.3295H20.1017Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70615",x:"10",y:"9",width:"30",height:"29.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70615"})),M.createElement("linearGradient",{id:"paint0_linear_668_70615",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.0729167",stopColor:"#F72141"}),M.createElement("stop",{offset:"0.973958",stopColor:"#FB5971"}))))},Kv={stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:0,strokeLinejoin:"miter",strokeMiterlimit:4},Mq=function(n){var e=n.width,t=n.height,i=n.color,r=n.simpleIcon;return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:i||"#fff",width:e,height:t,viewBox:"0 0 64 64",xmlSpace:"preserve"},M.createElement("defs",null),M.createElement("g",{transform:"matrix(1 0 0 1 32 32)",id:"7442dd46-e5a8-424d-9fec-da37a879fe2a"},M.createElement("rect",{fill:"current",style:ks(ks({},Kv),{fillRule:"nonzero",opacity:1}),vectorEffect:"non-scaling-stroke",x:"-32",y:"-32",rx:"0",ry:"0",width:"64",height:"64"})),M.createElement("g",{transform:"matrix(0.02 0 0 0.02 32 32)"},M.createElement("g",{vectorEffect:"non-scaling-stroke"},M.createElement("g",{transform:"matrix(3.12 0 0 3.12 0 0)"},M.createElement("path",{style:ks(ks({},Kv),{fill:r?"#ffffff":"rgb(0,182,122)",fillRule:"nonzero",opacity:1}),vectorEffect:"non-scaling-stroke",transform:" translate(-399.94, -380.5)",d:"M 799.89 290.83 L 494.44 290.83 L 400.09 0 L 305.45 290.83 L 0 290.54 L 247.37 470.46000000000004 L 152.72 761 L 400.09000000000003 581.37 L 647.16 761 L 552.81 470.46 z",strokeLinecap:"round"})),M.createElement("g",{transform:"matrix(3.12 0 0 3.12 272.24 454.4)"},M.createElement("path",{fill:"current",style:ks(ks({},Kv),{opacity:1}),vectorEffect:"non-scaling-stroke",transform:" translate(-487.06, -525.91)",d:"M 574.04 536.24 L 552.81 470.46000000000004 L 400.0899999999999 581.37 z",strokeLinecap:"round"})))))},Cq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70772)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70772)"},M.createElement("path",{d:"M29.9498 31.8369C29.4666 32.0676 28.5419 32.2684 27.8516 32.2866C25.7717 32.3427 25.368 30.824 25.3497 29.7212V21.6223H30.5697V17.6843H25.3693V11.057H21.5611C21.4986 11.057 21.3892 11.1118 21.3748 11.2513C21.1521 13.2796 20.2027 16.8396 16.2604 18.2617V21.6223H18.8912V30.124C18.8912 33.0336 21.0362 37.1684 26.699 37.0719C28.6083 37.0394 30.7299 36.2377 31.2001 35.5481L29.9498 31.8369Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70772",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70772"})),M.createElement("linearGradient",{id:"paint0_linear_668_70772",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.0729167",stopColor:"#303D4D"}),M.createElement("stop",{offset:"0.927083",stopColor:"#526378"}))))},Tq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70748)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70748)"},M.createElement("g",{clipPath:"url(#clip0_668_70748)"},M.createElement("path",{d:"M17.6094 11.6352L12.7915 16.1051V32.197H18.5729V36.667L23.3908 32.197H27.2451L35.9173 24.1511V11.6352H17.6094ZM33.9902 23.2571L30.1359 26.833H26.2815L22.909 29.962V26.833H18.5729V13.4232H33.9902V23.2571Z",fill:"white"}),M.createElement("path",{d:"M31.1 16.5521H29.1728V21.9161H31.1V16.5521Z",fill:"white"}),M.createElement("path",{d:"M25.8015 16.5521H23.8743V21.9161H25.8015V16.5521Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70748",x:"11.057",y:"11.057",width:"26.0166",height:"26.5166",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70748"})),M.createElement("linearGradient",{id:"paint0_linear_668_70748",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#732ADF"}),M.createElement("stop",{offset:"1",stopColor:"#9146FF"})),M.createElement("clipPath",{id:"clip0_668_70748"},M.createElement("rect",{x:"11.057",y:"11.057",width:"26.0166",height:"26.0166",rx:"8",fill:"white"}))))},Aq=function(n){var e=n.color,t=n.width,i=n.height;return M.createElement("svg",{width:t,height:i,viewBox:"0 0 48 48",fill:e||"url(#paint0_linear_668_70406)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{clipPath:"url(#clip0_668_70406)",filter:"url(#filter0_i_668_70406)"},M.createElement("path",{d:"M37.8755 15.264C36.9697 15.6542 36.0175 15.9259 35.0424 16.0723C35.4983 15.9941 36.1691 15.1728 36.4361 14.8403C36.8418 14.3389 37.151 13.7664 37.3479 13.152C37.3479 13.1064 37.3935 13.0412 37.3479 13.0086C37.325 12.9961 37.2992 12.9895 37.273 12.9895C37.2469 12.9895 37.2211 12.9961 37.1981 13.0086C36.1393 13.5825 35.0124 14.0206 33.8441 14.3123C33.8033 14.3248 33.76 14.3259 33.7187 14.3156C33.6774 14.3052 33.6397 14.2838 33.6096 14.2537C33.5187 14.1453 33.4208 14.0429 33.3165 13.9473C32.84 13.52 32.2994 13.1702 31.7144 12.9108C30.9247 12.5866 30.0718 12.4462 29.22 12.5002C28.3935 12.5524 27.5865 12.7743 26.8493 13.152C26.1234 13.5503 25.4854 14.0913 24.9736 14.7426C24.4354 15.4129 24.0467 16.1908 23.8339 17.0241C23.6584 17.8166 23.6385 18.6358 23.7753 19.4359C23.7753 19.5728 23.7753 19.5924 23.6581 19.5728C19.0145 18.8884 15.2045 17.2392 12.0914 13.6996C11.9546 13.5431 11.883 13.5431 11.7722 13.6996C10.4176 15.7595 11.0754 19.0187 12.7687 20.6288C12.9966 20.8439 13.2311 21.0525 13.4786 21.2481C12.7022 21.1929 11.9448 20.9823 11.2512 20.6288C11.121 20.5441 11.0493 20.5897 11.0428 20.7462C11.0243 20.9631 11.0243 21.1811 11.0428 21.398C11.1787 22.4375 11.588 23.4221 12.2288 24.2514C12.8696 25.0806 13.7189 25.7246 14.69 26.1175C14.9267 26.2189 15.1733 26.2954 15.4259 26.3456C14.7072 26.4872 13.97 26.5093 13.2441 26.4108C13.0878 26.3782 13.0292 26.4629 13.0878 26.6129C14.0452 29.2203 16.1228 30.0156 17.6468 30.4588C17.8552 30.4914 18.0636 30.4914 18.298 30.5436C18.298 30.5436 18.298 30.5436 18.259 30.5827C17.8096 31.404 15.9925 31.9581 15.1589 32.2449C13.6373 32.792 12.015 33.001 10.4046 32.8577C10.1506 32.8186 10.0919 32.8251 10.0268 32.8577C9.96169 32.8903 10.0268 32.962 10.0985 33.0272C10.4241 33.2423 10.7497 33.4313 11.0884 33.6138C12.0966 34.1642 13.1625 34.6014 14.2666 34.9175C19.9849 36.495 26.4195 35.3347 30.7114 31.0651C34.085 27.7145 35.2704 23.0928 35.2704 18.4647C35.2704 18.2887 35.4853 18.1844 35.609 18.0931C36.4625 17.4275 37.215 16.6414 37.8429 15.7595C37.9516 15.628 38.0074 15.4606 37.9992 15.2901C37.9992 15.1923 37.9992 15.2119 37.8755 15.264Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70406",x:"10",y:"10",width:"28",height:"28.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70406"})),M.createElement("linearGradient",{id:"paint0_linear_668_70406",x1:"0.975621",y1:"3.35445e-07",x2:"42.2769",y2:"51.7079",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#0CA8F7"}),M.createElement("stop",{offset:"1",stopColor:"#0096E1"})),M.createElement("clipPath",{id:"clip0_668_70406"},M.createElement("rect",{width:"28",height:"28",fill:"white",transform:"translate(10 10)"}))))},bq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70756)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70756)"},M.createElement("g",{clipPath:"url(#clip0_668_70756)"},M.createElement("path",{d:"M37.061 18.5842C36.9453 20.9801 35.1764 24.2609 31.7552 28.4248C28.2179 32.7744 25.2252 34.949 22.7771 34.949C21.2611 34.949 19.9771 33.6249 18.9292 30.9757C18.2288 28.5474 17.5292 26.1193 16.8291 23.6909C16.0504 21.0432 15.2156 19.7176 14.3229 19.7176C14.1283 19.7176 13.4472 20.1051 12.2811 20.8769L11.057 19.385C12.341 18.3176 13.6077 17.2505 14.8539 16.1819C16.5663 14.7819 17.8518 14.0456 18.7086 13.9712C20.7334 13.7872 21.9796 15.0966 22.4474 17.8995C22.9529 20.9236 23.3026 22.8046 23.4993 23.5408C24.0828 26.0498 24.7249 27.3026 25.4266 27.3026C25.9711 27.3026 26.7891 26.489 27.8797 24.8617C28.9693 23.234 29.5529 21.9956 29.6317 21.1449C29.7868 19.7403 29.2029 19.0362 27.8797 19.0362C27.2569 19.0362 26.6148 19.1718 25.9542 19.4398C27.2327 15.4776 29.6757 13.5533 33.2816 13.6631C35.9548 13.7373 37.215 15.3776 37.061 18.5842Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70756",x:"11.057",y:"11.057",width:"26.0166",height:"26.5166",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70756"})),M.createElement("linearGradient",{id:"paint0_linear_668_70756",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#1D8DB5"}),M.createElement("stop",{offset:"1",stopColor:"#38C2F3"})),M.createElement("clipPath",{id:"clip0_668_70756"},M.createElement("rect",{x:"11.057",y:"11.057",width:"26.0166",height:"26.0166",rx:"8",fill:"white"}))))},Pq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70768)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70768)"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.4766 18.5426C36.6575 17.9769 36.4766 17.5612 35.6159 17.5612H32.7697C32.046 17.5612 31.7123 17.9203 31.5314 18.3163C31.5314 18.3163 30.084 21.6258 28.0335 23.7755C27.3702 24.3978 27.0686 24.5958 26.7068 24.5958C26.5259 24.5958 26.264 24.3978 26.264 23.8321V18.5426C26.264 17.8637 26.0539 17.5612 25.4508 17.5612H20.9782C20.5259 17.5612 20.2539 17.8763 20.2539 18.1749C20.2539 18.8185 21.2791 18.9669 21.3848 20.7772V24.709C21.3848 25.571 21.2188 25.7273 20.857 25.7273C19.8921 25.7273 17.545 22.403 16.153 18.5992C15.8802 17.8598 15.6065 17.5612 14.8791 17.5612H12.0329C11.2197 17.5612 11.057 17.9203 11.057 18.3163C11.057 19.0235 12.022 22.531 15.5499 27.1699C17.9019 30.3379 21.2156 32.0552 24.231 32.0552C26.0402 32.0552 26.264 31.6737 26.264 31.0167V28.6224C26.264 27.8595 26.4354 27.7073 27.0083 27.7073C27.4305 27.7073 28.1542 27.9053 29.8428 29.4327C31.7726 31.243 32.0908 32.0552 33.1763 32.0552H36.0225C36.8357 32.0552 37.2423 31.6737 37.0077 30.921C36.7511 30.1708 35.8297 29.0824 34.6071 27.7921C33.9437 27.0567 32.9486 26.2647 32.647 25.8687C32.2249 25.3596 32.3455 25.1332 32.647 24.6807C32.647 24.6807 36.1148 20.0983 36.4766 18.5426Z",fill:"white"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70768",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70768"})),M.createElement("linearGradient",{id:"paint0_linear_668_70768",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{offset:"0.0729167",stopColor:"#1568C8"}),M.createElement("stop",{offset:"0.927083",stopColor:"#3F98FF"}))))},Rq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70418)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70418)"},M.createElement("g",{clipPath:"url(#clip0_668_70418)"},M.createElement("path",{d:"M9.1058 38.3744L11.2039 30.5732C9.51184 27.5343 8.97425 23.988 9.68979 20.5853C10.4053 17.1826 12.326 14.1516 15.0993 12.0485C17.8727 9.94542 21.3127 8.91134 24.7881 9.13601C28.2635 9.36068 31.5412 10.829 34.0197 13.2716C36.4982 15.7142 38.0113 18.9672 38.2813 22.4336C38.5513 25.9001 37.5601 29.3475 35.4896 32.1432C33.4191 34.9389 30.4081 36.8955 27.0093 37.6538C23.6105 38.4121 20.0517 37.9214 16.986 36.2716L9.1058 38.3744ZM17.366 33.3523L17.8534 33.6409C20.0739 34.9549 22.6674 35.4986 25.2298 35.1874C27.7922 34.8762 30.1794 33.7275 32.0196 31.9203C33.8598 30.1132 35.0495 27.749 35.4033 25.1964C35.7571 22.6437 35.2551 20.0459 33.9757 17.8078C32.6962 15.5696 30.7111 13.8169 28.3296 12.8227C25.9482 11.8285 23.3042 11.6487 20.8097 12.3114C18.3153 12.974 16.1104 14.4418 14.5387 16.486C12.9671 18.5303 12.1169 21.0362 12.1208 23.6132C12.1187 25.7499 12.7106 27.8453 13.8306 29.6661L14.1363 30.1691L12.9633 34.5233L17.366 33.3523Z",fill:"white"}),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1944 25.6163C28.9087 25.3862 28.5742 25.2243 28.2163 25.1429C27.8585 25.0614 27.4867 25.0626 27.1293 25.1462C26.5924 25.3689 26.2455 26.21 25.8986 26.6306C25.8254 26.7314 25.7179 26.8021 25.5963 26.8295C25.4746 26.8568 25.3471 26.8389 25.2378 26.7791C23.2721 26.0104 21.6245 24.6009 20.5625 22.7795C20.4719 22.6658 20.429 22.5215 20.4429 22.3769C20.4568 22.2323 20.5263 22.0988 20.6368 22.0043C21.0238 21.6219 21.3079 21.1482 21.4628 20.6272C21.4973 20.0524 21.3654 19.4799 21.0829 18.9778C20.8645 18.2741 20.4489 17.6474 19.8851 17.1719C19.5944 17.0413 19.272 16.9975 18.9569 17.0458C18.6417 17.0941 18.3474 17.2324 18.1092 17.444C17.6957 17.8001 17.3676 18.2443 17.1489 18.7438C16.9301 19.2433 16.8264 19.7854 16.8454 20.3303C16.8467 20.6362 16.8855 20.9409 16.961 21.2374C17.1528 21.9498 17.4478 22.6305 17.8366 23.2578C18.1171 23.7383 18.4232 24.2036 18.7535 24.6515C19.8269 26.1226 21.1763 27.3717 22.7267 28.3294C23.5046 28.8161 24.3361 29.2118 25.2047 29.5087C26.107 29.917 27.1032 30.0737 28.0875 29.9622C28.6484 29.8775 29.1797 29.6564 29.6349 29.3185C30.0901 28.9805 30.4551 28.5361 30.6978 28.0243C30.8404 27.7151 30.8836 27.3694 30.8217 27.0347C30.673 26.3502 29.7561 25.9462 29.1944 25.6163Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70418",x:"9.1058",y:"9.1058",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70418"})),M.createElement("linearGradient",{id:"paint0_linear_668_70418",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#00D95F"}),M.createElement("stop",{offset:"1",stopColor:"#07FF74"})),M.createElement("clipPath",{id:"clip0_668_70418"},M.createElement("rect",{x:"9.1058",y:"9.1058",width:"29.2686",height:"29.2686",rx:"8",fill:"white"}))))},Lq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70744)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70744)"},M.createElement("path",{d:"M36.5314 17.8101C36.2334 16.6898 35.3519 15.806 34.2303 15.5031C32.2022 14.9595 24.0653 14.9595 24.0653 14.9595C24.0653 14.9595 15.9326 14.9595 13.9004 15.5031C12.7829 15.8018 11.9014 16.6857 11.5992 17.8101C11.0571 19.8433 11.0571 24.0881 11.0571 24.0881C11.0571 24.0881 11.0571 28.3329 11.5992 30.3661C11.8972 31.4865 12.7788 32.3703 13.9004 32.6732C15.9326 33.2168 24.0653 33.2168 24.0653 33.2168C24.0653 33.2168 32.2022 33.2168 34.2303 32.6732C35.3477 32.3744 36.2293 31.4906 36.5314 30.3661C37.0736 28.3329 37.0736 24.0881 37.0736 24.0881C37.0736 24.0881 37.0736 19.8433 36.5314 17.8101Z",fill:"white"}),M.createElement("path",{d:"M21.4662 28.001L28.2248 24.0881L21.4662 20.1753V28.001Z",fill:"current"})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70744",x:"9.1058",y:"9.75621",width:"29.2686",height:"29.7686",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70744"})),M.createElement("linearGradient",{id:"paint0_linear_668_70744",x1:"27.3174",y1:"49.4315",x2:"4.87811",y2:"-1.02789e-06",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#DB0505"}),M.createElement("stop",{offset:"1",stopColor:"#FF0000"}))))},Iq=function(n){var e=n.width,t=n.height,i=n.color;return M.createElement("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:i||"url(#paint0_linear_668_70457)",xmlns:"http://www.w3.org/2000/svg"},M.createElement("rect",{width:"48",height:"48",fill:"current"}),M.createElement("g",{filter:"url(#filter0_i_668_70457)"},M.createElement("g",{clipPath:"url(#clip0_668_70457)"},M.createElement("path",{d:"M11.057 18.6653C11.057 17.6963 11.889 16.9108 12.9152 16.9108H24.0644C27.1433 16.9108 29.639 19.2674 29.639 22.1745V29.1928C29.639 30.1618 28.8071 30.9474 27.7808 30.9474H16.6316C13.5529 30.9474 11.057 28.5908 11.057 25.6836V18.6653Z",fill:"white"}),M.createElement("path",{d:"M30.5699 23.4932C30.5699 22.6433 30.8966 21.8222 31.4894 21.1824L34.6312 17.7922C35.4785 16.8777 37.0736 17.4436 37.0736 18.6587V29.2C37.0736 30.415 35.4785 30.9809 34.6312 30.0664L31.4894 26.6762C30.8966 26.0365 30.5699 25.2153 30.5699 24.3654V23.4932Z",fill:"white"}))),M.createElement("defs",null,M.createElement("filter",{id:"filter0_i_668_70457",x:"11.057",y:"11.057",width:"26.0166",height:"26.5166",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"0.5"}),M.createElement("feGaussianBlur",{stdDeviation:"1.25"}),M.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),M.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_668_70457"})),M.createElement("linearGradient",{id:"paint0_linear_668_70457",x1:"4.22769",y1:"3.57728",x2:"44.2282",y2:"46.8298",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:"#3984FD"}),M.createElement("stop",{offset:"1",stopColor:"#0155DD"})),M.createElement("clipPath",{id:"clip0_668_70457"},M.createElement("rect",{x:"11.057",y:"11.057",width:"26.0166",height:"26.0166",rx:"8",fill:"white"}))))},Oq=function(n){switch(n){case"facebook":return nq;case"instagram":return fq;case"twitter":return Aq;case"discord":return QY;case"twitch":return Tq;case"github":return rq;case"google-maps":return uq;case"whatsapp":return Rq;case"vk":return Pq;case"google-meet":return cq;case"tinder":return Eq;case"linkedin":return hq;case"vimeo":return bq;case"youtube":return Lq;case"tumblr":return Cq;case"skype":return vq;case"pinterest":return mq;case"zoom":return Iq;case"behance":return JY;case"reddit":return gq;case"messenger":return dq;case"snapchat":return yq;case"google-calendar":return lq;case"google-analytics":return aq;case"facebook-pixel":return iq;case"dribbble":return tq;case"soundcloud":return xq;case"telegram":return Sq;case"google":return oq;case"tiktok":return wq;case"gmail":return sq;case"spotify":return _q;case"patreon":return pq;case"trustpilot":return Mq;case"apple":return KY}},lu=function(n){return n==="big"?64:n==="medium"?48:n==="small"?32:typeof n=="number"?n:48},sf=function(n){var e=n.network,t=n.size,i=n.shape,r=n.color,s=n.onClick,o=n.styles,a=n.simpleIcon,l=n.className,u=n.link,h=n.blank,d=Oq(e),p=function(g){g.preventDefault(),s&&s()},m=function(g){return typeof g=="number"?g:g==="square"?0:g==="round"?50:12};return M.createElement("div",{className:l,onClick:s?p:void 0,style:ks({width:lu(t),height:lu(t),borderRadius:m(i),overflow:"hidden",cursor:"pointer",boxShadow:"0px 0px 7px 2px rgba(0,0,0,0.15)"},o)},d&&(u!=null&&u.length?M.createElement("a",{style:{margin:0,padding:0},href:u,target:h?"_blank":void 0,rel:"noreferrer"},M.createElement(d,{simpleIcon:a,width:lu(t),height:lu(t),color:r})):M.createElement(d,{simpleIcon:a,width:lu(t),height:lu(t),color:r})))};const FS=({children:n})=>{const{i18n:e}=Yr();return Te.jsx(Mn.div,{initial:{opacity:0,transform:"translateY(50px)"},animate:{opacity:1,transform:"translateY(0px)"},transition:{duration:.2,delay:.4},style:{textAlign:e.language==="iw"?"right":"left"},children:n})},Dq=()=>{const{t:n,i18n:e}=Yr();return Te.jsxs(FS,{children:[Te.jsx("span",{className:"content-title",children:n("about.title")}),Te.jsx("p",{className:"card-about-text",children:n("about.text")}),Te.jsxs("div",{className:"card-icon-container",style:{flexDirection:e.language==="iw"?"row-reverse":"row",justifyContent:"flex-start"},children:[Te.jsx(sf,{className:"card-icon",network:"linkedin",shape:"round",size:"small",link:"https://www.linkedin.com/in/olegtabachnikow/",blank:!0}),Te.jsx(sf,{className:"card-icon",network:"github",shape:"round",size:"small",link:"https://github.com/olegtabachnikow",blank:!0}),Te.jsx(sf,{className:"card-icon",network:"telegram",shape:"round",size:"small",link:"https://t.me/eskel4ik",blank:!0}),Te.jsx(sf,{className:"card-icon",network:"instagram",shape:"round",size:"small",link:"https://www.instagram.com/eskel4ik/",blank:!0}),Te.jsx(sf,{className:"card-icon",network:"facebook",shape:"round",size:"small",link:"https://www.facebook.com/eskel4ik",blank:!0})]})]})};const sm=({lineHeight:n,year:e,title:t,text:i})=>{const{i18n:r}=Yr();return Te.jsxs("div",{className:`experience-item ${r.language==="iw"?"reversed":""}`,style:{flexDirection:r.language==="iw"?"row-reverse":"row"},children:[Te.jsx("div",{className:"experience-item-date",children:e}),Te.jsx("div",{className:"experience-item-line",style:{height:`${n}px`}}),Te.jsxs("div",{className:"experience-item-section",children:[Te.jsx("span",{children:t}),Te.jsx("p",{className:"experience-item-text",children:i})]})]})},Nq=()=>{const{t:n,i18n:e}=Yr();return Te.jsxs(FS,{children:[Te.jsx("span",{className:"content-title",children:n("experience.title")}),Te.jsxs("div",{className:"experience-items-container",children:[Te.jsx(sm,{year:"2023",lineHeight:e.language==="iw"?63:e.language==="ru"?92:65,title:n("experience.item1.company"),text:n("experience.item1.text")}),Te.jsx(sm,{year:"2022",lineHeight:e.language==="iw"||e.language==="ru"?62:48,title:n("experience.item2.company"),text:n("experience.item2.text")}),Te.jsx(sm,{year:"2022",lineHeight:e.language==="iw"?76:e.language==="ru"?92:79,title:n("experience.item3.company"),text:n("experience.item3.text")}),Te.jsx(sm,{year:"2022",lineHeight:e.language==="iw"?92:e.language==="ru"?77:94,title:n("experience.item4.company"),text:n("experience.item4.text")})]})]})};const Uq=""+new URL("location-ed7ecbff.svg",import.meta.url).href,kq=""+new URL("phone-39e2573b.svg",import.meta.url).href,Fq=""+new URL("mail-97f0fe2e.svg",import.meta.url).href;var MP={exports:{}};(function(n,e){(function(i,r){n.exports=r($)})(yf,t=>(()=>{var i={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=g,l.parse=S;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,h=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,p=/(em|rem|px|cm|mm|in|pt|pc)?$/,m=/(dpi|dpcm|dppx)?$/;function g(_,C){return S(_).some(function(A){var P=A.inverse,L=A.type==="all"||C.type===A.type;if(L&&P||!(L||P))return!1;var O=A.expressions.every(function(b){var I=b.feature,F=b.modifier,Z=b.value,j=C[I];if(!j)return!1;switch(I){case"orientation":case"scan":return j.toLowerCase()===Z.toLowerCase();case"width":case"height":case"device-width":case"device-height":Z=x(Z),j=x(j);break;case"resolution":Z=v(Z),j=v(j);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":Z=w(Z),j=w(j);break;case"grid":case"color":case"color-index":case"monochrome":Z=parseInt(Z,10)||1,j=parseInt(j,10)||0;break}switch(F){case"min":return j>=Z;case"max":return j<=Z;default:return j===Z}});return O&&!P||!O&&P})}function S(_){return _.split(",").map(function(C){C=C.trim();var A=C.match(u),P=A[1],L=A[2],O=A[3]||"",b={};return b.inverse=!!P&&P.toLowerCase()==="not",b.type=L?L.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],b.expressions=O.map(function(I){var F=I.match(h),Z=F[1].toLowerCase().match(d);return{modifier:Z[1],feature:Z[2],value:F[2]}}),b})}function w(_){var C=Number(_),A;return C||(A=_.match(/^(\d+)\s*\/\s*(\d+)$/),C=A[1]/A[2]),C}function v(_){var C=parseFloat(_),A=String(_).match(m)[1];switch(A){case"dpcm":return C/2.54;case"dppx":return C*96;default:return C}}function x(_){var C=parseFloat(_),A=String(_).match(p)[1];switch(A){case"em":return C*16;case"rem":return C*16;case"cm":return C*96/2.54;case"mm":return C*96/2.54/10;case"in":return C*96;case"pt":return C*72;case"pc":return C*72/12;default:return C}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>S});var h=/[A-Z]/g,d=/^ms-/,p={};function m(w){return"-"+w.toLowerCase()}function g(w){if(p.hasOwnProperty(w))return p[w];var v=w.replace(h,m);return p[w]=d.test(v)?"-"+v:v}const S=g},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var h=u("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function p(g,S,w){var v=this;if(d&&!w){var x=d.call(window,g);this.matches=x.matches,this.media=x.media,x.addListener(A)}else this.matches=h(g,S),this.media=g;this.addListener=_,this.removeListener=C,this.dispose=P;function _(L){x&&x.addListener(L)}function C(L){x&&x.removeListener(L)}function A(L){v.matches=L.matches,v.media=L.media}function P(){x&&x.removeListener(A)}}function m(g,S,w){return new p(g,S,w)}a.exports=m},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function d(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function p(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var g={},S=0;S<10;S++)g["_"+String.fromCharCode(S)]=S;var w=Object.getOwnPropertyNames(g).map(function(x){return g[x]});if(w.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(x){v[x]=x}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=p()?Object.assign:function(m,g){for(var S,w=d(m),v,x=1;x<arguments.length;x++){S=Object(arguments[x]);for(var _ in S)u.call(S,_)&&(w[_]=S[_]);if(l){v=l(S);for(var C=0;C<v.length;C++)h.call(S,v[C])&&(w[v[C]]=S[v[C]])}}return w}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var h=function(){};{var d=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p={},m=u("./node_modules/prop-types/lib/has.js");h=function(S){var w="Warning: "+S;typeof console<"u"&&console.error(w);try{throw new Error(w)}catch{}}}function g(S,w,v,x,_){for(var C in S)if(m(S,C)){var A;try{if(typeof S[C]!="function"){var P=Error((x||"React class")+": "+v+" type `"+C+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[C]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw P.name="Invariant Violation",P}A=S[C](w,C,x,v,null,d)}catch(O){A=O}if(A&&!(A instanceof Error)&&h((x||"React class")+": type specification of "+v+" `"+C+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof A+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),A instanceof Error&&!(A.message in p)){p[A.message]=!0;var L=_?_():"";h("Failed "+v+" type: "+A.message+(L??""))}}}g.resetWarningCache=function(){p={}},a.exports=g},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var h=u("./node_modules/react-is/index.js"),d=u("./node_modules/object-assign/index.js"),p=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),m=u("./node_modules/prop-types/lib/has.js"),g=u("./node_modules/prop-types/checkPropTypes.js"),S=function(){};S=function(v){var x="Warning: "+v;typeof console<"u"&&console.error(x);try{throw new Error(x)}catch{}};function w(){return null}a.exports=function(v,x){var _=typeof Symbol=="function"&&Symbol.iterator,C="@@iterator";function A(ye){var de=ye&&(_&&ye[_]||ye[C]);if(typeof de=="function")return de}var P="<<anonymous>>",L={array:F("array"),bigint:F("bigint"),bool:F("boolean"),func:F("function"),number:F("number"),object:F("object"),string:F("string"),symbol:F("symbol"),any:Z(),arrayOf:j,element:D(),elementType:z(),instanceOf:Q,node:q(),objectOf:U,oneOf:te,oneOfType:X,shape:J,exact:Se};function O(ye,de){return ye===de?ye!==0||1/ye===1/de:ye!==ye&&de!==de}function b(ye,de){this.message=ye,this.data=de&&typeof de=="object"?de:{},this.stack=""}b.prototype=Error.prototype;function I(ye){var de={},H=0;function fe(xe,ue,Re,Ce,Pe,Be,Me){if(Ce=Ce||P,Be=Be||Re,Me!==p){if(x){var dt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw dt.name="Invariant Violation",dt}else if(typeof console<"u"){var V=Ce+":"+Re;!de[V]&&H<3&&(S("You are manually calling a React.PropTypes validation function for the `"+Be+"` prop on `"+Ce+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),de[V]=!0,H++)}}return ue[Re]==null?xe?ue[Re]===null?new b("The "+Pe+" `"+Be+"` is marked as required "+("in `"+Ce+"`, but its value is `null`.")):new b("The "+Pe+" `"+Be+"` is marked as required in "+("`"+Ce+"`, but its value is `undefined`.")):null:ye(ue,Re,Ce,Pe,Be)}var re=fe.bind(null,!1);return re.isRequired=fe.bind(null,!0),re}function F(ye){function de(H,fe,re,xe,ue,Re){var Ce=H[fe],Pe=Oe(Ce);if(Pe!==ye){var Be=ze(Ce);return new b("Invalid "+xe+" `"+ue+"` of type "+("`"+Be+"` supplied to `"+re+"`, expected ")+("`"+ye+"`."),{expectedType:ye})}return null}return I(de)}function Z(){return I(w)}function j(ye){function de(H,fe,re,xe,ue){if(typeof ye!="function")return new b("Property `"+ue+"` of component `"+re+"` has invalid PropType notation inside arrayOf.");var Re=H[fe];if(!Array.isArray(Re)){var Ce=Oe(Re);return new b("Invalid "+xe+" `"+ue+"` of type "+("`"+Ce+"` supplied to `"+re+"`, expected an array."))}for(var Pe=0;Pe<Re.length;Pe++){var Be=ye(Re,Pe,re,xe,ue+"["+Pe+"]",p);if(Be instanceof Error)return Be}return null}return I(de)}function D(){function ye(de,H,fe,re,xe){var ue=de[H];if(!v(ue)){var Re=Oe(ue);return new b("Invalid "+re+" `"+xe+"` of type "+("`"+Re+"` supplied to `"+fe+"`, expected a single ReactElement."))}return null}return I(ye)}function z(){function ye(de,H,fe,re,xe){var ue=de[H];if(!h.isValidElementType(ue)){var Re=Oe(ue);return new b("Invalid "+re+" `"+xe+"` of type "+("`"+Re+"` supplied to `"+fe+"`, expected a single ReactElement type."))}return null}return I(ye)}function Q(ye){function de(H,fe,re,xe,ue){if(!(H[fe]instanceof ye)){var Re=ye.name||P,Ce=at(H[fe]);return new b("Invalid "+xe+" `"+ue+"` of type "+("`"+Ce+"` supplied to `"+re+"`, expected ")+("instance of `"+Re+"`."))}return null}return I(de)}function te(ye){if(!Array.isArray(ye))return arguments.length>1?S("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):S("Invalid argument supplied to oneOf, expected an array."),w;function de(H,fe,re,xe,ue){for(var Re=H[fe],Ce=0;Ce<ye.length;Ce++)if(O(Re,ye[Ce]))return null;var Pe=JSON.stringify(ye,function(Me,dt){var V=ze(dt);return V==="symbol"?String(dt):dt});return new b("Invalid "+xe+" `"+ue+"` of value `"+String(Re)+"` "+("supplied to `"+re+"`, expected one of "+Pe+"."))}return I(de)}function U(ye){function de(H,fe,re,xe,ue){if(typeof ye!="function")return new b("Property `"+ue+"` of component `"+re+"` has invalid PropType notation inside objectOf.");var Re=H[fe],Ce=Oe(Re);if(Ce!=="object")return new b("Invalid "+xe+" `"+ue+"` of type "+("`"+Ce+"` supplied to `"+re+"`, expected an object."));for(var Pe in Re)if(m(Re,Pe)){var Be=ye(Re,Pe,re,xe,ue+"."+Pe,p);if(Be instanceof Error)return Be}return null}return I(de)}function X(ye){if(!Array.isArray(ye))return S("Invalid argument supplied to oneOfType, expected an instance of array."),w;for(var de=0;de<ye.length;de++){var H=ye[de];if(typeof H!="function")return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Ke(H)+" at index "+de+"."),w}function fe(re,xe,ue,Re,Ce){for(var Pe=[],Be=0;Be<ye.length;Be++){var Me=ye[Be],dt=Me(re,xe,ue,Re,Ce,p);if(dt==null)return null;dt.data&&m(dt.data,"expectedType")&&Pe.push(dt.data.expectedType)}var V=Pe.length>0?", expected one of type ["+Pe.join(", ")+"]":"";return new b("Invalid "+Re+" `"+Ce+"` supplied to "+("`"+ue+"`"+V+"."))}return I(fe)}function q(){function ye(de,H,fe,re,xe){return we(de[H])?null:new b("Invalid "+re+" `"+xe+"` supplied to "+("`"+fe+"`, expected a ReactNode."))}return I(ye)}function W(ye,de,H,fe,re){return new b((ye||"React class")+": "+de+" type `"+H+"."+fe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+re+"`.")}function J(ye){function de(H,fe,re,xe,ue){var Re=H[fe],Ce=Oe(Re);if(Ce!=="object")return new b("Invalid "+xe+" `"+ue+"` of type `"+Ce+"` "+("supplied to `"+re+"`, expected `object`."));for(var Pe in ye){var Be=ye[Pe];if(typeof Be!="function")return W(re,xe,ue,Pe,ze(Be));var Me=Be(Re,Pe,re,xe,ue+"."+Pe,p);if(Me)return Me}return null}return I(de)}function Se(ye){function de(H,fe,re,xe,ue){var Re=H[fe],Ce=Oe(Re);if(Ce!=="object")return new b("Invalid "+xe+" `"+ue+"` of type `"+Ce+"` "+("supplied to `"+re+"`, expected `object`."));var Pe=d({},H[fe],ye);for(var Be in Pe){var Me=ye[Be];if(m(ye,Be)&&typeof Me!="function")return W(re,xe,ue,Be,ze(Me));if(!Me)return new b("Invalid "+xe+" `"+ue+"` key `"+Be+"` supplied to `"+re+"`.\nBad object: "+JSON.stringify(H[fe],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ye),null,"  "));var dt=Me(Re,Be,re,xe,ue+"."+Be,p);if(dt)return dt}return null}return I(de)}function we(ye){switch(typeof ye){case"number":case"string":case"undefined":return!0;case"boolean":return!ye;case"object":if(Array.isArray(ye))return ye.every(we);if(ye===null||v(ye))return!0;var de=A(ye);if(de){var H=de.call(ye),fe;if(de!==ye.entries){for(;!(fe=H.next()).done;)if(!we(fe.value))return!1}else for(;!(fe=H.next()).done;){var re=fe.value;if(re&&!we(re[1]))return!1}}else return!1;return!0;default:return!1}}function Ee(ye,de){return ye==="symbol"?!0:de?de["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&de instanceof Symbol:!1}function Oe(ye){var de=typeof ye;return Array.isArray(ye)?"array":ye instanceof RegExp?"object":Ee(de,ye)?"symbol":de}function ze(ye){if(typeof ye>"u"||ye===null)return""+ye;var de=Oe(ye);if(de==="object"){if(ye instanceof Date)return"date";if(ye instanceof RegExp)return"regexp"}return de}function Ke(ye){var de=ze(ye);switch(de){case"array":case"object":return"an "+de;case"boolean":case"date":case"regexp":return"a "+de;default:return de}}function at(ye){return!ye.constructor||!ye.constructor.name?P:ye.constructor.name}return L.checkPropTypes=g,L.resetWarningCache=g.resetWarningCache,L.PropTypes=L,L}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var h=u("./node_modules/react-is/index.js"),d=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(h.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,h=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,p=u?Symbol.for("react.fragment"):60107,m=u?Symbol.for("react.strict_mode"):60108,g=u?Symbol.for("react.profiler"):60114,S=u?Symbol.for("react.provider"):60109,w=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,x=u?Symbol.for("react.concurrent_mode"):60111,_=u?Symbol.for("react.forward_ref"):60112,C=u?Symbol.for("react.suspense"):60113,A=u?Symbol.for("react.suspense_list"):60120,P=u?Symbol.for("react.memo"):60115,L=u?Symbol.for("react.lazy"):60116,O=u?Symbol.for("react.block"):60121,b=u?Symbol.for("react.fundamental"):60117,I=u?Symbol.for("react.responder"):60118,F=u?Symbol.for("react.scope"):60119;function Z(Me){return typeof Me=="string"||typeof Me=="function"||Me===p||Me===x||Me===g||Me===m||Me===C||Me===A||typeof Me=="object"&&Me!==null&&(Me.$$typeof===L||Me.$$typeof===P||Me.$$typeof===S||Me.$$typeof===w||Me.$$typeof===_||Me.$$typeof===b||Me.$$typeof===I||Me.$$typeof===F||Me.$$typeof===O)}function j(Me){if(typeof Me=="object"&&Me!==null){var dt=Me.$$typeof;switch(dt){case h:var V=Me.type;switch(V){case v:case x:case p:case g:case m:case C:return V;default:var N=V&&V.$$typeof;switch(N){case w:case _:case L:case P:case S:return N;default:return dt}}case d:return dt}}}var D=v,z=x,Q=w,te=S,U=h,X=_,q=p,W=L,J=P,Se=d,we=g,Ee=m,Oe=C,ze=!1;function Ke(Me){return ze||(ze=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),at(Me)||j(Me)===v}function at(Me){return j(Me)===x}function ye(Me){return j(Me)===w}function de(Me){return j(Me)===S}function H(Me){return typeof Me=="object"&&Me!==null&&Me.$$typeof===h}function fe(Me){return j(Me)===_}function re(Me){return j(Me)===p}function xe(Me){return j(Me)===L}function ue(Me){return j(Me)===P}function Re(Me){return j(Me)===d}function Ce(Me){return j(Me)===g}function Pe(Me){return j(Me)===m}function Be(Me){return j(Me)===C}l.AsyncMode=D,l.ConcurrentMode=z,l.ContextConsumer=Q,l.ContextProvider=te,l.Element=U,l.ForwardRef=X,l.Fragment=q,l.Lazy=W,l.Memo=J,l.Portal=Se,l.Profiler=we,l.StrictMode=Ee,l.Suspense=Oe,l.isAsyncMode=Ke,l.isConcurrentMode=at,l.isContextConsumer=ye,l.isContextProvider=de,l.isElement=H,l.isForwardRef=fe,l.isFragment=re,l.isLazy=xe,l.isMemo=ue,l.isPortal=Re,l.isProfiler=Ce,l.isStrictMode=Pe,l.isSuspense=Be,l.isValidElementType=Z,l.typeOf=j})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>h});function h(p,m){if(p===m)return!0;if(!p||!m)return!1;var g=Object.keys(p),S=Object.keys(m),w=g.length;if(S.length!==w)return!1;for(var v=0;v<w;v++){var x=g[v];if(p[x]!==m[x]||!Object.prototype.hasOwnProperty.call(m,x))return!1}return!0}function d(p,m){if(p===m)return!0;if(!p||!m)return!1;var g=p.length;if(m.length!==g)return!1;for(var S=0;S<g;S++)if(p[S]!==m[S])return!1;return!0}},"./src/Component.ts":function(a,l,u){var h=this&&this.__rest||function(g,S){var w={};for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&S.indexOf(v)<0&&(w[v]=g[v]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,v=Object.getOwnPropertySymbols(g);x<v.length;x++)S.indexOf(v[x])<0&&Object.prototype.propertyIsEnumerable.call(g,v[x])&&(w[v[x]]=g[v[x]]);return w},d=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var p=d(u("./src/useMediaQuery.ts")),m=function(g){var S=g.children,w=g.device,v=g.onChange,x=h(g,["children","device","onChange"]),_=(0,p.default)(x,w,v);return typeof S=="function"?S(_):_?S:null};l.default=m},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var h=u("react"),d=(0,h.createContext)(void 0);l.default=d},"./src/index.ts":function(a,l,u){var h=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var d=h(u("./src/useMediaQuery.ts"));l.useMediaQuery=d.default;var p=h(u("./src/Component.ts"));l.default=p.default;var m=h(u("./src/toQuery.ts"));l.toQuery=m.default;var g=h(u("./src/Context.ts"));l.Context=g.default},"./src/mediaQuery.ts":function(a,l,u){var h=this&&this.__assign||function(){return h=Object.assign||function(C){for(var A,P=1,L=arguments.length;P<L;P++){A=arguments[P];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(C[O]=A[O])}return C},h.apply(this,arguments)},d=this&&this.__rest||function(C,A){var P={};for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&A.indexOf(L)<0&&(P[L]=C[L]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,L=Object.getOwnPropertySymbols(C);O<L.length;O++)A.indexOf(L[O])<0&&Object.prototype.propertyIsEnumerable.call(C,L[O])&&(P[L[O]]=C[L[O]]);return P},p=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(l,"__esModule",{value:!0});var m=p(u("./node_modules/prop-types/index.js")),g=m.default.oneOfType([m.default.string,m.default.number]),S={all:m.default.bool,grid:m.default.bool,aural:m.default.bool,braille:m.default.bool,handheld:m.default.bool,print:m.default.bool,projection:m.default.bool,screen:m.default.bool,tty:m.default.bool,tv:m.default.bool,embossed:m.default.bool},w={orientation:m.default.oneOf(["portrait","landscape"]),scan:m.default.oneOf(["progressive","interlace"]),aspectRatio:m.default.string,deviceAspectRatio:m.default.string,height:g,deviceHeight:g,width:g,deviceWidth:g,color:m.default.bool,colorIndex:m.default.bool,monochrome:m.default.bool,resolution:g,type:Object.keys(S)};w.type;var v=d(w,["type"]),x=h({minAspectRatio:m.default.string,maxAspectRatio:m.default.string,minDeviceAspectRatio:m.default.string,maxDeviceAspectRatio:m.default.string,minHeight:g,maxHeight:g,minDeviceHeight:g,maxDeviceHeight:g,minWidth:g,maxWidth:g,minDeviceWidth:g,maxDeviceWidth:g,minColor:m.default.number,maxColor:m.default.number,minColorIndex:m.default.number,maxColorIndex:m.default.number,minMonochrome:m.default.number,maxMonochrome:m.default.number,minResolution:g,maxResolution:g},v),_=h(h({},S),x);l.default={all:_,types:S,matchers:w,features:x}},"./src/toQuery.ts":function(a,l,u){var h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var d=h(u("./node_modules/hyphenate-style-name/index.js")),p=h(u("./src/mediaQuery.ts")),m=function(v){return"not ".concat(v)},g=function(v,x){var _=(0,d.default)(v);return typeof x=="number"&&(x="".concat(x,"px")),x===!0?_:x===!1?m(_):"(".concat(_,": ").concat(x,")")},S=function(v){return v.join(" and ")},w=function(v){var x=[];return Object.keys(p.default.all).forEach(function(_){var C=v[_];C!=null&&x.push(g(_,C))}),S(x)};l.default=w},"./src/useMediaQuery.ts":function(a,l,u){var h=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0});var d=u("react"),p=h(u("./node_modules/matchmediaquery/index.js")),m=h(u("./node_modules/hyphenate-style-name/index.js")),g=u("./node_modules/shallow-equal/dist/index.esm.js"),S=h(u("./src/toQuery.ts")),w=h(u("./src/Context.ts")),v=function(b){return b.query||(0,S.default)(b)},x=function(b){if(b){var I=Object.keys(b);return I.reduce(function(F,Z){return F[(0,m.default)(Z)]=b[Z],F},{})}},_=function(){var b=(0,d.useRef)(!1);return(0,d.useEffect)(function(){b.current=!0},[]),b.current},C=function(b){var I=(0,d.useContext)(w.default),F=function(){return x(b)||x(I)},Z=(0,d.useState)(F),j=Z[0],D=Z[1];return(0,d.useEffect)(function(){var z=F();(0,g.shallowEqualObjects)(j,z)||D(z)},[b,I]),j},A=function(b){var I=function(){return v(b)},F=(0,d.useState)(I),Z=F[0],j=F[1];return(0,d.useEffect)(function(){var D=I();Z!==D&&j(D)},[b]),Z},P=function(b,I){var F=function(){return(0,p.default)(b,I||{},!!I)},Z=(0,d.useState)(F),j=Z[0],D=Z[1],z=_();return(0,d.useEffect)(function(){if(z){var Q=F();return D(Q),function(){Q&&Q.dispose()}}},[b,I]),j},L=function(b){var I=(0,d.useState)(b.matches),F=I[0],Z=I[1];return(0,d.useEffect)(function(){var j=function(D){Z(D.matches)};return b.addListener(j),Z(b.matches),function(){b.removeListener(j)}},[b]),F},O=function(b,I,F){var Z=C(I),j=A(b);if(!j)throw new Error("Invalid or missing MediaQuery!");var D=P(j,Z),z=L(D),Q=_();return(0,d.useEffect)(function(){Q&&F&&F(z)},[z]),(0,d.useEffect)(function(){return function(){D&&D.dispose()}},[]),z};l.default=O},react:a=>{a.exports=t}},r={};function s(a){var l=r[a];if(l!==void 0)return l.exports;var u=r[a]={exports:{}};return i[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(MP);var sx=MP.exports;const Bq=()=>{const{t:n,i18n:e}=Yr(),t=sx.useMediaQuery({query:"(max-width: 1224px)"});return Te.jsxs(FS,{children:[Te.jsxs("span",{className:"content-title contact-title",children:[" ",n("contact.title")]}),Te.jsxs(Mn.a,{whileTap:{scale:.8},whileHover:{opacity:1},className:`contact-link ${e.language==="iw"?"reversed":""}`,href:"https://maps.app.goo.gl/6eiMM5aqH1RDXTnX7",target:"blank",children:[Te.jsx("div",{className:`contact-icon-container ${e.language==="iw"?"reversed":""}`,children:Te.jsx("img",{className:"contact-link-icon",src:Uq,alt:"location marker icon",width:25})}),Te.jsx("span",{children:n("contact.address")})]}),Te.jsxs(Mn.a,{whileTap:{scale:.8},whileHover:{opacity:1},className:`contact-link ${e.language==="iw"?"reversed":""}`,href:"tel:+972539240665",children:[Te.jsx("div",{className:`contact-icon-container ${e.language==="iw"?"reversed":""}`,children:Te.jsx("img",{className:"contact-link-icon",src:kq,alt:"phone icon",width:25})}),Te.jsx("span",{children:"+972539240665"})]}),Te.jsxs(Mn.a,{whileTap:{scale:.8},whileHover:{opacity:1},className:`contact-link ${e.language==="iw"?"reversed":""}`,href:"mailto:olegtabachnikow@gmail.com",children:[Te.jsx("div",{className:`contact-icon-container ${e.language==="iw"?"reversed":""}`,children:Te.jsx("img",{className:"contact-link-icon",src:Fq,alt:"email icon",width:25})}),Te.jsx("span",{children:"olegtabachnikow@gmail.com"})]}),Te.jsx(Mn.a,{whileTap:{scale:.8},className:`contact-cv-button ${t?"mobile":""}`,href:"https://github.com/olegtabachnikow/portfolio-nova/raw/gh-pages/OLEG_TABACHNIKOW_CV.pdf",download:!0,children:n("contact.button")})]})},zq=({isStarted:n})=>{const[e,t]=$.useState(!1),[i,r]=$.useState(!1),s=wl(),{i18n:o}=Yr();return $.useLayoutEffect(()=>{s.pathname==="/about"?t(!1):t(!0),s.pathname==="/contact"?r(!0):r(!1)},[s.pathname]),Te.jsx(Mn.div,{initial:{scale:n?1:0},animate:{scale:n?1:0},transition:{duration:1,delay:.5,ease:"backOut"},children:Te.jsxs(Mn.div,{initial:{height:450,scale:1},animate:{height:e?i?450:o.language==="en"?550:o.language==="ru"?595:580:o.language==="en"?450:470},transition:{duration:.2},className:"card",children:[Te.jsx("div",{className:"card-overlay"}),Te.jsxs("div",{className:"card-content-container",children:[Te.jsx(K$,{isMoved:e}),Te.jsx("div",{className:"card-content",children:Te.jsxs(FY,{children:[Te.jsx(vf,{path:"/"}),Te.jsx(vf,{path:"/about",element:Te.jsx(Dq,{})}),Te.jsx(vf,{path:"/experience",element:Te.jsx(Nq,{})}),Te.jsx(vf,{path:"/contact",element:Te.jsx(Bq,{})})]})}),Te.jsx(ZY,{})]})]})})};const Vq=new Array(20).fill(1),Hq=new Array(5).fill(1),Gq=({handler:n,isStarted:e})=>{const[t,i]=$.useState(!0),{t:r}=Yr();function s(){n()}return $.useLayoutEffect(()=>{const o=(l,u)=>Math.floor(Math.random()*(u-l+1)+l);document.querySelectorAll(".galaxy-star").forEach(l=>{l.setAttribute("style",`
        --angle: ${o(0,360)};
        --duration: ${o(6,20)};
        --delay: ${o(1,10)};
        --alpha: ${o(30,90)/100};
        --size: ${o(4,6)};
        --distance: ${o(130,200)};
      `)})},[]),$.useEffect(()=>{const o=setTimeout(()=>{i(!1)},3e3);return()=>{clearTimeout(o)}},[]),Te.jsxs(Mn.button,{disabled:t,whileTap:{scale:.9},initial:{scale:e?0:1},animate:{scale:e?0:1},transition:{duration:.35},className:"galaxy-button",onClick:s,children:[Te.jsxs("div",{className:"galaxy-container",children:[Te.jsx(Mn.div,{initial:{transform:"translate(100px, 100px)"},animate:!t&&{transform:"translate(0, 0)"},transition:{duration:.5},className:"galaxy-big-star"}),Te.jsx(Mn.div,{initial:{opacity:0},animate:!t&&{opacity:1},transition:{duration:.5},className:"galaxy-stars-container",children:Vq.map((o,a)=>Te.jsx("span",{className:"galaxy-star"},o+a))}),Te.jsx(Mn.div,{initial:{opacity:0},animate:!t&&{opacity:1},transition:{duration:.5},className:"galaxy-stars-static-container",children:Hq.map((o,a)=>Te.jsx("span",{className:"galaxy-star-static"},`${o+a}-static`))})]}),Te.jsx(Mn.span,{initial:{opacity:0},animate:!t&&{opacity:1},transition:{duration:.5},className:"galaxy-button-text",children:r("start")}),Te.jsx("div",{className:"galaxy-button-shadow"})]})};const Q6=""+new URL("israel-f30cd0d0.svg",import.meta.url).href,e8=""+new URL("england-51a8613a.svg",import.meta.url).href,t8=""+new URL("ru-6c62f886.svg",import.meta.url).href,Wq=()=>{const[n,e]=$.useState(!1),{i18n:t}=Yr(),i=r=>{t.changeLanguage(r),e(!1)};return Te.jsxs("div",{className:"language-button-container",children:[Te.jsx("button",{className:"language-select-button language-select-button-placeholder",onClick:()=>e(r=>!r),children:Te.jsx("img",{src:t.language==="en"?e8:t.language==="iw"?Q6:t8,alt:"flag"})}),Te.jsx(Mn.button,{initial:{left:10},animate:{left:n?-50:10},className:"language-select-button",onClick:()=>i("iw"),children:Te.jsx("img",{src:Q6,alt:"israel flag"})}),Te.jsx(Mn.button,{initial:{left:10,top:13.75},animate:{left:n?-40:10,top:n?60:13.75},className:"language-select-button",onClick:()=>i("en"),children:Te.jsx("img",{src:e8,alt:"english flag"})}),Te.jsx(Mn.button,{initial:{left:10,top:13.75},animate:{left:n?20:10,top:n?70:13.75},className:"language-select-button",onClick:()=>i("ru"),children:Te.jsx("img",{src:t8,alt:"russian flag"})})]})},jq=()=>{const[n,e]=$.useState({width:"100vw",height:"100vh"}),[t,i]=$.useState(!1),r=q9(),s=wl(),o=sx.useMediaQuery({query:"(max-width: 1224px)"}),a=sx.useMediaQuery({query:"(orientation: landscape)"}),l=_P(),u={height:n.height,width:n.width,position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"};$.useEffect(()=>{e({width:window.innerWidth,height:window.innerHeight}),l("/about")},[]);const h=$.useCallback(()=>{e({width:window.innerWidth,height:window.innerHeight}),s.pathname==="/about"&&d(),s.pathname==="/experience"&&p(),s.pathname==="/contact"&&m()},[e,d,p,m]);$.useEffect(()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[h]);function d(){r(Bf({isMoving:!0})),r($v({x:15,y:25,z:20}))}function p(){r(Bf({isMoving:!0})),r($v({x:1.15,y:30,z:.35}))}function m(){r(Bf({isMoving:!0})),r($v({x:2.1,y:8.8,z:7}))}$.useEffect(()=>{s.pathname==="/about"&&d(),s.pathname==="/experience"&&p(),s.pathname==="/contact"&&m()},[s.pathname]);function g(){i(!0)}return o&&a?Te.jsxs("div",{style:u,children:[Te.jsx("div",{className:"space"}),Te.jsx("span",{className:"help-text",children:"Rotate the device"})]}):Te.jsxs("div",{style:u,children:[Te.jsx(Mn.div,{className:"space",initial:{opacity:1},animate:t?{opacity:0}:{opacity:1}}),Te.jsx(O$,{isStarted:t}),Te.jsx(Gq,{handler:g,isStarted:t}),Te.jsx(zq,{isStarted:t}),Te.jsx(Wq,{})]})};const Xq=S$({reducer:{cameraPosition:uP.reducer,isCameraMoving:lP.reducer}}),$q={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class M0{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||$q,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new M0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new M0(this.logger,e)}}var cs=new M0;class eg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]=this.observers[i]||[],this.observers[i].push(t)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(i=>i!==t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...i])})}}function of(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function n8(n){return n==null?"":""+n}function Yq(n,e,t){n.forEach(i=>{e[i]&&(t[i]=e[i])})}function BS(n,e,t){function i(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function r(){return!n||typeof n=="string"}const s=typeof e!="string"?[].concat(e):e.split(".");for(;s.length>1;){if(r())return{};const o=i(s.shift());!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={}}return r()?{}:{obj:n,k:i(s.shift())}}function i8(n,e,t){const{obj:i,k:r}=BS(n,e,Object);i[r]=t}function qq(n,e,t,i){const{obj:r,k:s}=BS(n,e,Object);r[s]=r[s]||[],i&&(r[s]=r[s].concat(t)),i||r[s].push(t)}function C0(n,e){const{obj:t,k:i}=BS(n,e);if(t)return t[i]}function Zq(n,e,t){const i=C0(n,t);return i!==void 0?i:C0(e,t)}function CP(n,e,t){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?t&&(n[i]=e[i]):CP(n[i],e[i],t):n[i]=e[i]);return n}function uu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Kq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Jq(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>Kq[e]):n}const Qq=[" ",",","?","!",";"];function eZ(n,e,t){e=e||"",t=t||"";const i=Qq.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const r=new RegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!r.test(n);if(!s){const o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(s=!0)}return s}function T0(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const i=e.split(t);let r=n;for(let s=0;s<i.length;++s){if(!r||typeof r[i[s]]=="string"&&s+1<i.length)return;if(r[i[s]]===void 0){let o=2,a=i.slice(s,s+o).join(t),l=r[a];for(;l===void 0&&i.length>s+o;)o++,a=i.slice(s,s+o).join(t),l=r[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}const u=i.slice(s+o).join(t);return u?T0(l,u,t):void 0}r=r[i[s]]}return r}function A0(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class r8 extends eg{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[e,t];i&&typeof i!="string"&&(a=a.concat(i)),i&&typeof i=="string"&&(a=a.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(a=e.split("."));const l=C0(this.data,a);return l||!o||typeof i!="string"?l:T0(this.data&&this.data[e]&&this.data[e][t],i,s)}addResource(e,t,i,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),i8(this.data,a,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(typeof i[s]=="string"||Object.prototype.toString.apply(i[s])==="[object Array]")&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=t,t=a[1]),this.addNamespaces(t);let l=C0(this.data,a)||{};r?CP(l,i,s):l={...l,...i},i8(this.data,a,l),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var TP={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,t,i,r))}),e}};const s8={};class b0 extends eg{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Yq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=cs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!eZ(e,i,r);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],u=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const C=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l}:`${l}${C}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l}:o}const d=this.resolve(e,t);let p=d&&d.res;const m=d&&d.usedKey||o,g=d&&d.exactUsedKey||o,S=Object.prototype.toString.apply(p),w=["[object Number]","[object Function]","[object RegExp]"],v=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&w.indexOf(S)<0&&!(typeof v=="string"&&S==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(d.res=C,d):C}if(s){const C=S==="[object Array]",A=C?[]:{},P=C?g:m;for(const L in p)if(Object.prototype.hasOwnProperty.call(p,L)){const O=`${P}${s}${L}`;A[L]=this.translate(O,{...t,joinArrays:!1,ns:a}),A[L]===O&&(A[L]=p[L])}p=A}}else if(x&&typeof v=="string"&&S==="[object Array]")p=p.join(v),p&&(p=this.extendTranslation(p,e,t,i));else{let C=!1,A=!1;const P=t.count!==void 0&&typeof t.count!="string",L=b0.hasDefaultValue(t),O=P?this.pluralResolver.getSuffix(u,t.count,t):"",b=t.ordinal&&P?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",I=t[`defaultValue${O}`]||t[`defaultValue${b}`]||t.defaultValue;!this.isValidLookup(p)&&L&&(C=!0,p=I),this.isValidLookup(p)||(A=!0,p=o);const Z=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:p,j=L&&I!==p&&this.options.updateMissing;if(A||C||j){if(this.logger.log(j?"updateKey":"missingKey",u,l,o,j?I:p),s){const te=this.resolve(o,{...t,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let te=0;te<z.length;te++)D.push(z[te]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);const Q=(te,U,X)=>{const q=L&&X!==p?X:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(te,l,U,q,j,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(te,l,U,q,j,t),this.emit("missingKey",te,l,U,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?D.forEach(te=>{this.pluralResolver.getSuffixes(te,t).forEach(U=>{Q([te],o+U,t[`defaultValue${U}`]||I)})}):Q(D,o,I))}p=this.extendTranslation(p,e,t,d,i),A&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(A||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return r?(d.res=p,d):p}extendTranslation(e,t,i,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const u=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const p=e.match(this.interpolator.nestingRegexp);h=p&&p.length}let d=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,i.lng||this.language,i),u){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;h<m&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(i.lng=r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return s&&s[0]===m[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):o.translate(...m,t)},i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&i.applyPostProcessor!==!1&&(e=TP.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:r,...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,t),h=u.key;r=h;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const p=t.count!==void 0&&typeof t.count!="string",m=p&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),g=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(w=>{this.isValidLookup(i)||(a=w,!s8[`${S[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(s8[`${S[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${S.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(v=>{if(this.isValidLookup(i))return;o=v;const x=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,h,v,w,t);else{let C;p&&(C=this.pluralResolver.getSuffix(v,t.count,t));const A=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(x.push(h+C),t.ordinal&&C.indexOf(P)===0&&x.push(h+C.replace(P,this.options.pluralSeparator)),m&&x.push(h+A)),g){const L=`${h}${this.options.contextSeparator}${t.context}`;x.push(L),p&&(x.push(L+C),t.ordinal&&C.indexOf(P)===0&&x.push(L+C.replace(P,this.options.pluralSeparator)),m&&x.push(L+A))}}let _;for(;_=x.pop();)this.isValidLookup(i)||(s=_,i=this.getResource(v,w,_,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}function Jv(n){return n.charAt(0).toUpperCase()+n.slice(1)}class o8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cs.create("languageUtils")}getScriptPartFromCode(e){if(e=A0(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=A0(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(r=>r.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Jv(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Jv(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=Jv(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getLanguagePartFromCode(i);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&s.indexOf(r)===0)return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),i.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}}let tZ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],nZ={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const iZ=["v1","v2","v3"],rZ=["v4"],a8={zero:0,one:1,two:2,few:3,many:4,other:5};function sZ(){const n={};return tZ.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:nZ[e.fc]}})}),n}class oZ{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=cs.create("pluralResolver"),(!this.options.compatibilityJSON||rZ.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sZ()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(A0(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((r,s)=>a8[r]-a8[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):i.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!iZ.includes(this.options.compatibilityJSON)}}function l8(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Zq(n,e,t);return!s&&r&&typeof t=="string"&&(s=T0(n,t,i),s===void 0&&(s=T0(e,t,i))),s}class aZ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=cs.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=t.escape!==void 0?t.escape:Jq,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?uu(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?uu(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?uu(t.nestingPrefix):t.nestingPrefixEscaped||uu("$t("),this.nestingSuffix=t.nestingSuffix?uu(t.nestingSuffix):t.nestingSuffixEscaped||uu(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const i=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(i,"g")}interpolate(e,t,i,r){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}const h=g=>{if(g.indexOf(this.formatSeparator)<0){const x=l8(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,i,{...r,...t,interpolationkey:g}):x}const S=g.split(this.formatSeparator),w=S.shift().trim(),v=S.join(this.formatSeparator).trim();return this.format(l8(t,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...r,...t,interpolationkey:w})};this.resetRegExp();const d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>u(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?u(this.escape(g)):u(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const S=s[1].trim();if(o=h(S),o===void 0)if(typeof d=="function"){const v=d(e,s,r);o=typeof v=="string"?v:""}else if(r&&Object.prototype.hasOwnProperty.call(r,S))o="";else if(p){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=n8(o));const w=g.safeValue(o);if(e=e.replace(s[0],w),p?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o;function a(l,u){const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const d=l.split(new RegExp(`${h}[ ]*{`));let p=`{${d[1]}`;l=d[0],p=this.interpolate(p,o);const m=p.match(/'/g),g=p.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,S),`${l}${h}${p}`}return delete o.defaultValue,l}for(;r=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const h=r[1].split(this.formatSeparator).map(d=>d.trim());r[1]=h.shift(),l=h,u=!0}if(s=t(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=n8(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((h,d)=>this.format(h,d,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}function lZ(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(!o)return;const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");t[a.trim()]||(t[a.trim()]=u),u==="false"&&(t[a.trim()]=!1),u==="true"&&(t[a.trim()]=!0),isNaN(u)||(t[a.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:t}}function cu(n){const e={};return function(i,r,s){const o=r+JSON.stringify(s);let a=e[o];return a||(a=n(A0(r),s),e[o]=a),a(i)}}class uZ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=cs.create("formatter"),this.options=e,this.formats={number:cu((t,i)=>{const r=new Intl.NumberFormat(t,{...i});return s=>r.format(s)}),currency:cu((t,i)=>{const r=new Intl.NumberFormat(t,{...i,style:"currency"});return s=>r.format(s)}),datetime:cu((t,i)=>{const r=new Intl.DateTimeFormat(t,{...i});return s=>r.format(s)}),relativetime:cu((t,i)=>{const r=new Intl.RelativeTimeFormat(t,{...i});return s=>r.format(s,i.range||"day")}),list:cu((t,i)=>{const r=new Intl.ListFormat(t,{...i});return s=>r.format(s)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=cu(t)}format(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((a,l)=>{const{formatName:u,formatOptions:h}=lZ(l);if(this.formats[u]){let d=a;try{const p=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},m=p.locale||p.lng||r.locale||r.lng||i;d=this.formats[u](a,m,{...h,...r,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}function cZ(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class fZ extends eg{constructor(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=cs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(e,t,i,r){const s={},o={},a={},l={};return e.forEach(u=>{let h=!0;t.forEach(d=>{const p=`${u}|${d}`;!i.reload&&this.store.hasResourceBundle(u,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,h=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[d]===void 0&&(l[d]=!0)))}),h||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const r=e.split("|"),s=r[0],o=r[1];t&&this.emit("failedLoading",s,o,t),i&&this.store.addResourceBundle(s,o,i),this.state[e]=t?-1:2;const a={};this.queue.forEach(l=>{qq(l.loaded,[s],o),cZ(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const h=l.loaded[u];h.length&&h.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:o});return}this.readingCalls++;const a=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&h&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,o)},s);return}o(u,h)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,t,a)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,t,i,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(e,t,i,r,l):h=u(e,t,i,r),h&&typeof h.then=="function"?h.then(d=>a(null,d)).catch(a):a(null,h)}catch(h){a(h)}else u(e,t,i,r,a,l)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}function u8(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(r=>{t[r]=i[r]})}return t},interpolation:{escapeValue:!0,format:(n,e,t,i)=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function c8(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function om(){}function hZ(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class bh extends eg{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=c8(e),this.services={},this.logger=cs,this.modules={external:[]},hZ(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=u8();this.options={...r,...this.options,...c8(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function s(h){return h?typeof h=="function"?new h:h:null}if(!this.options.isClone){this.modules.logger?cs.init(s(this.modules.logger),this.options):cs.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=uZ);const d=new o8(this.options);this.store=new r8(this.options.resources,this.options);const p=this.services;p.logger=cs,p.resourceStore=this.store,p.languageUtils=d,p.pluralResolver=new oZ(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=s(h),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new aZ(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new fZ(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,S=new Array(g>1?g-1:0),w=1;w<g;w++)S[w-1]=arguments[w];e.emit(m,...S)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new b0(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,S=new Array(g>1?g-1:0),w=1;w<g;w++)S[w-1]=arguments[w];e.emit(m,...S)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,i||(i=om),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const l=of(),u=()=>{const h=(d,p)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),i(d,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:om;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,t,i){const r=of();return e||(e=this.languages),t||(t=this.options.ns),i||(i=om),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&TP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const r=of();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),t&&t(l,function(){return i.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{o(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,i){var r=this;const s=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];l=r.options.overloadTranslationOptionHandler([o,a].concat(h))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||i||s.keyPrefix;const p=r.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${l.keyPrefix}${p}${g}`):m=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,r.t(m,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!r||o(s,e)))}loadNamespaces(e,t){const i=of();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=of();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0);return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new o8(u8());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new bh(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:om;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new bh(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new r8(this.store.data,r),s.services.resourceStore=s.store),s.translator=new b0(s.services,r),s.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];s.emit(a,...u)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const pi=bh.createInstance();pi.createInstance=bh.createInstance;pi.createInstance;pi.dir;pi.init;pi.loadResources;pi.reloadResources;pi.use;pi.changeLanguage;pi.getFixedT;pi.t;pi.exists;pi.setDefaultNamespace;pi.hasLoadedNamespace;pi.loadNamespaces;pi.loadLanguages;function ox(n){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(n)}var AP=[],dZ=AP.forEach,pZ=AP.slice;function ax(n){return dZ.call(pZ.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}function bP(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ox(XMLHttpRequest))==="object"}function mZ(n){return!!n&&typeof n.then=="function"}function gZ(n){return mZ(n)?n:Promise.resolve(n)}function vZ(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lx={exports:{}},am={exports:{}},f8;function yZ(){return f8||(f8=1,function(n,e){var t=typeof self<"u"?self:yf,i=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(D){return D&&DataView.prototype.isPrototypeOf(D)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(D){return D&&u.indexOf(Object.prototype.toString.call(D))>-1};function d(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function p(D){return typeof D!="string"&&(D=String(D)),D}function m(D){var z={next:function(){var Q=D.shift();return{done:Q===void 0,value:Q}}};return a.iterable&&(z[Symbol.iterator]=function(){return z}),z}function g(D){this.map={},D instanceof g?D.forEach(function(z,Q){this.append(Q,z)},this):Array.isArray(D)?D.forEach(function(z){this.append(z[0],z[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(z){this.append(z,D[z])},this)}g.prototype.append=function(D,z){D=d(D),z=p(z);var Q=this.map[D];this.map[D]=Q?Q+", "+z:z},g.prototype.delete=function(D){delete this.map[d(D)]},g.prototype.get=function(D){return D=d(D),this.has(D)?this.map[D]:null},g.prototype.has=function(D){return this.map.hasOwnProperty(d(D))},g.prototype.set=function(D,z){this.map[d(D)]=p(z)},g.prototype.forEach=function(D,z){for(var Q in this.map)this.map.hasOwnProperty(Q)&&D.call(z,this.map[Q],Q,this)},g.prototype.keys=function(){var D=[];return this.forEach(function(z,Q){D.push(Q)}),m(D)},g.prototype.values=function(){var D=[];return this.forEach(function(z){D.push(z)}),m(D)},g.prototype.entries=function(){var D=[];return this.forEach(function(z,Q){D.push([Q,z])}),m(D)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function S(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function w(D){return new Promise(function(z,Q){D.onload=function(){z(D.result)},D.onerror=function(){Q(D.error)}})}function v(D){var z=new FileReader,Q=w(z);return z.readAsArrayBuffer(D),Q}function x(D){var z=new FileReader,Q=w(z);return z.readAsText(D),Q}function _(D){for(var z=new Uint8Array(D),Q=new Array(z.length),te=0;te<z.length;te++)Q[te]=String.fromCharCode(z[te]);return Q.join("")}function C(D){if(D.slice)return D.slice(0);var z=new Uint8Array(D.byteLength);return z.set(new Uint8Array(D)),z.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(D){this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:a.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:a.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():a.arrayBuffer&&a.blob&&l(D)?(this._bodyArrayBuffer=C(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||h(D))?this._bodyArrayBuffer=C(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var D=S(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var D=S(this);if(D)return D;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(D){var z=D.toUpperCase();return P.indexOf(z)>-1?z:D}function O(D,z){z=z||{};var Q=z.body;if(D instanceof O){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,z.headers||(this.headers=new g(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!Q&&D._bodyInit!=null&&(Q=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new g(z.headers)),this.method=L(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Q)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function b(D){var z=new FormData;return D.trim().split("&").forEach(function(Q){if(Q){var te=Q.split("="),U=te.shift().replace(/\+/g," "),X=te.join("=").replace(/\+/g," ");z.append(decodeURIComponent(U),decodeURIComponent(X))}}),z}function I(D){var z=new g,Q=D.replace(/\r?\n[\t ]+/g," ");return Q.split(/\r?\n/).forEach(function(te){var U=te.split(":"),X=U.shift().trim();if(X){var q=U.join(":").trim();z.append(X,q)}}),z}A.call(O.prototype);function F(D,z){z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in z?z.statusText:"OK",this.headers=new g(z.headers),this.url=z.url||"",this._initBody(D)}A.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},F.error=function(){var D=new F(null,{status:0,statusText:""});return D.type="error",D};var Z=[301,302,303,307,308];F.redirect=function(D,z){if(Z.indexOf(z)===-1)throw new RangeError("Invalid status code");return new F(null,{status:z,headers:{location:D}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(z,Q){this.message=z,this.name=Q;var te=Error(z);this.stack=te.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function j(D,z){return new Promise(function(Q,te){var U=new O(D,z);if(U.signal&&U.signal.aborted)return te(new o.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function q(){X.abort()}X.onload=function(){var W={status:X.status,statusText:X.statusText,headers:I(X.getAllResponseHeaders()||"")};W.url="responseURL"in X?X.responseURL:W.headers.get("X-Request-URL");var J="response"in X?X.response:X.responseText;Q(new F(J,W))},X.onerror=function(){te(new TypeError("Network request failed"))},X.ontimeout=function(){te(new TypeError("Network request failed"))},X.onabort=function(){te(new o.DOMException("Aborted","AbortError"))},X.open(U.method,U.url,!0),U.credentials==="include"?X.withCredentials=!0:U.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&a.blob&&(X.responseType="blob"),U.headers.forEach(function(W,J){X.setRequestHeader(J,W)}),U.signal&&(U.signal.addEventListener("abort",q),X.onreadystatechange=function(){X.readyState===4&&U.signal.removeEventListener("abort",q)}),X.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return j.polyfill=!0,s.fetch||(s.fetch=j,s.Headers=g,s.Request=O,s.Response=F),o.Headers=g,o.Request=O,o.Response=F,o.fetch=j,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,n.exports=e}(am,am.exports)),am.exports}(function(n,e){var t;if(typeof fetch=="function"&&(typeof yf<"u"&&yf.fetch?t=yf.fetch:typeof window<"u"&&window.fetch?t=window.fetch:t=fetch),typeof vZ<"u"&&(typeof window>"u"||typeof window.document>"u")){var i=t||yZ();i.default&&(i=i.default),e.default=i,n.exports=e.default}})(lx,lx.exports);var PP=lx.exports;const RP=L0(PP),h8=S8({__proto__:null,default:RP},[PP]);function P0(n){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(n)}var $s;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?$s=global.fetch:typeof window<"u"&&window.fetch?$s=window.fetch:$s=fetch);var Ph;bP()&&(typeof global<"u"&&global.XMLHttpRequest?Ph=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ph=window.XMLHttpRequest));var R0;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?R0=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(R0=window.ActiveXObject));!$s&&h8&&!Ph&&!R0&&($s=RP||h8);typeof $s!="function"&&($s=void 0);var ux=function(e,t){if(t&&P0(t)==="object"){var i="";for(var r in t)i+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},d8=function(e,t,i){var r=function(o){if(!o.ok)return i(o.statusText||"Error",{status:o.status});o.text().then(function(a){i(null,{status:o.status,data:a})}).catch(i)};typeof fetch=="function"?fetch(e,t).then(r).catch(i):$s(e,t).then(r).catch(i)},p8=!1,xZ=function(e,t,i,r){e.queryStringParams&&(t=ux(t,e.queryStringParams));var s=ax({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);i&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,a=ax({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:s},p8?{}:o);try{d8(t,a,r)}catch(l){if(!o||Object.keys(o).length===0||!l.message||l.message.indexOf("not implemented")<0)return r(l);try{Object.keys(o).forEach(function(u){delete a[u]}),d8(t,a,r),p8=!0}catch(u){r(u)}}},_Z=function(e,t,i,r){i&&P0(i)==="object"&&(i=ux("",i).slice(1)),e.queryStringParams&&(t=ux(t,e.queryStringParams));try{var s;Ph?s=new Ph:s=new R0("MSXML2.XMLHTTP.3.0"),s.open(i?"POST":"GET",t,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,i&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(i)}catch(l){console&&console.log(l)}},SZ=function(e,t,i,r){if(typeof i=="function"&&(r=i,i=void 0),r=r||function(){},$s&&t.indexOf("file:")!==0)return xZ(e,t,i,r);if(bP()||typeof ActiveXObject=="function")return _Z(e,t,i,r);r(new Error("No fetch and no xhr implementation found!"))};function Rh(n){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(n)}function wZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,LP(i.key),i)}}function EZ(n,e,t){return e&&m8(n.prototype,e),t&&m8(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function MZ(n,e,t){return e=LP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LP(n){var e=CZ(n,"string");return Rh(e)==="symbol"?e:String(e)}function CZ(n,e){if(Rh(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Rh(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var TZ=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,i,r){return MZ({},i,r||"")},parseLoadPayload:function(t,i){},request:SZ,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},IP=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};wZ(this,n),this.services=e,this.options=t,this.allOptions=i,this.type="backend",this.init(e,t,i)}return EZ(n,[{key:"init",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=ax(r,this.options||{},TZ()),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return i.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(t,i,r){this._readAny(t,t,i,i,r)}},{key:"read",value:function(t,i,r){this._readAny([t],t,[i],i,r)}},{key:"_readAny",value:function(t,i,r,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(t,r)),l=gZ(l),l.then(function(u){if(!u)return o(null,{});var h=a.services.interpolator.interpolate(u,{lng:t.join("+"),ns:r.join("+")});a.loadUrl(h,o,i,s)})}},{key:"loadUrl",value:function(t,i,r,s){var o=this,a=typeof r=="string"?[r]:r,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,t,u,function(h,d){if(d&&(d.status>=500&&d.status<600||!d.status))return i("failed loading "+t+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return i("failed loading "+t+"; status code: "+d.status,!1);if(!d&&h&&h.message&&h.message.indexOf("Failed to fetch")>-1)return i("failed loading "+t+": "+h.message,!0);if(h)return i(h,!1);var p,m;try{typeof d.data=="string"?p=o.options.parse(d.data,r,s):p=d.data}catch{m="failed parsing "+t+" to json"}if(m)return i(m,!1);i(null,p)})}},{key:"create",value:function(t,i,r,s,o){var a=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var l=this.options.parsePayload(i,r,s),u=0,h=[],d=[];t.forEach(function(p){var m=a.options.addPath;typeof a.options.addPath=="function"&&(m=a.options.addPath(p,i));var g=a.services.interpolator.interpolate(m,{lng:p,ns:i});a.options.request(a.options,g,l,function(S,w){u+=1,h.push(S),d.push(w),u===t.length&&typeof o=="function"&&o(h,d)})})}}},{key:"reload",value:function(){var t=this,i=this.services,r=i.backendConnector,s=i.languageUtils,o=i.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(d){var p=s.toResolveHierarchy(d);p.forEach(function(m){l.indexOf(m)<0&&l.push(m)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(h){return u(h)}),l.forEach(function(h){t.allOptions.ns.forEach(function(d){r.read(h,d,"read",null,null,function(p,m){p&&o.warn("loading namespace ".concat(d," for language ").concat(h," failed"),p),!p&&m&&o.log("loaded namespace ".concat(d," for language ").concat(h),m),r.loaded("".concat(h,"|").concat(d),p,m)})})})}}}]),n}();IP.type="backend";function AZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,tP(i.key),i)}}function bZ(n,e,t){return e&&g8(n.prototype,e),t&&g8(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var OP=[],PZ=OP.forEach,RZ=OP.slice;function LZ(n){return PZ.call(RZ.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var v8=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,IZ=function(e,t,i){var r=i||{};r.path=r.path||"/";var s=encodeURIComponent(t),o="".concat(e,"=").concat(s);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!v8.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!v8.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},y8={create:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+i*60*1e3)),r&&(s.domain=r),document.cookie=IZ(e,encodeURIComponent(t),s)},read:function(e){for(var t="".concat(e,"="),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var s=i[r];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},OZ={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var i=y8.read(e.lookupCookie);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&y8.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},DZ={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=i.substring(1),s=r.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(t=s[o].substring(a+1))}}}return t}},af=null,x8=function(){if(af!==null)return af;try{af=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{af=!1}return af},NZ={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&x8()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&x8()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},lf=null,_8=function(){if(lf!==null)return lf;try{lf=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{lf=!1}return lf},UZ={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&_8()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&_8()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},kZ={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)t.push(navigator.languages[i]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},FZ={name:"htmlTag",lookup:function(e){var t,i=e.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},BZ={name:"path",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof i[e.lookupFromPathIndex]!="string")return;t=i[e.lookupFromPathIndex].replace("/","")}else t=i[0].replace("/","")}return t}},zZ={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}};function VZ(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var DP=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};AZ(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return bZ(n,[{key:"init",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=LZ(i,this.options||{},VZ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(OZ),this.addDetector(DZ),this.addDetector(NZ),this.addDetector(UZ),this.addDetector(kZ),this.addDetector(FZ),this.addDetector(BZ),this.addDetector(zZ)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var i=this;t||(t=this.options.order);var r=[];return t.forEach(function(s){if(i.detectors[s]){var o=i.detectors[s].lookup(i.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.map(function(s){return i.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(t,i){var r=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(function(s){r.detectors[s]&&r.detectors[s].cacheUserLanguage(t,r.options)}))}}]),n}();DP.type="languageDetector";pi.use(IP).use(DP).use(X$).init({backend:{loadPath:"./locales/{{lng}}/translation.json"},fallbackLng:"en",debug:!1,detection:{order:["queryString","cookie"],cache:["cookie"]},interpolation:{escapeValue:!1}});Qv.createRoot(document.getElementById("root")).render(Te.jsx(M.StrictMode,{children:Te.jsx(VX,{store:Xq,children:Te.jsx(WY,{children:Te.jsx(jq,{})})})}));
